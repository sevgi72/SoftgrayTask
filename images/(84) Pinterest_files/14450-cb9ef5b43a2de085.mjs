(self.modernJsonp=self.modernJsonp||[]).push([["14450"],{396903(e,t,n){n.d(t,{AF:()=>I,HA:()=>S,IK:()=>L,K0:()=>h,LT:()=>C,Ve:()=>_,uo:()=>k});var a=n(61163),r=n(859471),i=n(33658),o=n(136095),l=n(81920),s=n(562615);let c={},u={},d={},p=!1,g=0,m={},f={},y=(0,r.createContext)({setMetric:()=>void 0,setRawData:()=>void 0,setRmaData:()=>void 0,updateCommitTimeMap:()=>void 0,setGroupTags:()=>void 0,commitTimeMap:{},wasHealthCheckFiredRef:{current:!1}});function h({children:e}){(0,r.useEffect)(()=>{(0,a.A)("RenderPerformanceContext","/app/common/react/components/ProfilerWithStats/RenderPerformanceContext.tsx")},[]);let t=(0,r.useRef)(!1),n=(0,r.useCallback)(({handlerId:e,componentId:t,uniqueId:n,metric:a})=>{c[e]||(c[e]={}),c[e][t]||(c[e][t]={}),c[e][t][n]=a},[]),o=(0,r.useCallback)(({handlerId:e,componentId:t,uniqueId:n,rawData:a})=>{d[e]||(d[e]={}),d[e][t]||(d[e][t]={}),d[e][t][n]||(d[e][t][n]=[]),d[e][t][n].push(a)},[]),l=(0,r.useCallback)(({id:e,path:t,fragmentName:n,executionTime:a,newData:r})=>{if(p)return;let o=`${n}.${e}`;u[t]||(u[t]={}),u[t][o]||(u[t][o]={totalRenderTime:0,previousData:{},renderCount:0,resultUpdatedCount:0,wastedTime:0});let l=u[t][o];(0,i.Ay)(r,l.previousData)?(l.wastedTime+=a,g+=a):l.resultUpdatedCount+=1,l.totalRenderTime+=a,l.renderCount+=1,l.previousData=r},[]),h=(0,r.useCallback)((e,t)=>{let n=`${Math.floor(e)}`;m[n]?m[n].push(t):m[n]=[t]},[]),_=(0,r.useCallback)((e,t)=>{f[e]=[...new Set(t)]},[]),k=(0,r.useMemo)(()=>({setMetric:n,setRawData:o,setRmaData:l,updateCommitTimeMap:h,setGroupTags:_,commitTimeMap:m,wasHealthCheckFiredRef:t}),[n,l,o,h,t,_]);return(0,s.jsx)(y,{value:k,children:e})}function _(){return(0,r.use)(y)}function k(e){let t,n,a,r,i={},l=(n=(t=Object.keys(m)).length,a=t.sort().slice(0,n),r={},a.forEach(e=>{let t=m[e];if(!t)return;let n=t.sort((e,t)=>e.startTime-t.startTime);for(let e=0;e<n.length;e+=1){let t=n[e],a=n[e+1];if(t&&a){let{startTime:e,id:n,uniqueId:i,actualDuration:o}=t,{startTime:l}=a,s=l<e+o?l-e:o;r[n]||(r[n]={}),r[n][i]||(r[n][i]=0),r[n][i]+=s}else if(t){let{actualDuration:e,id:n,uniqueId:a}=t;r[n]||(r[n]={}),r[n][a]||(r[n][a]=0),r[n][a]+=e}}}),r);return Object.keys(l).forEach(t=>{Object.keys(c[e]?.[t]??{}).forEach(n=>{let a=(0,o.SB)(t,n),r=l[t]?.[n],s=c[e]?.[t]?.[n];if(!r||!s)return;let u=s.mountTime??0,d=s.mountCount??0,p=s.updatesCount??0,g=Number(r.toFixed(2)),m=Number((u+g).toFixed(2)),y=p>0?Number((g/p).toFixed(2)):0,h=s.memoizationDeltaArray??[],_=Math.max(...h),k=h.reduce((e,t)=>e+t,0)/h.length,S=s.memoizationRatioArray??[],L=Math.max(...S),I=S.reduce((e,t)=>e+t,0)/S.length,C={...s,totalCount:d+p,totalTiming:m,updatesCount:p,updateTiming:g,averageUpdateTiming:y,maxMemoizationDelta:_,averageMemoizationDelta:k,maxMemoizationRatio:L,averageMemoizationRatio:I};i[t]||(i[t]={}),i[t][n]={groupTags:f[a]??[],metrics:C}})}),i}function S(e){return d[e]}function L(e){return["www/index.js","www/homefeed.js","www/pin/[id].js","www/collage-creation-tool.js","www/search/[scope].js"].includes(e)}function I(e){let t=u[e],n={};p=!0,t&&Object.keys(t).length&&L(e)&&(Object.entries(t).forEach(([e,t])=>{let[a]=e.split(".");a&&!n[a]&&(n[a]=!0,(0,l.U9)(`render_stats.rma.${a}.renderCount`,t.renderCount,{sampleRate:1}),(0,l.U9)(`render_stats.rma.${a}.resultUpdatedCount`,t.resultUpdatedCount,{sampleRate:1}),(0,l.N9)(`render_stats.rma.${a}.renderTime`,t.totalRenderTime,{sampleRate:1}),(0,l.N9)(`render_stats.rma.${a}.wastedTime`,t.totalRenderTime,{sampleRate:1}))}),(0,l.N9)("render_stats.rma.totalWastedTime",g,{sampleRate:1,tags:{path:e}}))}function C(){c={},u={},d={},m={},p=!1,g=0}},923884(e,t,n){n.d(t,{A:()=>a});function a(e,t){throw Error(t??`Unexpected value in assertNever: ${JSON.stringify(e)}`)}},662896(e,t,n){n.d(t,{A:()=>g,b:()=>u});var a=n(829597),r=n.n(a),i=n(669897),o=n(919385);let l=(e,t)=>{let{condition:n,passingValue:a}=e,r=t[n];return void 0===r||r===a};var s=n(934503),c=n(81920);let u=Symbol("inlineFragmentSpread"),d=({conditionContext:e,fragmentName:t,mutableOutput:n,parentType:a,selections:i,legacyData:c,paginationInfo:p,refetchInfo:g,getDataFromRedux:m,interceptedEntities:f,isInterceptedEntitiesExperimentEnabled:y})=>{for(let h of i)switch(h.kind){case"ScalarField":{let{alias:e,name:t}=h;n[e??t]=(0,o.Kp)(t,a,c);break}case"LinkedField":{let{alias:i,name:l,concreteType:s,plural:u,selections:_}=h,k=i??l,S=(0,o.Nz)(c,a,h);if(null==S){n[k]=S;break}let L=(0,o.zu)({...S}),I=S;if(null!=L&&null!=S&&"object"==typeof S&&"id"in S&&"string"==typeof S.id){let e=m(S.id,L);"Intercepted"===e.kind&&!f.some(e=>e.id===S.id)&&(f.push({id:S.id,type:L}),y&&(I=e.data??S))}if(u){let a=(0,o.h6)({untypedInput:I,concreteType:s}),i=n[k];r()(!i||Array.isArray(i),"plural data must be an array"),n[k]=a?.filter(Boolean).map((n,a)=>{let r=i?.[a]??{};return d({conditionContext:e,fragmentName:t,mutableOutput:r,parentType:s,selections:_,legacyData:n,refetchInfo:g,paginationInfo:p,getDataFromRedux:m,interceptedEntities:f,isInterceptedEntitiesExperimentEnabled:y}),r})}else{r()("object"==typeof I,`Value for ${l} must be an object${s?` with type ${s}`:""}, but a ${typeof I} is given`);let a=n[k]??{};"HasMissingData"===d({conditionContext:e,fragmentName:t,mutableOutput:a,parentType:s,selections:_,legacyData:I,refetchInfo:g,paginationInfo:p,getDataFromRedux:m,interceptedEntities:f,isInterceptedEntitiesExperimentEnabled:y})?n[k]=null:n[k]=a}break}case"InlineFragment":{let{abstractKey:a,type:i,selections:l}=h;if(r()(null!=i&&null===a,"We only support using inline fragment to refine to concrete types for now. Contact @jackhsu or @robertbalicki"),null==c)break;let s=c,u=(0,o.zu)(s);if(null!=u){let e=m(s.id,u);"Intercepted"===e.kind&&(f.some(e=>e.id===s.id)||f.push({id:s.id,type:u}),((0,o.ZH)(s)||y)&&(s=e.data??c))}if(null!=u&&(0,o.GM)(i,u)&&"HasMissingData"===d({conditionContext:e,fragmentName:t,mutableOutput:n,parentType:i,selections:l,legacyData:s,paginationInfo:p,refetchInfo:g,getDataFromRedux:m,interceptedEntities:f,isInterceptedEntitiesExperimentEnabled:y}))return"HasMissingData";break}case"Condition":{let{selections:r}=h;if(l(h,e)&&"HasMissingData"===d({conditionContext:e,fragmentName:t,mutableOutput:n,parentType:a,selections:r,legacyData:c,paginationInfo:p,refetchInfo:g,getDataFromRedux:m,interceptedEntities:f,isInterceptedEntitiesExperimentEnabled:y}))return"HasMissingData";break}case"FragmentSpread":(0,s.LI)(n,{kind:"LegacyData",singularLegacyData:c,refetchInfo:g,paginationInfo:p});break;case"ClientExtension":if("HasMissingData"===d({conditionContext:e,fragmentName:t,mutableOutput:n,parentType:a,selections:h.selections,legacyData:c,paginationInfo:p,refetchInfo:g,getDataFromRedux:m,interceptedEntities:f,isInterceptedEntitiesExperimentEnabled:y}))return"HasMissingData";break;case"InlineDataFragmentSpread":{let t={},{selections:r,name:i}=h;if("HasMissingData"===d({conditionContext:e,fragmentName:i,mutableOutput:t,parentType:a,selections:r,legacyData:c,paginationInfo:p,refetchInfo:g,getDataFromRedux:m,interceptedEntities:f,isInterceptedEntitiesExperimentEnabled:y}))return"HasMissingData";n[u]||(n[u]={}),n[u][i]=t;break}case"RequiredField":if(d({conditionContext:e,fragmentName:t,mutableOutput:n,parentType:a,selections:[h.field],legacyData:c,paginationInfo:p,refetchInfo:g,getDataFromRedux:m,interceptedEntities:f,isInterceptedEntitiesExperimentEnabled:y}),null==n[h.field.alias??h.field.name])if("THROW"!==h.action)return"HasMissingData";else throw Error("Required field is null or undefined");break;case"Defer":case"Stream":case"ActorChange":case"FlightField":case"ModuleImport":case"RelayResolver":case"ClientEdge":throw Error(`The selection type '${h.kind}' is not supported yet. Contact @jackhsu or @robertbalicki`);default:throw Error("Unexpected selection type")}return"NoMissingData"},p=new Set;function g({conditionContext:e,fragment:t,legacyData:n,paginationInfo:a,refetchInfo:l,getDataFromRedux:s,interceptedEntities:u,isInterceptedEntitiesExperimentEnabled:g}){let m,f=(0,i.getFragment)(t);try{m=function({conditionContext:e,fragment:t,legacyData:n,paginationInfo:a,refetchInfo:i,getDataFromRedux:l,interceptedEntities:s,isInterceptedEntitiesExperimentEnabled:c}){let u=(0,o.zu)(n),p=n;if(null!=u){let e=l(n.id,u);e&&"Intercepted"===e.kind&&!s.some(e=>e.id===n.id)&&(s.push({id:n.id,type:u}),c&&(0,o.ZH)(n)&&(p=e.data??n))}if(null==t.abstractKey){let e=null!=p?(0,o.zu)(p):null;null!=e&&r()((0,o.GM)(t.type,e),`fragment data type '${t.type}' does not match legacy data type '${e}'. See http://pinch.pinadmin.com/fragment-data-type-does-not-match-legacy-data-type.`)}let g={};return"NoMissingData"===d({conditionContext:e,fragmentName:t.name,mutableOutput:g,parentType:t.type,selections:t.selections,legacyData:p,paginationInfo:a,refetchInfo:i,getDataFromRedux:l,interceptedEntities:s,isInterceptedEntitiesExperimentEnabled:c})?g:null}({conditionContext:e,fragment:f,legacyData:n,paginationInfo:a,refetchInfo:l,getDataFromRedux:s,interceptedEntities:u,isInterceptedEntitiesExperimentEnabled:g})}catch(t){throw p.has(f.name)||(p.add(f.name),(0,c.GV)("autoLegacyAdapter.erroredReadResults",{sampleRate:1,tags:{fragmentName:f.name,rootId:n.id,rootType:n.type,url:window.location.href,isAuth:e.isAuth}})),t}return m??null}},919385(e,t,n){n.d(t,{zw:()=>I,ZH:()=>P,GM:()=>v,Kp:()=>S,zu:()=>D,Nz:()=>C,h6:()=>L});var a=n(829597),r=n.n(a),i=n(865949);let o=function(e){if(e.images){let t={};for(let[n,a]of Object.entries(e.images))a?t[n]={url:a.url??null,width:a.width??null,height:a.height??null,dominantColor:a.dominantColor??void 0}:t[n]=null;return t}let t={},n=e.dominant_color;if(e.image_square_url&&(t["136x136"]={url:e.image_square_url,width:e.image_square_size_pixels?.width??void 0,height:e.image_square_size_pixels?.height??void 0,dominantColor:n??void 0}),e.image_medium_url){let a=e.image_medium_size_pixels?.width,r=e.image_medium_size_pixels?.height;a&&a<=236?t["236x"]={url:e.image_medium_url,width:a??void 0,height:r??void 0,dominantColor:n??void 0}:a&&a<=474?t["474x"]={url:e.image_medium_url,width:a??void 0,height:r??void 0,dominantColor:n??void 0}:t["170x"]={url:e.image_medium_url,width:a??void 0,height:r??void 0,dominantColor:n??void 0}}if(e.image_large_url){let a=e.image_large_size_pixels?.width,r=e.image_large_size_pixels?.height;t["736x"]={url:e.image_large_url,width:a??void 0,height:r??void 0,dominantColor:n??void 0},t.orig={url:e.image_large_url,width:a??void 0,height:r??void 0,dominantColor:n??void 0}}return Object.keys(t).length>0?t:null},l={vDASHHEVCSLCONTROL:"V_DASH_HEVC_SL_CONTROL",vHLSHEVC2SEC:"V_HLS_HEVC_2_SEC",vHLSHEVCSLCONTROL:"V_HLS_HEVC_SL_CONTROL",vHLSSINGLEFILECMAFEXP:"V_HLS_SINGLE_FILE_CMAF_EXP",vHLSSINGLEFILECONTROL:"V_HLS_SINGLE_FILE_CONTROL",vHLSSINGLEFILETSEXP:"V_HLS_SINGLE_FILE_TS_EXP",vHLSSLCONTROL:"V_HLS_SL_CONTROL",vHLSV3:"V_HLSV3",vHLSV3EXP:"V_HLSV3_EXP",vHLSV3MOBILE:"V_HLSV3_MOBILE",vHLSV3WEB:"V_HLSV3_WEB",vHLSV4:"V_HLSV4",vLOWBITRATEEXPHLSHEVCCONTROL:"V_LOW_BITRATE_EXP_HLS_HEVC_CONTROL",vLOWBITRATEEXPHLSHEVCLOB:"V_LOW_BITRATE_EXP_HLS_HEVC_LOB",vLOWBITRATEEXPHLSHEVCLQS:"V_LOW_BITRATE_EXP_HLS_HEVC_LQS"},s=/(\d\d0P)(\d\d0K)/,c=/QVBR(8|10)/,u=/(EXP\d?|ADSHQ|AVC|DASH|MANI|HIGHQUAL|HEVC|HLS|H265|H264|720P?|MP4|ENABLED|CONTROL|PROD|T\d|Q?VBR\d*|AUTOABR|MEDIACONVERT|QUALITY|REARRANGED|REMHIGHRES|VISIONULAR|480$|640$|V2$|\dSEC$|\d\d0P\d\d0K$)/g,d=/^v/,p=/[A-Z]/g,g=/^_/,m=e=>e.replace(p,e=>`_${e.toLowerCase()}`).replace(g,""),f=["actionOptions","feedbackText","selectedItem","savedInfo","undoCallbackProps"],y=["boardId","localPinId","showFeedback","showFeedbackOverlay","sectionId","subTitle","viewType","viewParameter"],h=(e,t)=>{if(y.includes(e))return e;switch(e){case"entityId":return"id";case"__id":return r()(t.node_id,"node_id is missing. Please only select the __id field on objects which have an id field."),"node_id";default:return m(e)}},_=e=>"StoryPinPage"===e||"StoryPinImageBlock"===e,k=(e,t,n)=>{if(_(n)){if("images"===e)return"image";else if("imagesAdjusted"===e)return"image_adjusted"}if("PinTagChipImagesPerSpec"===n&&"image"===e)return"images";if("VideoDetail"===t)return l[e]??e.replace(u,"_$1").replace(s,"$1_$2").replace(c,"QVBR_$1").replace("ADSHQ","ADS_HQ").replace("HIGHQUAL","HIGH_QUAL").replace("REMHIGHRES","REM_HIGH_RES").replace(d,"V");if(f.includes(e))return e;if("AnalyticsTopPinsData"===n||"AnalyticsTopProductGroupsData"===n||"AnalyticsTopBoardsData"===n)switch(e){case"dateAvailability":return m(e);case"video10sView":return"VIDEO_10S_VIEW";case"quartile95PercentView":return"QUARTILE_95_PERCENT_VIEW";default:return m(e).toUpperCase()}if("AnalyticsDateAvailabilityMetricData"===n)switch(e){case"video10sViewReformatted":return"VIDEO_10S_VIEW";case"quartile95PercentViewReformatted":return"QUARTILE_95_PERCENT_VIEW";default:return m(e).toUpperCase()}if("ProductGroup"===n&&"coverImagesArray"===e)return"cover_images";switch(e){case"reactionCountsData":return"reaction_counts";case"videoDataV2":return"video";case"formattedCloseupDescription":return"formatted_description";case"annotationsWithLinksArray":return"annotations_with_links";default:return m(e)}},S=(e,t,n)=>{if("Video"===t&&"duration"===e)return n?.duration!=null?n.duration:Object.values(n?.video_list||{}).find(e=>e?.duration!=null)?.duration;if("__typename"===e)return t??function(e){if(!e)return null;if("string"==typeof e.type)return(0,i.Dh)(e.type);if("number"==typeof e.block_type){let t=e.block_type.toString();return t in w?w[t]:null}return null}(n);if("AnalyticsSummaryMetricsData"===t&&n)switch(e){case"video10sView":case"video10sViewFloat":return n.VIDEO_10S_VIEW;case"quartile95PercentView":return n.QUARTILE_95_PERCENT_VIEW;default:let a=h(e.replace("Float",""),n).toUpperCase();return n?.[a]}if("MetricStatusesReformatted"===t&&n)switch(e){case"video10sView":return n.VIDEO_10S_VIEW;case"quartile95PercentView":return n.QUARTILE_95_PERCENT_VIEW;default:let r=h(e,n).toUpperCase();return n?.[r]}if("AnalyticsDeltaMetricData"===t&&n){let t=h(e,n).toUpperCase();return n?.[t]}if("ProductGroup"===t&&n&&"entityIdGraphql"===e)return n.id;var o=n?.[h(e,n)];switch(e){case"reactionType":return"string"==typeof o?Number(o):o;case"campaignId":case"pinPromotionId":return"number"==typeof o?String(o):o;default:return o}},L=({untypedInput:e,concreteType:t})=>{if(!e)return null;switch(r()("object"==typeof e,"legacy data must be an object"),t){case"AnalyticsMetricSeriesTypeData":if(Array.isArray(e))return e;return Object.entries(e).map(([e,t])=>({key:e,series:t}));case"AnnotationsWithLinks":return Object.entries(e).map(([e,t])=>({name:t.name,url:t.url}));case"MessageReactions":if(Array.isArray(e)&&e.length>0)return e.flatMap(e=>Object.keys(e).map(t=>({user_id:t,reaction_text:e[t]})));return null;case"ReactionCountModel":return Object.entries(e).map(([e,t])=>({reaction_type:e,reaction_count:t}));case"PinThroughProperties":case"ThroughProperties":case"TrackingParamsMap":return Object.entries(e).map(([e,t])=>({key:e,data:t}));case"DescriptionSpecDetail":if(Array.isArray(e)){let t=[];return e.forEach(e=>{if(e)for(let n of Object.entries(e))t.push({key:n[0],value:n[1]})}),t}return Object.entries(e).map(([e,t])=>({key:e,value:t}));default:if(Array.isArray(e))return e;return Object.entries(e).map(([e,t])=>({key:e,value:t}))}},I=(e,t,n,a)=>{if("data"===e&&null==n)return a;let r=k(e,t,n);return a?.[r]??a?.[e]},C=(e,t,n)=>{let{args:a,name:i,plural:l}=n;if("PinTagChipImagesPerSpec"===t&&"image"===i)return e?.images?.["750x"];let s=e?.[k(i,n.concreteType,t)];if("images"===i&&"Pin"===t&&!s){let t=o(e);t&&(s=t)}if(!s)return s;if("MultiPinShare"===t&&"pins"===i)return Array.isArray(s)?{kind:"pin_pins_connection_container",type:"PinPinsConnectionContainer",connection:{edges:s.map(e=>({node:e}))}}:null;if("collaboratingUsers"===i){let t=e?.collaborating_users;return null==t?null:{kind:"user_collaborating_users_connection_container",connection:{edges:t.map(e=>({node:e}))}}}let c=(({args:e,name:t})=>{let n=e.find(e=>e.name===t);return n&&"string"==typeof n.value?n.value:null})({args:a??[],name:"spec"});if(c){if(r()("object"==typeof s,"value must be an object"),_(t)){let{dominant_color:e,images:t}=s;if(!t)return t;r()("object"==typeof t,"images must be an object");let n=t["orig"===c?"originals":c];return n&&e?{...n,dominant_color:e}:n}return l&&Array.isArray(s)?s.map(e=>e[c]).filter(e=>null!=e):s[c]}return s},E={HeadingBlock:"StoryPinHeadingBlock",IngredientBlock:"StoryPinIngredientBlock",InstantContentURLNavigateAction:"InstantContentActionUrlNavigate",InstantContentHeaderBlock:"InstantContentHeader",InstantContentParagraphBlock:"InstantContentParagraph",InstantContentTextBlock:"InstantContentText",InstantContentHeadingBlock:"InstantContentHeading",InstantContentImageBlock:"InstantContentImage",InstantContentVideoBlock:"InstantContentVideo",InstantContentTableBlock:"InstantContentTable",InstantContentGroupBlock:"InstantContentGroup",InstantContentOrderedListBlock:"InstantContentOrderedList",InstantContentUnorderedListBlock:"InstantContentUnorderedList",InstantContentSectionBlock:"InstantContentSection",InstantContentSeparatorBlock:"InstantContentSeparator",InstantContentUserBlock:"InstantContentUser",InstantContentWebBlock:"InstantContentWeb",InstantContentPromotedWebBlock:"InstantContentPromotedWeb",LinkBlock:"StoryPinLinkBlock",ParagraphBlock:"StoryPinParagraphBlock",SupplyBlock:"StoryPinSupplyBlock",TextBlock:"StoryPinTextBlock",DescriptionString:"FormattedDescriptionParagraphComponent",DescriptionHeader:"FormattedDescriptionHeaderComponent",DescriptionPoints:"FormattedDescriptionPointsComponent",DescriptionStringBold:"FormattedDescriptionBoldComponent",DescriptionTable:"FormattedDescriptionTableComponent",DescriptionSpecs:"FormattedDescriptionSpecsComponent",RichPinProductMetadata:"RichProductMetadata",ConversationMessage:"Message"},A={tempmessage:"message"},b=["article","board","pin","story"],P=e=>"schema"in e&&"string"==typeof e.schema&&b.includes(e.schema),v=(e,t)=>(E[e]??e).toLowerCase()===(A[t]??t),w={0:"StoryPinParagraphBlock",1:"StoryPinHeadingBlock",2:"StoryPinImageBlock",3:"StoryPinVideoBlock",4:"StoryPinLinkBlock",5:"StoryPinIngredientBlock",6:"StoryPinSupplyBlock",7:"StoryPinListBlock",8:"StoryPinKeyValueBlock",9:"StoryPinTextBlock",11:"StoryPinMusicBlock",12:"StoryPinMentionStickerBlock",13:"StoryPinProductStickerBlock",14:"StoryPinStaticStickerBlock",15:"StoryPinAnimatedStickerBlock",16:"StoryPinCommentReplyBlock",17:"StoryPinVirtualTryOnMakeupStickerBlock",18:"StoryPinAdBlock",19:"StoryPinGenericInteractiveStickerBlock"},T=/_/g,D=e=>{if("schema"in e&&"string"==typeof e.schema)return e.schema.toLowerCase();if("string"==typeof e.type)return e.type.replace(T,"").toLowerCase();if("number"==typeof e.block_type){let t=e.block_type.toString();return t in w?w[t].toLowerCase():void 0}}},61515(e,t,n){n.d(t,{A:()=>function e(t,n,l=null){let s={};return!function t(n,l,s,c){let u=function(e,t=null){let n=e.map(e=>"RequiredField"===e.kind?e.field:e),[a,r]=n.reduce((e,t)=>("InlineFragment"===t.kind?e[0].push(t):e[1].push(t),e),[[],[]]);if(1===a.length){let[e,n]=o(r);if(0===n.length){let[n,r]=o(a[0].selections),i=[...e,...n];return 0===i.length?{kind:"Uncategorized"}:{kind:"InlineFragmentWithTypename",typenameAliases:i,selections:r,concreteType:a[0].type,remainingPathCount:t}}}else if(1===n.length&&n[0]?.kind==="Condition"){let e=n[0];if(!e||"Condition"!==e.kind)throw Error("Error on @skip/@include directive");return{kind:"OnlyConditionWrapper",selections:e.selections,remainingPathCount:t}}else if(1===n.length&&"LinkedField"===n[0].kind){let e=n[0],a=e.concreteType??null;if(e.plural){let[n,r]=o(e.selections);if(r.length>0&&r.every(e=>"FragmentSpread"===e.kind))return{kind:"PluralLinkedFieldWithFragmentSpread",name:e.name,concreteType:a,typenameAliases:n,selections:r};if(1!==t)return{kind:"Uncategorized"}}if(null==a)return{kind:"OnlyLinkedFieldAndTypename",selections:e.selections,name:e.name,concreteTypeAndAliases:null,remainingPathCount:null==t?null:t-1};let[r,i]=o(e.selections);if(1===t){let t=e.alias??e.name,{pageInfoSelection:n,edgeSelection:a}=function(e){if(0===e.length||e.length>2||e.some(e=>"LinkedField"!==e.kind))throw Error("Unexpected selections");let t=e.reduce((e,t)=>{if("pageInfo"===t.name){if(null!==e.pageInfoSelection)throw Error("Expected only one pageInfo selection");e.pageInfoSelection=t}else{if(null!==e.edgeSelection)throw Error("Expected only one edge selection");e.edgeSelection=t}return e},{pageInfoSelection:null,edgeSelection:null});if(t.edgeSelection&&!t.edgeSelection.selections.find(e=>"node"===e.name))throw Error("Expected to find a node field inside of edges");return{pageInfoSelection:t.pageInfoSelection,edgeSelection:t.edgeSelection}}(i);if(null===a)throw Error("No edges found in connection field");let o=a.alias??a.name,{concreteType:l}=e;if(null==l&&r.length>0)throw Error("No concrete type found in connection field, so we cannot have __typename");let s=null!=l?{concreteType:l,typenameAliases:r}:null;return{kind:"ConnectionFieldAndTypename",selections:a.selections.filter(e=>"ScalarField"!==e.kind||"cursor"!==e.name),pageInfoSelection:n,nameOrAliasOfEdgesField:o,nameOrAliasOfConnectionField:t,concreteTypeAndAliases:s}}return{kind:"OnlyLinkedFieldAndTypename",selections:i,name:e.name,concreteTypeAndAliases:{concreteType:a,typenameAliases:r},remainingPathCount:null==t?null:t-1}}else if(n.length>0&&n.every(e=>"FragmentSpread"===e.kind))return{kind:"OnlyFragmentSpread"};return{kind:"Uncategorized"}}(n,c);switch(u.kind){case"OnlyConditionWrapper":{let{selections:e,remainingPathCount:n}=u;t(e,l,s,n);break}case"InlineFragmentWithTypename":{let{concreteType:e,typenameAliases:n,selections:a,remainingPathCount:r}=u;n.forEach(t=>l[t]=e),t(a,l,s,r);break}case"OnlyFragmentSpread":(0,i.LI)(l,s);break;case"OnlyLinkedFieldAndTypename":{let{name:e,selections:n,concreteTypeAndAliases:a,remainingPathCount:r}=u,i={};if(l[e]=i,a&&a.typenameAliases.length>0){let{concreteType:e,typenameAliases:t}=a;for(let n of t)i[n]=e}t(n,i,s,r);break}case"ConnectionFieldAndTypename":{let{nameOrAliasOfEdgesField:t,nameOrAliasOfConnectionField:n,pageInfoSelection:a,selections:r,concreteTypeAndAliases:i}=u;if("PaginationLegacyData"!==s.kind)throw Error("Error, expected a PaginationLegacyData kind for this query");let o={[t]:s.paginationLegacyData.map(t=>e(r,{kind:"LegacyData",refetchInfo:s.refetchInfo,paginationInfo:s.paginationInfo,singularLegacyData:t}))};if(a&&s.paginationInfo&&(o[a.alias??a.name]=null),null!=i){let{concreteType:e,typenameAliases:t}=i;for(let n of t)o[n]=e}l[n]=o;break}case"PluralLinkedFieldWithFragmentSpread":{let{name:e,concreteType:t,typenameAliases:n}=u;if("LegacyData"!==s.kind)throw Error("Expected LegacyData for PluralLinkedFieldWithFragmentSpread");let{singularLegacyData:a,refetchInfo:o,paginationInfo:c}=s,d=(0,r.zw)(e,t,null,a),p=(0,r.h6)({untypedInput:d,concreteType:t}),g=p?.map(e=>{let a={};if(t&&n.length>0)for(let e of n)a[e]=t;return(0,i.LI)(a,{kind:"LegacyData",singularLegacyData:e,refetchInfo:o,paginationInfo:c}),a})??[];l[e]=g;break}case"Uncategorized":throw Error("The query passed to useLazyLoadQueryOrLegacy contained unsupported/uncategorized elements. Please simplify the query.");default:(0,a.A)(u,"Unexpected category")}}(t,s,n,l),s}});var a=n(923884),r=n(919385),i=n(934503);function o(e){return e.reduce((e,t)=>("ScalarField"===t.kind&&"__typename"===t.name?e[0].push(t.alias??t.name):e[1].push(t),e),[[],[]])}},104088(e,t,n){n.d(t,{n:()=>r,z:()=>i});var a=n(934503);function r(e){if(Array.isArray(e)){let t=e[0];if(null==t)return{kind:"PluralLegacy",data:[],paginationInfo:null,refetchInfo:null};if(null!=t.__fragments)return{kind:"GraphQL",data:e};let n=(0,a.s8)(t);if(null!=n)return{kind:"PluralLegacy",data:e.map(e=>(e=>{let t=(0,a.Me)(e);if("LegacyData"===t.kind)return t.singularLegacyData;throw Error("Unexpected plural object")})(e)),paginationInfo:n.paginationInfo,refetchInfo:n.refetchInfo};throw Error("Expected either __fragments or [legacyDataSymbol]")}let t=(0,a.s8)(e);if(null!=t&&"LegacyData"===t.kind){let{singularLegacyData:e,refetchInfo:n,paginationInfo:a}=t;return{kind:"SingularLegacy",data:e,refetchInfo:n,paginationInfo:a}}if(e.__fragments)return{kind:"GraphQL",data:e};if("GraphQL"===e.type)return{kind:"GraphQL",data:e.data};if("Legacy"===e.type){let{data:t}=e;return Array.isArray(t)?{kind:"PluralLegacy",data:t,refetchInfo:null,paginationInfo:null}:{kind:"SingularLegacy",data:t,refetchInfo:null,paginationInfo:null}}if(null!=t&&"PaginationLegacyData"===t.kind){let{paginationLegacyData:e,refetchInfo:n,paginationInfo:a}=t;return{kind:"PaginationLegacyData",paginationLegacyData:e,refetchInfo:n,paginationInfo:a}}throw Error("Invalid value")}function i(e){return r(e).kind}},934503(e,t,n){n.d(t,{LI:()=>o,Me:()=>i,s8:()=>r});let a=Symbol("legacyData");function r(e){return e[a]}function i(e){return e[a]}function o(e,t){return e[a]=t,e}},865949(e,t,n){n.d(t,{$E:()=>c,$Z:()=>s,A:()=>o,Dh:()=>d,sk:()=>l});var a=n(859471),r=n(844255),i=n(971289);let o=()=>{let{isAuthenticated:e}=(0,r._8)(),t=(0,i.qJ)();return(0,a.useMemo)(()=>({isAuth:!!e,isDesktop:t}),[e,t])},l={" $fragmentSpreads":void 0," $fragmentType":void 0};function s(e){let{isAuthParam:t,isDesktop:n,authDesktopQuery:a,authMobileQuery:r,unauthDesktopQuery:i,unauthMobileQuery:o}=e;return t?n?a:r:n?i:o}function c(e){let{isAuthParam:t,isDesktop:n,authDesktopFragment:a,authMobileFragment:r,unauthDesktopFragment:i,unauthMobileFragment:o}=e;return t?n?a:r:n?i:o}let u=/(?:^|_)([a-z])/g;function d(e){return e.replace(u,(e,t)=>t.toUpperCase())}},59850(e,t,n){n.d(t,{A:()=>p});var a=n(859471),r=n(33658),i=n(662896),o=n(61515),l=n(865949),s=n(601185),c=n(81920),u=n(912849);function d({conditionContext:e,fragment:t,graphQLShapedData:n,dataKey:a,getDataFromRedux:o,handlerId:l}){let{data:s,paginationInfo:u,refetchInfo:d}=a,p=(0,i.A)({conditionContext:e,fragment:t,legacyData:s,paginationInfo:u,refetchInfo:d,getDataFromRedux:o,interceptedEntities:[],isInterceptedEntitiesExperimentEnabled:!1});if(!(0,r.Ay)(p,n)){let a=function e(t,n,a=""){let i=[];if((0,r.Ay)(t,n))return i;if(null===t||null===n||"object"!=typeof t||"object"!=typeof n)return i.push(a||"root"),i;for(let o of new Set([...Object.keys(t),...Object.keys(n)])){let l=a?`${a}.${o}`:o,s=t[o],c=n[o];o in t?o in n?(0,r.Ay)(s,c)||("object"!=typeof s||"object"!=typeof c||null===s||null===c||Array.isArray(s)||Array.isArray(c)?i.push(l):i.push(...e(s,c,l))):i.push(`${l} (removed)`):i.push(`${l} (added)`)}return i}(p,n);(0,c.GV)("webapp.graphql.autoLegacyAdapter.shadowMismatch",{sampleRate:1,tags:{fragmentName:t.name,differenceCount:a.length,isAuth:e.isAuth,handlerId:l}})}}let p=function({fragment:e,dataKey:t,validateSingularLegacy:n,getDataFromRedux:r}){let c=(0,l.A)(),p=(0,u.AJ)(),{anyEnabled:g,group:m}=(0,s.A)().checkExperiment("web_auto_legacy_adapter_intercepted_entities");return(0,a.useMemo)(()=>{if(t?.kind==="SingularLegacy"&&n(t)){let{data:n,refetchInfo:a,paginationInfo:o}=t,l=(0,i.A)({conditionContext:c,fragment:e,legacyData:n,paginationInfo:o,refetchInfo:a,getDataFromRedux:r,interceptedEntities:[],isInterceptedEntitiesExperimentEnabled:g});return"enabled_shadow_comparison"===m&&d({conditionContext:c,fragment:e,graphQLShapedData:l,dataKey:t,getDataFromRedux:r,handlerId:p}),[l]}if(t?.kind==="PluralLegacy"){let{data:n,refetchInfo:a,paginationInfo:o}=t,l=[],s=[];return n.forEach(n=>{let u=(0,i.A)({conditionContext:c,fragment:e,legacyData:n,paginationInfo:o,refetchInfo:a,getDataFromRedux:r,interceptedEntities:s,isInterceptedEntitiesExperimentEnabled:g});l?.push(u),"enabled_shadow_comparison"===m&&d({conditionContext:c,fragment:e,graphQLShapedData:u,dataKey:t,getDataFromRedux:r,handlerId:p})}),l}if(t?.kind==="PaginationLegacyData"){let n=e?.metadata?.connection?.[0]?.path?.length??null;return[(0,o.A)(e.selections,t,n)]}return null},[t?.kind==="PaginationLegacyData"?t.paginationLegacyData:t?.data])}},684540(e,t,n){n.d(t,{A:()=>r});var a=n(859471);function r(e,t){let n=(0,a.useRef)(null);if(null!=e){if(null==n.current)n.current=e;else if(n.current!==e)throw Error(`${t()}: reference type mismatch: expected ${n.current}, but received ${e}.`)}}},535273(e,t,n){n.d(t,{A:()=>y});var a=n(224989),r=n(669897),i=n(923884),o=n(684540),l=n(104088),s=n(59850),c=n(114795);let u=function(e,t){let{getDataFromRedux:n}=(0,c.A)(),a=(0,r.getFragment)(e),i=t?(0,l.n)(t):null,o=i?.kind==="GraphQL",u=(0,s.A)({fragment:a,dataKey:o?null:i,validateSingularLegacy:()=>!0,getDataFromRedux:n});return null===i?null:o?{dataKey:i,autoLegacyAdapterData:null}:{dataKey:i,autoLegacyAdapterData:u}};var d=n(859471),p=n(396903),g=n(601185),m=n(912849);let f=()=>{},y=function(e,t){let n=performance.now(),l=(()=>{let e=(0,m.AJ)(),{setRmaData:t}=(0,p.Ve)(),{checkExperiment:n}=(0,g.A)(),a=(0,d.useCallback)((n,a,i,o)=>{let l=performance.now()-a,s=(0,r.getFragment)(n),c=i&&"id"in i&&"string"==typeof i.id?i.id:null;c&&t({id:c,path:e,fragmentName:s.name,executionTime:l,newData:o})},[e,t]);return(0,p.IK)(e)&&n("web_render_performance_rma").anyEnabled?a:f})(),s=(0,r.getFragment)(e),c=u(e,t);(0,o.A)(c?.dataKey.kind,()=>s.name);let y=c?.dataKey.kind==="GraphQL"?c.dataKey.data:null,h=(0,a.useFragment)(e,y);if(null==c)return null;let{dataKey:_,autoLegacyAdapterData:k}=c;switch(_.kind){case"SingularLegacy":return l(e,n,_.data,k?.[0]),k?.[0];case"PluralLegacy":return l(e,n,_.data,k),k;case"GraphQL":return h;case"PaginationLegacyData":if(Array.isArray(t))throw Error("Unexpected Plural fragment");if(null!=(s?.metadata?.connection?.[0]?.path?.length??null))throw Error("Unexpected fragment containing a @connection directive. You should read this fragment with usePaginationFragmentOrLegacy instead.");return k?.[0];default:return(0,i.A)(_,"Unexpected case")}}},114795(e,t,n){n.d(t,{A:()=>i});var a=n(859471),r=n(106386);function i(){let e=(0,a.use)(r.ty),t=e?.store?.getState();return{getDataFromRedux:(0,a.useCallback)((e,n)=>{let a=null;switch(n){case"pin":a=t?.pins?.[e];break;case"story":a=t?.stories?.[e];break;case"board":a=t?.boards?.[e];break;case"article":case"explorearticle":case"todayarticle":a=t?.articles?.[e];break;default:a=null}return a?{kind:"Intercepted",data:a}:{kind:"NotIntercepted"}},[t])}}},136095(e,t,n){function a(e,t){return`${e}#${t}`}function r(e,t,n){return`${a(e,t)}${n.length>0?`#[${n.join("][")}]`:""}`}n.d(t,{SB:()=>a,tP:()=>r})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/14450-cb9ef5b43a2de085.mjs.map