(self.modernJsonp=self.modernJsonp||[]).push([["21794"],{977110(e,t,a){a.r(t),a.d(t,{default:()=>i});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CSSCarouselModule_parentPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_parentPin"}],type:"Pin",abstractKey:null};r.hash="d1542775568248acbce5a79453f4dffb";let i=r},599016(e,t,a){var r,i;a.r(t),a.d(t,{default:()=>o});let n={argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"CSSCarouselModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[i],storageKey:'images(spec:"236x")'},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"ItemRep_pin"}],type:"Pin",abstractKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[r],storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_story"},{args:null,kind:"FragmentSpread",name:"useCarouselModuleLogic_story"},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};n.hash="dee347ef77ae345e076b08494d4b664f";let o=n},352762(e,t,a){a.r(t),a.d(t,{default:()=>i});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null};r.hash="b5b71fb4390c1d3835e468a25f687669";let i=r},196635(e,t,a){a.r(t),a.d(t,{default:()=>i});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null};r.hash="e5a0b7dce2aa2313e4cf2c9871cbedf7";let i=r},659182(e,t,a){a.d(t,{A:()=>o});var r=a(601185),i=a(844255),n=a(971289);function o(){let{isAuthenticated:e}=(0,i._8)(),t=(0,n.M)(),{checkExperiment:a}=(0,r.A)();return{mWebCloseupRedesignEnabled:e&&t&&a("mweb_closeup_redesign").anyEnabled,mWebCloseupRedesignExpGroup:a("mweb_closeup_redesign").group}}},881541(e,t,a){a.d(t,{A:()=>_});var r,i,n=a(61163),o=a(859471);a(825193);var l=a(19821),s=a(586733),d=a(284387),u=a(535273),c=a(17881),p=a(377917),h=a(78284),g=a(704633),m=a(257361),f=a(971289),y=a(385800),x=a(562615);let w=(void 0!==r||(r=a(977110)).hash&&"d1542775568248acbce5a79453f4dffb"!==r.hash&&console.error("The definition of 'CSSCarouselModule_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),b=(void 0!==i||(i=a(599016)).hash&&"dee347ef77ae345e076b08494d4b664f"!==i.hash&&console.error("The definition of 'CSSCarouselModule_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function _({accessibilityLabelledBy:e,auxData:t,component:a,contentVisibleItemCountOverride:r,disableHeader:i,getProductTagAuxData:_,headerDisplayOptions:v,heading:I,itemRepSiblingNodeFactories:S,items:F,itemWidth:k,itemWidthHeightRatio:A,parentPinKey:T,renderItem:j,saveButtonOptions:C,showBorder:P,showMarkers:L=!1,showNavigationButtons:K=!0,storyKey:M,subtitle:R,surface:N,view:z=3,viewParameter:E,width:B}){(0,o.useEffect)(()=>{(0,n.A)("CSSCarouselModule","/app/packages/StructuredFeed/ModuleReps/CarouselModule/CSSCarouselModule.tsx")},[]);let{logContextEvent:D}=(0,s.o)(),W=(0,f.Ay)(),O=(0,f.bh)(W),$=(0,u.A)(w,T),H=(0,u.A)(b,M),U=H?.objects?[...H.objects]:[],J=U.map(e=>"Pin"===e.__typename?e.entityId:null),V=(0,o.useMemo)(()=>{let e=H?.storyType?{story_type:H.storyType}:void 0;return e&&t?{...t,...e}:e??t},[H?.storyType,t]),G=O?236:175,Y=k??G,q=H.displayOptions?.contentDisplay?.itemWidthHeightRatio??A??1,{web:X,mobile:Q}=H.displayOptions?.contentDisplay?.contentVisibleItemCount??{},Z=r??(O?X:Q),ee=!i&&(H?.storyTitle||I||R),{showModuleBorder:et,showExtraSmallSubtitle:ea,headerMarginBottom:er,isFixedWidthSlides:ei,moduleBorderStyle:en}=(0,g.A)({storyKey:H,styleOverrides:{showModuleBorder:P}}),eo=!ei&&!!Z&&!k,el=eo?"100%":Y,es=(0,o.useCallback)(({currentIndex:e,nextIndex:t})=>{if(void 0===e||e===t)return;let r=Number(J?.[e]);D({aux_data:V,event_type:108,component:a,view_type:z,view_parameter:E,event_data:{pinCarouselSlotEventData:{carouselSlotId:Number.isFinite(r)?r:void 0,carouselSlotIndex:e,toCarouselSlotIndex:t}}})},[V,a,J,D,z,E]),ed=(0,o.useCallback)(({item:e,index:t})=>{let r=()=>{let r;if(j)return j({item:e,index:t});if(t===U.length-1&&H.action?.text&&H.action?.url&&(r=H.action,r?.text&&r?.url&&h.$$.has(r?.location))){let t="Pin"===e.__typename&&e.images_236x?.url;return t&&(0,x.jsx)(c.A,{auxData:V,buttonText:H.action?.text,component:a,contentIds:H.contentIds??void 0,element:179,imageWidth:el,previewImageSrc:t,storyId:H.storyId??"",storyType:H.storyType,url:H.action.url,view:z,viewParameter:E})}let i="Pin"===e.__typename?_?.(e):void 0;return(0,x.jsx)(p.A,{auxData:{...i,...V},boardKey:null,component:a,imageWidth:el,isInDesktopCarousel:O,isInMobileCarousel:!O,item:null,itemWidthHeightRatio:q,parentPinKey:$,pinKey:"Pin"===e.__typename?e:null,productTagParentPinId:$?.entityId,relatedInterestKey:null,saveButtonOptions:C,slotIndex:t,storyKey:H,surface:N,view:z,viewParameter:E})},i=S?.[t];if(i){let e=r();return(0,x.jsx)(y.e,{children:t=>(0,x.jsx)(l.az,{position:"relative",children:(0,x.jsxs)(o.Fragment,{children:[e,i(t)]})})})}return r()},[U.length,a,_,O,S,el,q,V,$,j,C,H,N,z,E]);return(0,x.jsxs)(l.az,{borderColor:et?"decorative":void 0,borderWidth:et?en:void 0,dangerouslySetInlineStyle:{__style:{"--carousel-item-width":`${Y}px`,"--story-item-width-height-ratio":`${1/q}`,...eo&&{"--carousel-item-count":`${Z}`}}},direction:"column",display:"flex",rounding:et?400:void 0,width:B??"100%",children:[ee&&(0,x.jsx)(l.az,{marginStart:6,marginTop:4,children:(0,x.jsx)(m.A,{auxData:V,headerDisplayOptions:v,marginBottomOverride:er,showExtraSmallSubtitle:ea,storyKey:H,view:z,viewParameter:E})}),(0,x.jsx)(l.az,{position:"relative",children:(0,x.jsx)(d.A,{accessibilityLabelledBy:e,items:F??U,mode:"multi",onIndexChange:es,renderItem:ed,showNavigationButtons:K,showScrollMarkers:L})})]})}},326550(e,t,a){function r(e){return[0,24,21,26].includes(e)}function i({articleType:e,id:t,title:a}){let r=a.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${r}/${t}/`:`/discover/article/${r}/${t}/`}a.d(t,{I:()=>r,k:()=>i})},431802(e,t,a){a.d(t,{E2:()=>r,I0:()=>s,KU:()=>p,N9:()=>n,Rv:()=>o,X9:()=>i,Yl:()=>c,hh:()=>d,t8:()=>l});let r=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},i=(e,t,a)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(a/255)**2.2,n=e=>{let t=e.replace("#","");return(299*parseInt(t.substr(0,2),16)+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3<155},o=({hexColor:e,saturationMultiplier:t,brightnessMultiplier:a,minSaturationClamp:i,mixVal:n=1,minBrightnessClamp:o=0})=>{let l=r(e);null===l&&(l=[229,229,224]);let s=((e,t,a)=>{let r=Math.max(e/=255,t/=255,a/=255),i=r-Math.min(e,t,a),n=0;return 0!==i&&(n=(r===e?(t-a)/i+6*(t<a):r===t?(a-e)/i+2:(e-t)/i+4)*60)<0&&(n+=360),{h:n,s:0===r?0:i/r,b:r}})(...l),d=(e,t,a)=>Math.max(t,Math.min(e,a));s.s=d(s.s*(1+t),i,1),s.b=d(s.b*(1+a),o,1);let u=(({h:e,s:t,b:a})=>{let r=a*t,i=r*(1-Math.abs(e/60%2-1)),n=a-r,o=0,l=0,s=0;return e<60?(o=r,l=i):e<120?(o=i,l=r):e<180?(l=r,s=i):e<240?(l=i,s=r):e<300?(o=i,s=r):(o=r,s=i),{r:Math.round((o+n)*255),g:Math.round((l+n)*255),b:Math.round((s+n)*255)}})({...s}),c=e=>({r:Math.round(u.r*n+e*(1-n)),g:Math.round(u.g*n+e*(1-n)),b:Math.round(u.b*n+e*(1-n))}),p=c(0),h=c(255);return[[p.r,p.g,p.b],[h.r,h.g,h.b]]};function l(e){if("string"!=typeof e)return{r:0,g:0,b:0,a:0};let t=e.trim(),a="rgba"===t.slice(0,4).toLowerCase(),r=!a&&"rgb"===t.slice(0,3).toLowerCase();if(!a&&!r)return{r:0,g:0,b:0,a:0};let i=t.indexOf("("),n=t.indexOf(")",i);if(-1===i||-1===n)return{r:0,g:0,b:0,a:0};let o=t.slice(i+1,n).split(",").map(e=>e.trim());if(a&&4!==o.length||r&&3!==o.length)return{r:0,g:0,b:0,a:0};let[l,s,d,u]=o,c=Number(l),p=Number(s),h=Number(d),g=a?Number(u):1;return[c,p,h].some(e=>Number.isNaN(e))||a&&Number.isNaN(g)?{r:0,g:0,b:0,a:0}:{r:c,g:p,b:h,a:g}}function s(e,t){let a=e.a+t.a*(1-e.a);return 0===a?{r:0,g:0,b:0,a:0}:{r:Math.round((e.r*e.a+t.r*t.a*(1-e.a))/a),g:Math.round((e.g*e.a+t.g*t.a*(1-e.a))/a),b:Math.round((e.b*e.a+t.b*t.a*(1-e.a))/a),a}}let d=e=>`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`,u=e=>e.toString(16).padStart(2,"0"),c=(e,t)=>{let a=r(e);if(!a)throw Error(`Invalid hex color: ${e} for lightenHexByPercentage`);let[i,n,o]=a,l=Math.max(0,Math.min(100,t))/100,s=Math.round(i+(255-i)*l),d=Math.round(n+(255-n)*l),c=Math.round(o+(255-o)*l);return`#${u(s)}${u(d)}${u(c)}`},p=(e,t)=>d(((e,t)=>{let a=r(e);if(!a)throw Error(`Invalid hex color: ${e} for hexToRgba`);let[i,n,o]=a;return{r:i,g:n,b:o,a:Math.max(0,Math.min(1,t))}})(e,t))},657381(e,t,a){a.d(t,{MZ:()=>o,O5:()=>l,WH:()=>r,iA:()=>n,jy:()=>i,mQ:()=>s});let r=157.33333333333334,i=(e=!1,t=!1)=>e?t?16:12:24,n=({defaultItemWidth:e,contentVisibleItemCount:t,gap:a,moduleWidth:r})=>t||r?(r-((Math.ceil(t)+1)*a+8))/t:e,o=(e,t,a)=>{let r=a?3:2,i=t?5:r,n=t?236:175,o=t?16:8,l=n*i+o*i-(t||!t&&a?12:6);if(!e)return l;for(let t=i;t>=2;t-=1)if(e>l)break;else l=n*t+o*t;return l};function l(e){let t=Object.values(e.videos?.video_list??{}).find(e=>"number"==typeof e.width&&"number"==typeof e.height);return t?{width:t.width,height:t.height}:{width:0,height:0}}function s(e){return!!(e&&"is_premiere"in e&&e.is_premiere&&"videos"in e&&e.videos)}},161916(e,t,a){a.d(t,{A:()=>d});var r=a(859471),i=a(106386),n=a(810972),o=a(212244),l=a(120649);let s=(e,t,a)=>e.resources[t]?.[a];function d(e){let{name:t,optionsKey:a}=e??{name:"",optionsKey:""},d=t===o.W,u=(0,l.uN)(),c=u?.get(t,a);if(c)throw c;let p=(0,n.createSelector)(e=>s(e,t,a),e=>e?.data),h=(0,n.createSelector)(e=>s(e,t,a),e=>e?.auxData),g=(0,n.createSelector)(e=>s(e,t,a),e=>e?.error),m=(0,n.createSelector)(e=>s(e,t,a),e=>e?.nextBookmark),f=(0,i.d4)(m),y=(0,i.d4)(p),x=(0,i.d4)(h),w=(0,i.d4)(g),b=(0,r.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(d)return b.current;let _={auxData:x,data:y,error:w,isAtEnd:"-end-"===f,nextBookmark:f};return(_.auxData!==b.current.auxData||_.data!==b.current.data||_.error!==b.current.error||_.isAtEnd!==b.current.isAtEnd||_.nextBookmark!==b.current.nextBookmark)&&(b.current=_),b.current}},733048(e,t,a){a.d(t,{A:()=>r});function r(e){switch(e){case -1:return null;case 0:return"shopping-bag";case 1:return"tag";case 9:return"clock-history";default:return"magnifying-glass"}}},825179(e,t,a){a.d(t,{Ir:()=>H,RM:()=>O,Ay:()=>V});var r=a(61163),i=a(859471),n=a(106386),o=a(979638),l=a(19821),s=a(296221),d=a(210909),u=a(411805),c=a(538329),p=a(538678),h=a(844255),g=a(161916),m=a(430705),f=a(485321),y=a(971289),x=a(924276);let w=new Map;var b=a(439524),_=a(780355),v=a(515568),I=a(47818),S=a(765346),F=a(160587),k=a(937176),A=a(654657),T=a(189851),j=a(699613),C=a(659664),P=a(8627),L=a(134820),K=a(39412),M=a(411812),R=a(785953),N=a(408738),z=a(562615);function E(e,t,a){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let B=(0,N.A)(()=>a.e("5852").then(a.bind(a,236184)),void 0,e=>236184,"app-www-businessNux-BizNuxHomefeedLoader",e=>["5852"]),D=(0,N.A)(()=>a.e("85496").then(a.bind(a,211592)),void 0,e=>211592,"app-www-save-board-MoreIdeasFeed-MoreIdeasFeed",e=>["85496"]);class W extends i.PureComponent{constructor(...e){super(...e),E(this,"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:this.props.authHomefeedComponentDidUpdate?{pinId:(()=>{let{plpImageRenderData:e}=(0,S.of)(),[t]=e;return t?t.pin_id:null})(),feedItem:null}:null}),E(this,"backOnlineAutoFetchResource",()=>{this.props.pagination.loadNext()}),E(this,"handlePullToRefresh",()=>{this.props.pagination.refetch(),this.setState({refreshing:!0})}),E(this,"gridContainerRef",(0,i.createRef)()),E(this,"renderFeedPin",(e,t)=>{let{feedItemProps:a,location:r,performanceOptimization:i,showSeoMetadata:n,surface:o,trafficSource:l,getReduxPin:s}=this.props,{auxData:d,componentType:u,feedback:c,imageOnly:p,impressionData:h,objectIdStr:g,oneTapSave:m,onFeedItemClick:f,onPinLinkClick:y,shouldAllowProductPriceIndicator:x,showSeoMetadata:w,viewData:b,viewParameter:_,viewType:v}=a||{},I=(r.search||"").includes("force_seo"),S=!!i?.lazyLoadBelowFoldIndex&&t>i.lazyLoadBelowFoldIndex,F=!!i?.priorityFetchAboveFoldIndex&&t<=i.priorityFetchAboveFoldIndex,A=s(e.id);return(0,z.jsx)(k.A,{auxData:d,componentType:u||0,duploFeedItemProps:{onPinClick:f,onPinLinkClick:y,showSeoMetadata:n||I||w},duploLazyLoadImage:S,duploOneTapSave:m,duploPriorityFetchImage:F,duploShouldAllowProductPriceIndicator:x,feedback:c,imageOnlyOption:p?"image-only":"default",impressionData:h,objectIdStr:g,parentPinKey:null,pinKey:A?{type:"Legacy",data:A}:null,seoDrawerPinType:this.props.seoDrawerPinType,shouldShowSeoDrawerNewfields:this.props.shouldShowSeoDrawerNewfields,shouldShowSeoDrawerOption:this.props.shouldShowSeoDrawerOption,slotIndex:t,surface:o,trackingParams:e.trackingParams,trafficSource:l,viewData:b,viewParameter:_,viewType:v||1})}),E(this,"getBoardId",()=>{let e=this.props.feedKey?.split(":");return e&&e.length>1&&"boardfeed"===e[0]?e[1]:null}),E(this,"hideMoreIdeas",()=>{let{getReduxBoard:e,surface:t,trafficSource:a}=this.props,r=this.getBoardId(),i="board"===a&&["BaseBoardPinGrid","FeaturedBoardPinGrid"].includes(t??"")&&r?e(r):null;return i?.featured_board_metadata?.more_ideas===!1})}componentDidMount(){window.addEventListener("online",this.backOnlineAutoFetchResource),(0,b.N5)(this.props.feedKey,this)}componentWillUnmount(){window.removeEventListener("online",this.backOnlineAutoFetchResource),(0,b.GP)(this.props.feedKey)}componentDidUpdate(e){let{refreshing:t,unauthLandingPinStateForAuthHomefeed:a}=this.state,{feedItems:r,authHomefeedComponentDidUpdate:i}=this.props,n=t&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(n&&this.setState({refreshing:!1}),i&&a){let t=i({feedItems:r,prevFeedItems:e.feedItems,finishedRefresh:n,unauthLandingPinStateForAuthHomefeed:a});t&&this.setState({unauthLandingPinStateForAuthHomefeed:t})}}render(){let{deviceType:e,emptyState:t,experimentalColumnWidth:a,experimentalGutter:r,feedItemProps:n,feedItems:o,feedItemsAdjustment:u,feedKey:c,feedStoryId:h,getColumnSpanConfig:g,gridConfig:m,i18n:y,pageSize:w,pagination:b,pullToRefresh:S,renderFeedItem:k,serverRender:A,showBizNuxHomefeedLoader:T,trafficSource:j,visuallyCompleteProfilerOptions:C,isLoadingStateEnabled:N,initialLoadingStatePinCount:E,isLoadingAccessibilityLabel:W,isLoadedAccessibilityLabel:O}=this.props,{unauthLandingPinStateForAuthHomefeed:$}=this.state,H=$?.feedItem&&o.length?[$.feedItem,...o]:o,{viewParameter:U,viewType:J}=n||{},{gridMeasurementKey:V}=m||{},G=c+(V?`|${V}`:""),Y="user_search"===j,q=Y?window.innerWidth-16:void 0,X=H.some(e=>"board"===e.type),Q={columnWidth:(0,_.qG)({deviceType:e,customMWebColumnWidth:q,experimentalColumnWidth:X?236:a}),renderItem:({data:e,itemIdx:t})=>{if(k){let a=k(e,t);if("FALLBACK_TO_DEFAULT"!==a)return a}switch(e.type){case"pin":return(0,z.jsx)(P.A,{children:this.renderFeedPin(e,t)});case"user":return(0,z.jsx)(R.A,{truncateName:!0,userId:e.id,userSearchRepStyle:Y,viewParameter:U,viewType:J});case"board":let a=this.props.getReduxBoard(e.id);return(0,z.jsx)(x.default,{boardKey:a?{type:"Legacy",data:a}:null,type:"grid",viewParameter:U,viewType:J});case"topic":return(0,z.jsx)(K.A,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:U,viewType:J});case"story":if("number"==typeof U)return(0,z.jsx)(L.A,{slotIndex:t,storyId:e.id,viewParameter:U,viewType:J||1});return null;case"FEED_BREAK_IN":return u&&"breakIn"===u.type&&u.value.content;default:return null}},gutterWidth:(0,_.yC)({experimentalGutter:r,trafficSource:j,deviceType:e}),loadItems:b.loadNext,minCols:Y?1:2,...m},Z=!T&&b.isLoadingNext&&0===H.length&&!this.state.refreshing&&!N,ee=w&&25>parseInt(w,10),et=u?.type==="fullWidthBreakIn"?[{type:"feed",id:`${G}_feed_0`,item:H.slice(0,u.value.index)},{type:"fullWidthBreakIn",id:`${G}_break_in_0`,item:u.value.content},{type:"feed",id:`${G}_feed_1`,item:H.slice(u.value.index)}]:[{type:"feed",id:G,item:H}],ea="desktop"===e,er=ea&&"flashlight"===j,ei=er?0:-1;return(0,z.jsxs)(l.az,{"data-test-id":"MobileFeed",children:[(0,z.jsx)(v.A,{auxData:n?.auxData||null,enabled:!!S,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing,viewParameter:n?.viewParameter||null}),(0,z.jsxs)(l.az,{ref:this.gridContainerRef,"data-test-id":"grid",marginEnd:ei,marginStart:ei,opacity:this.state.refreshing?50:100,children:[(0,z.jsxs)(p.A,{includeBackgroundImages:C?.includeBackgroundImages,includeVideos:C?.includeVideos,isAtEndOfFeed:!b.hasNext,isPlaceholderGrid:N&&b.isLoadingNext&&!H.length,itemCount:H.length,pinData:C?.pins,children:[H.length||N&&b.isLoadingNext?(0,z.jsx)(l.az,{"data-test-id":"feed",marginTop:(0,_.xf)({isDesktop:ea}),children:(0,z.jsx)(f.A.Consumer,{children:e=>(0,z.jsx)(i.Fragment,{children:(0,z.jsx)(M.A,{children:et.map(t=>"feed"===t.type?(0,z.jsx)(d.default,{cacheKey:G,getColumnSpanConfig:g,id:A?c:void 0,initialLoadingStatePinCount:E,isFetching:b.isLoadingNext,isLoadedAccessibilityLabel:O??"",isLoadingAccessibilityLabel:W??"",isLoadingStateEnabled:!!N,items:t.item,scrollContainerRef:e,serverRender:A,...Q},t.id):"fullWidthBreakIn"===t.type?(0,z.jsx)(l.az,{children:t.item},t.id):null)})})})}):b.isLoadingNext?(0,z.jsx)(I.A,{}):t??null,b.isLoadingNext&&"board"===j&&ee&&!N&&(0,z.jsx)(l.y$,{accessibilityLabel:y.bt("Yükleniyor", "Loading", "Label for loading spinner", undefined, true),show:!0})]}),Z&&(0,z.jsx)(l.az,{column:12,paddingY:2,children:(0,z.jsx)(F.A,{partialViewportWidth:er})}),T&&(0,z.jsx)(B,{gridContainerRef:this.gridContainerRef,homefeedLoading:b.isLoadingNext}),!ea&&!b.hasNext&&(0,z.jsx)(s.nU,{placementId:1000251}),h&&!this.hideMoreIdeas()&&(0,z.jsx)(l.az,{marginBottom:6,children:(0,z.jsx)(D,{storyId:h})})]})]})}}function O({feedItems:e,pagination:t,...a}){(0,i.useEffect)(()=>{(0,r.A)("Feed","/app/www/Feed.tsx")},[]);let{feedItemsAdjustment:l}=a,s=(0,o.zy)(),d=(0,y.Ay)(),p=(0,c.A)(),{isAuthenticated:g,isBot:m}=(0,h._8)(),{isBizNuxHomefeedLoadShown:f}=(0,n.d4)(({session:e})=>e),x=e;l?.type==="breakIn"&&(x=(({breakIn:{index:e},items:t})=>t.length<e?t:[...t.slice(0,e),(e=>{let t=w.get(e);if(t)return t;let a=Object.freeze({type:"FEED_BREAK_IN",__typename:"FEED_BREAK_IN",id:`BREAK_IN_${e}`});return w.set(e,a),a})(e),...t.slice(e)])({items:e,breakIn:l.value}));let{experimentalColumnWidth:b,experimentalGutter:_}=(0,u.A)(),v=(0,T.oW)(),I=(0,j.HR)();return(0,z.jsx)(W,{...a,deviceType:d,experimentalColumnWidth:b,experimentalGutter:_,feedItems:x,getReduxBoard:v,getReduxPin:I,i18n:p,isAuthenticated:g,location:s,pagination:t,showBizNuxHomefeedLoader:!!f,showSeoMetadata:m||!g})}function $({isAtEnd:e,isFetching:t,fetchMore:a,refresh:r,...i}){let o=(0,n.d4)(({feeds:e})=>e[i.feedKey]??[]),l=(0,n.d4)(({desktopStories:e})=>e),{featuredBoardStoryId:s,feedStoryId:d}=(0,C.A)(o,l),u=(0,n.d4)(({session:e})=>e.firstHomeFeedRequestAfterNux),c=(0,n.wA)();return(0,z.jsx)(O,{...i,featuredBoardStoryId:s,feedItems:o,feedStoryId:d,pagination:{hasNext:!e,isLoadingNext:t,loadNext:()=>a(),refetch:()=>{u?c((0,A.ly)(!1)):r()}}})}function H({resource:{isAtEnd:e,isFetching:t,fetchMore:a,refresh:n},...o}){return(0,i.useEffect)(()=>{(0,r.A)("Feed","/app/www/Feed.tsx")},[]),(0,z.jsx)($,{...o,fetchMore:a,isAtEnd:e,isFetching:t,refresh:n})}function U({resourceConfig:e,...t}){let a=(0,m.A)(e);return(0,z.jsx)(H,{...t,resource:a})}function J({resourceRef:e,fetchMore:t,refresh:a,...r}){let{isAtEnd:i}=(0,g.A)(e);return(0,z.jsx)($,{...r,fetchMore:t,isAtEnd:i,isFetching:!1,refresh:a})}function V({resourceConfig:e,resourceRef:t,fetchMore:a,refresh:n,...o}){return((0,i.useEffect)(()=>{(0,r.A)("Feed","/app/www/Feed.tsx")},[]),t)?(0,z.jsx)(J,{...o,fetchMore:a??(()=>{}),refresh:n??(()=>{}),resourceRef:t}):(0,z.jsx)(U,{...o,resourceConfig:e})}},439524(e,t,a){a.d(t,{GP:()=>o,N5:()=>n,Y9:()=>i});let r={},i=e=>{r[e]&&r[e].handlePullToRefresh()},n=(e,t)=>{r[e]=t},o=e=>{delete r[e]}},8627(e,t,a){a.d(t,{A:()=>c});var r=a(61163),i=a(859471),n=a(971289),o=a(808571),l=a(994795),s=a(280814),d=a(562615);let u=new Set(["pin-card-hover-overlay","pin-card-hover-overlay-open-legend-wrapper","pin-card-hover-overlay-gradient-full"]);function c({children:e,headerHeightModifier:t}){(0,i.useEffect)(()=>{(0,r.A)("ScrollPinToTopToFeedOnTap","/app/www/ScrollPinToTopToFeedOnTap.tsx")},[]);let a=(0,o.g)(),c=(0,n.qJ)(),p=(0,i.useCallback)(e=>{if(function(e){let{nativeEvent:t}=e;return t instanceof MouseEvent&&(t.metaKey||t.ctrlKey||t.shiftKey||1===t.button)}(e))return;let{target:r}=e;if(r instanceof HTMLElement&&("IMG"===r.tagName||u.has(r.getAttribute("data-test-id")??""))){let e=r.getBoundingClientRect(),i=c?2*a:a,n=e.top+window.scrollY-i-(t??0);window.scrollTo(window.scrollX,n)}},[a,c,t]);return(0,d.jsx)(s.D,{children:(0,d.jsx)(l.A,{dataTestId:"scroll-pin-to-top-to-feed-on-tap",onTouch:p,pressState:"none",children:e})})}},765346(e,t,a){a.d(t,{Pi:()=>c,Wu:()=>d,of:()=>s,xx:()=>u});var r=a(706114),i=a(998556),n=a(81920);let o=e=>e>=Date.now()-72e5,l=(e,t)=>{let a=[];if(e)for(let r of e)(!t||r.is_shared)&&o(r.ts)&&a.push(r);return a},s=()=>{let e=(0,i.y1)().getItem(r.sH)??[],t=l(e,!1),a=l(e,!0),n=t.map(e=>e.first_pin_image_signature),s=a.map(e=>e.first_pin_image_signature),d=(e=>{let t={};if(e)for(let a of e)a.is_shared&&o(a.ts)&&a.pin_id&&(t[a.pin_id]={inviteCode:a.pin_invite_code});return t})(e);return{extraPlpImages:n,plpImageRenderData:t,extraBlpImages:l((0,i.y1)().getItem(r.xH)??[],!0).map(e=>e.first_pin_image_signature),extraSharedImages:s,sharedPinData:d}},d=(e,t)=>{if(e.length!==t.length)return!1;for(let a=0;a<e.length;a+=1)if(e[a].id!==t[a].id)return!1;return!0},u=(e,t)=>e.map(e=>({1:e,2:(t[e]||[]).map(e=>({1:e,2:"pin"}))})),c=(e,t,a,r)=>{let i={};return e.forEach(e=>{let o=e.id,l=e.pins.length??0;i[o]=l,(0,n.U9)("webapp.log.nux.pin.picker.step.pin.number.of.pins",l,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:o,gender:a,age:r,use_case_display_name:e.display_name}}),(0,n.uI)("gauge.webapp.log.nux.pin.picker.step.pin.number.of.pins",l,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:o,gender:a,age:r,use_case_display_name:e.display_name}})}),i}},327210(e,t,a){a.d(t,{A:()=>s});var r=a(61163),i=a(859471),n=a(19821),o=a(201593),l=a(562615);function s({color:e,image:t,isSelected:a,title:s}){(0,i.useEffect)(()=>{(0,r.A)("PillRep","/app/www/nux/PillRep.tsx")},[]);let{isDarkMode:d}=(0,o.D2)();return(0,l.jsxs)(n.az,{alignItems:"center","aria-selected":a,dangerouslySetInlineStyle:{__style:{backgroundColor:d?a?"#fff":"#767676":a?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,l.jsx)(n.n1,{height:48,rounding:"circle",width:48,children:t.url&&(0,l.jsx)(n._V,{alt:"",color:e,fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url})}),(0,l.jsx)(n.az,{marginEnd:3,marginStart:2,children:(0,l.jsx)(n.KJ,{color:a?"inverse":d?"light":"dark",weight:"bold",children:s})})]})}},676130(e,t,a){a.d(t,{J3:()=>n,X2:()=>l,e6:()=>o,tj:()=>s});var r=a(586733),i=a(257300);let n=(e,t)=>({type:"TOPIC_FOLLOW",payload:{id:e,value:t}}),o=(e,t,a)=>async r=>{r(n(e,!0));try{await (0,i.A)({url:"/v3/users/{user}/interests/favorited/{interest}/",urlParams:{user:"me",interest:e},method:"PUT",data:{image_size:1,fields:["interest.images[300x300(ir.24)]","interest.name"],referrer:a}}),t({event_type:601,object_id_str:e})}catch(t){r(n(e,!1))}},l=(e,t,a)=>async r=>{r(n(e,!1));try{await (0,i.A)({url:"/v3/users/{user}/interests/favorited/{interest}/",urlParams:{user:"me",interest:e},method:"DELETE",data:{referrer:a}}),t({event_type:602,object_id_str:e})}catch(t){r(n(e,!0))}},s=(e,t="",a)=>async o=>{await (0,i.A)({url:"/v3/users/interests/synchronize/",method:"PUT",data:{referrer:t,updated_interest_follows:JSON.stringify(e)}}),Object.keys(e).forEach(t=>{let a=e[t];o(n(t,a))}),(a??(0,r.o)().logContextEvent)({event_type:615})}},659664(e,t,a){a.d(t,{A:()=>i});let r={feed:void 0,featuredBoardStoryId:void 0,feedStoryId:void 0,footerStoryId:void 0,boardShopModuleId:void 0,boardShopModuleIndex:void 0},i=(e,t)=>e?e.reduce(({boardShopModuleId:e,boardShopModuleIndex:a,featuredBoardStoryId:r,feed:i,feedStoryId:n,footerStoryId:o},l,s)=>{let d="story"===l.type&&t[l.id]?.story_type,u="board_ideas_feed"===d,c="board_ideas_preview_detailed"===d,p=!1;if("board_shop_tool_module"===d){let e=t[l.id];p=!!e.custom_properties?.is_full_width}return{feed:i.concat(c||u||p?[]:[l]),featuredBoardStoryId:"featured_boards"===d?l.id:r,feedStoryId:u?l.id:n,footerStoryId:c?l.id:o,boardShopModuleId:p?l.id:e,boardShopModuleIndex:p?s:a}},{boardShopModuleId:void 0,boardShopModuleIndex:void 0,featuredBoardStoryId:void 0,feed:[],feedStoryId:void 0,footerStoryId:void 0}):r},39412(e,t,a){a.d(t,{A:()=>k});var r,i,n=a(61163),o=a(859471),l=a(106386),s=a(825193),d=a(19821),u=a(743372),c=a(844255),p=a(466245),h=a(676130),g=a(538329),m=a(183756),f=a(327210),y=a(562615);let x=({backgroundColor:e,decreaseNamePadding:t,isHomefeedTuner:a,isLego:r,isSelected:i,locale:n,nameTextSize:o,renderAsPill:l,showFollowerCount:s,topicName:u,followerCount:c,image:p})=>{let h=(0,g.A)(),x=(0,m.A)(),w=(0,y.jsx)(d.In,{accessibilityLabel:h.bt("Seçili", "Selected", " - ", undefined, true),color:"light",icon:r?"check":"circle-check",size:r?12:24});return l?(0,y.jsx)(f.A,{color:e||"#767676",image:p,isSelected:i??!1,title:u}):(0,y.jsxs)(d.az,{"aria-selected":i,position:"relative",children:[(0,y.jsx)(d.n1,{rounding:r||a?400:200,children:(0,y.jsxs)(d.az,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",children:[(0,y.jsx)(d.az,{bottom:!0,left:!0,padding:r&&i?1:0,position:"absolute",right:!0,rounding:r&&i?400:0,top:!0,children:p.url&&(0,y.jsx)(d._V,{alt:u,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:p.url})}),(0,y.jsx)(d.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:i?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:r&&i?"4px solid #767676":"none"}},left:!0,position:"absolute",right:!0,rounding:r?400:void 0,top:!0}),r&&i&&(0,y.jsx)(d.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:400,top:!0})]})}),a?(0,y.jsx)(d.az,{alignContent:"center",alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:2,position:"absolute",right:!0,top:!0,children:(0,y.jsx)(d.KJ,{align:"center",color:"light",size:o,weight:"bold",children:u})}):(0,y.jsxs)(d.az,{bottom:!0,left:!0,padding:t?1:2,position:"absolute",right:!0,children:[(0,y.jsx)(d.KJ,{color:"light",size:o,weight:"bold",children:u}),s&&c>=0&&(0,y.jsx)(d.az,{paddingY:1,children:(0,y.jsxs)(d.KJ,{color:"inverse",size:"100",children:[(0,y.jsx)(d.KJ,{color:"inverse",inline:!0,size:"100",weight:"bold",children:x(n,c,{shortform:!0,shortform_maximum_fraction_digits:1})}),h.bt("takipçi", "followers", " - ", undefined, true)]})})]}),i&&(0,y.jsx)(d.az,{margin:2,position:"absolute",right:!0,top:!0,children:r?(0,y.jsx)(d.az,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:200,width:24,children:w}):w})]})},w=(void 0!==r||(r=a(352762)).hash&&"b5b71fb4390c1d3835e468a25f687669"!==r.hash&&console.error("The definition of 'TopicImageWithText_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),b=({topicRef:e,...t})=>{(0,o.useEffect)(()=>{(0,n.A)("TopicImageWithText","/app/www/topic/TopicImageWithText.tsx")},[]);let a=(0,s.useFragment)(w,e),r=a.images?{url:a.images.url??"",width:a.images.width??0,height:a.images.height??0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,y.jsx)(x,{backgroundColor:a.background_color??"",followerCount:a.follower_count??0,image:r,topicName:a.name??"",...t})},_=({topic:e,topicBlob:t,topicInfoForContextualExp:a,...r})=>{(0,o.useEffect)(()=>{(0,n.A)("TopicImageWithText","/app/www/topic/TopicImageWithText.tsx")},[]);let i=a||e||t,l=i?.images?.["236x"]||i?.images?.["400x"]||i?.images?.["474x"]||i?.images?.orig||{height:1,url:"",width:1},s=i&&"follower_count"in i&&void 0!==i.follower_count?i.follower_count:-1;return(0,y.jsx)(x,{backgroundColor:i?.background_color||"",followerCount:s,image:l,topicName:i?.name||"",...r})},v=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:a,isSelected:r=!1,markForRefresh:i,nameTextSize:n="lg",onTouch:o,padding:s=2,renderAsPill:g,showFollowButton:m=!1,showFollowerCount:f=!1,shouldClickthrough:x=!1,topic:w,viewParameter:v,viewType:I})=>{let S=(0,l.wA)(),F=(0,u.A)(),{locale:k}=(0,c._8)(),A=(0,y.jsxs)(d.az,{"data-test-id":"nux-picker-topic",children:["graphql"!==w.type?(0,y.jsx)(_,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:a,isSelected:r,locale:k,nameTextSize:n,renderAsPill:g,showFollowerCount:f,topic:w.topic,topicBlob:w.topicBlob,topicInfoForContextualExp:w.topicInfoForContextualExp}):(0,y.jsx)(b,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:a,isSelected:r,locale:k,nameTextSize:n,renderAsPill:g,showFollowerCount:f,topicRef:w.topicRef}),!!w&&m&&(0,y.jsx)(d.az,{paddingY:2,children:(0,y.jsx)(p.A,{followEventType:601,id:w.id,inline:t,invertColors:t,isFollowed:w.is_followed,onFollow:e=>{S((0,h.e6)(e,F)),i&&i()},onUnfollow:e=>{S((0,h.X2)(e,F)),i&&i()},pinKey:null,size:"md",textType:t?"AddRemove":"FollowFollowing",unfollowEventType:602,viewParameter:v||void 0,viewType:I||void 0})})]}),T="/";return w&&(T=`/topics/${w.id}`),x&&w.slug?(0,y.jsx)(d.$A,{href:T,onTap:({event:e})=>{o?.(e)},rounding:200,tapStyle:"compress",children:(0,y.jsx)(d.az,{padding:s,children:A})}):A},I=(void 0!==i||(i=a(196635)).hash&&"e5a0b7dce2aa2313e4cf2c9871cbedf7"!==i.hash&&console.error("The definition of 'TopicRepFragment_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),S=({topicRef:e,decreaseNamePadding:t=!1,isHomefeedTuner:a,isLego:r,isSelected:i=!1,markForRefresh:n,nameTextSize:o="lg",onTouch:l,padding:d=2,renderAsPill:u,showFollowButton:c=!1,showFollowerCount:p=!1,shouldClickthrough:h=!1,viewParameter:g,viewType:m})=>{let f=(0,s.useFragment)(I,e);return(0,y.jsx)(v,{decreaseNamePadding:t,isHomefeedTuner:a,isLego:r,isSelected:i,markForRefresh:n,nameTextSize:o,onTouch:l,padding:d,renderAsPill:u,shouldClickthrough:h,showFollowButton:c,showFollowerCount:p,topic:{id:f.entityId??"",type:"graphql",is_followed:f.is_followed??!1,topicRef:f},viewParameter:g,viewType:m})},F=({id:e,topic:t,topicBlob:a,topicInfoForContextualExp:r,decreaseNamePadding:i=!1,isHomefeedTuner:n,isLego:o,isSelected:s=!1,markForRefresh:d,nameTextSize:u="lg",onTouch:c,padding:p=2,renderAsPill:h,showFollowButton:g=!1,showFollowerCount:m=!1,shouldClickthrough:f=!1,viewParameter:x,viewType:w})=>{let b=(0,l.d4)(({topics:t})=>t[e]),_=t??b;return(0,y.jsx)(v,{decreaseNamePadding:i,isHomefeedTuner:n,isLego:o,isSelected:s,markForRefresh:d,nameTextSize:u,onTouch:c,padding:p,renderAsPill:h,shouldClickthrough:f,showFollowButton:g,showFollowerCount:m,topic:{id:e,is_followed:!!_?.is_followed,topic:_,topicBlob:a,topicInfoForContextualExp:r,type:"resource"},viewParameter:x,viewType:w})},k=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:a,isSelected:r=!1,markForRefresh:i,nameTextSize:l="lg",onTouch:s,padding:d=2,renderAsPill:u,showFollowButton:c=!1,showFollowerCount:p=!1,shouldClickthrough:h=!1,viewParameter:g,viewType:m,...f})=>((0,o.useEffect)(()=>{(0,n.A)("TopicRep","/app/www/topic/TopicRep.tsx")},[]),f.topicRef?(0,y.jsx)(S,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:a,isSelected:r,markForRefresh:i,nameTextSize:l,onTouch:s,padding:d,renderAsPill:u,shouldClickthrough:h,showFollowButton:c,showFollowerCount:p,topicRef:f.topicRef,viewParameter:g,viewType:m}):(0,y.jsx)(F,{decreaseNamePadding:e,id:f.id,isHomefeedTuner:t,isLego:a,isSelected:r,markForRefresh:i,nameTextSize:l,onTouch:s,padding:d,renderAsPill:u,shouldClickthrough:h,showFollowButton:c,showFollowerCount:p,topic:f.topic,topicBlob:f.topicBlob,topicInfoForContextualExp:f.topicInfoForContextualExp,viewParameter:g,viewType:m}))},753115(e,t,a){a.d(t,{A:()=>r});function r(e,t){let{group:a}=e("dweb_scroll_pin_to_top_on_tap");return"enabled_all"===a||"employees"===a||a===`enabled_${t}`}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/21794.tr-0be338f443ae9307.mjs.map