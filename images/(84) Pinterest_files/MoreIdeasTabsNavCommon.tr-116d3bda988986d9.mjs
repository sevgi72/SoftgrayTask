(self.modernJsonp=self.modernJsonp||[]).push([["47641"],{45420(e,t,a){a.r(t),a.d(t,{default:()=>T});var r=a(61163),n=a(859471),l=a(979638),o=a(19821),i=a(535271),s=a(586733),d=a(63661),c=a(296221),u=a(538329),f=a(123576),_=a(584342),h=a(714694),b=a(923884),p=a(176609),m=a(260128),x=a(562615);function y(e){(0,n.useEffect)(()=>{(0,r.A)("EntrypointTabs","/pws/entrypoint-router/navigation-buttons/EntrypointTabs.tsx")},[]);let{preload:t}=(0,p.R)(),{tabs:a,onChange:l,...i}=e,s=a.map(e=>{switch(e.kind){case"Entrypoint":return{href:(0,m.P)(e.route),...e.tab,_onMouseEnter:a=>{let r=e.preloadExtent??"Both";"None"!==r&&t(e.route,r),e.tab._onMouseEnter?.(a)}};case"Legacy":return e.tab;default:return(0,b.A)(e)}});return(0,x.jsx)(o.tU,{onChange:e=>{let r=a[e.activeTabIndex];r?.kind==="Entrypoint"&&t(r.route,"Both"),l?.(e)},tabs:s,...i})}let g=new o.rk(6),v=new o.rk(1),A={__style:{background:"linear-gradient(#B237A5, #2277B9)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}};function I({boards:e,currentTabId:t,currentTabIndex:a,headerShadowContext:l,hideTabs:b,hfpBusinessLocalNavTabsWebEnabled:p,inLocalNavigation:m,isPartner:I,isTodayTabEnabled:w,nonFixed:E}){let k;(0,n.useEffect)(()=>{(0,r.A)("MoreIdeasTabsNavPills","/app/common/react/components/FeedsAndFollowing/Homefeed/MoreIdeasTabsNav/MoreIdeasTabsNavPills.tsx")},[]);let z=(0,u.A)(),{logContextEvent:S}=(0,s.o)(),P=(0,n.useRef)(null),T=(0,n.useRef)(null),C=(0,n.useRef)(null),[N,j]=(0,n.useState)(0),[M,H]=(0,n.useState)(!1),[B,R]=(0,n.useState)(!1),[F,W]=(0,n.useState)(0),[L,D]=(0,n.useState)(0),O=(e,t)=>(0,x.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{background:`linear-gradient(to ${"back"===e?"right":"left"}, var(--sema-color-background-default) 51.56%, rgba(255, 255, 255, 0) 100%`,padding:"back"===e?"8px 32px 8px 0":"8px 0 8px 32px"}},left:"back"===e,position:"absolute",right:"forward"===e,children:(0,x.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px 0px rgba(0, 0, 0, 0.1)"}},rounding:"circle",children:(0,x.jsx)(o.K0,{accessibilityLabel:"back"===e?z.bt("Önceki sekmeler", "Previous tabs", "localNav.tab.backArrow", undefined, true):z.bt("Sonraki sekmeler", "Next tabs", "localNav.tab.fwdArrow", undefined, true),bgColor:"default",icon:"back"===e?"chevron-left":"chevron-right",onClick:t,size:"sm"})})}),Y=({activeTabIndex:t,currentTab:a})=>{if(m&&e?.[t-1]?.tab_type==="pinterest_picks")return 14584;switch(a){case"homefeed":return 11081;case"today":return 11674;default:return 11082}},J=(t=>{let r=[{kind:"Legacy",tab:{href:"/homefeed/",id:"homefeed",text:z.bt("Tümü", "All", "authHomefeed.moreIdeasNav.homefeed", undefined, true)}}];if(I&&!p)return[{kind:"Legacy",tab:{href:"/homefeed/",id:"homefeed",text:z.bt("Sizin için", "For you", "authHomefeed.moreIdeasNav.homefeed", undefined, true)}},...w?[{kind:"Entrypoint",route:{kind:"/today/",routeParams:{}},tab:{id:"today",text:z.bt("Keşfet", "Explore", "authHomefeed.moreIdeasNav.explore", undefined, true)},preloadExtent:t}]:[]];if(e&&(m||I)){let t=e.findIndex(e=>"board_more_ideas"===e.tab_type),n=e.findIndex(e=>"pinterest_picks"===e.tab_type);return[...r,...e.map((e,r)=>({kind:"Legacy",tab:{href:"pinterest_picks"===e.tab_type?"/?holidayFinds=true":`/?boardId=${e.id}`,id:String(e.id),text:"pinterest_picks"===e.tab_type&&a!==n+1?(0,x.jsx)(o.az,{dangerouslySetInlineStyle:A,children:"Holiday finds"}):e.name,ref:r===t?T:void 0}}))]}return r})((0,h.z)().preloadExtent),U=(0,n.useRef)(new Set),[$,q]=(0,n.useState)(0),G=(0,n.useCallback)(()=>{let e=C.current,t=e?.children[0]?.children[0]?.children[0];if(!e||!t)return new Set;let a=e.getBoundingClientRect(),r=new Set;for(let e=0;e<t.children.length;e+=1){let n=t.children[e].getBoundingClientRect(),l=(n.left+n.right)/2,o=l>=a.left&&l<=a.right&&n.top<a.bottom&&n.bottom>a.top,i=J[e],s=i?.tab?.id;o&&s&&r.add(s)}return r},[J]),V=(0,n.useCallback)(()=>{let t=G(),a=U.current;t.forEach(t=>{let r;if(a.has(t))return;let n=J.findIndex(e=>e?.tab?.id===t),l=n>=0?J[n]:void 0,o=e?.find(e=>e.id===t);r="homefeed"===t?z.bt("Tümü", "All", "authHomefeed.moreIdeasNav.homefeed", undefined, true):"today"===t?z.bt("Keşfet", "Explore", "authHomefeed.moreIdeasNav.explore", undefined, true):o?.name,S({event_type:13,view_type:1,view_parameter:92,component:13184,element:null!=l?Y({activeTabIndex:n,currentTab:t}):11082,object_id_str:"homefeed"!==t&&"today"!==t?t:void 0,clientTrackingParams:o?.tracking_params,aux_data:{referrer:19,tab_title:r??"",index:String(n>=0?n:0),..."homefeed"!==t&&"today"!==t&&{board_id:t}}})}),U.current=t},[e,G,z,S,J]),X=(0,n.useCallback)((e,t)=>{H(e>0),R(e<t)},[]),K=(0,n.useCallback)(e=>{let t=C.current;if(t&&null!=a){let r=t.children[0]?.children[0]?.children[0]?.children[a];if(r){let a=t.clientWidth,n=r.offsetLeft-(a-r.offsetWidth)/2;D(n=Math.max(0,Math.min(n,e))),X(n,e)}}},[a,X]),Q=(0,n.useCallback)(()=>{let e=Math.min(L+(N-90),F);D(e),X(e,F),q(e=>e+1)},[L,N,F,X]),Z=(0,n.useCallback)(()=>{let e=Math.max(L-(N-90),0);D(e),X(e,F),q(e=>e+1)},[L,N,F,X]);(0,n.useEffect)(()=>{let e=requestAnimationFrame(()=>{V()});return()=>cancelAnimationFrame(e)},[V,$]),(0,n.useEffect)(()=>(l.setSubheaderShadow("moreIdeas"),P.current&&f.A.addObstruction("top",P.current),()=>{l.setSubheaderShadow(null)}),[l]),(0,n.useEffect)(()=>{let e=(0,d.A)(()=>{let e=C.current;if(e){let t=e.children[0]?.scrollWidth||0,a=e.clientWidth,r=Math.max(0,t-a);j(a),W(r),D(Math.min(L,r)),K(r)}},200);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[L,K]),(0,n.useEffect)(()=>{let e=C.current;if(e){let t=e.children[0]?.scrollWidth||0,a=e.clientWidth,r=Math.max(0,t-a);j(a),W(r),D(Math.min(0,r)),K(r)}},[K]);let ee=!0===I&&!p,et=null!=(k=m&&!ee?a??0:ee?+("today"===t):J.findIndex(e=>e.tab.id===t))&&k>=0?J[k]:void 0,ea=!ee&&(m||!0===I&&p);return(0,x.jsx)(o.az,{ref:P,children:(0,x.jsx)(o.az,{color:"default",dangerouslySetInlineStyle:{__style:{transform:b?"translateY(-100%)":"translateY(0)",transition:"all 0.3s ease-in-out",...l.isScrolled&&!m?_.x9:{}}},position:E?"static":"fixed",width:"100%",zIndex:g,children:(0,x.jsxs)(o.az,{ref:C,alignItems:"stretch",dangerouslySetInlineStyle:{__style:{overflowX:"clip"}},display:"flex",justifyContent:ea?"start":"center",width:"100%",children:[(0,x.jsxs)(o.az,{color:"default",dangerouslySetInlineStyle:{__style:{left:`-${L}px`,transition:"left 0.3s, right 0.3s"}},display:"flex",height:i.A,justifyContent:ea?"start":"center",paddingY:0,position:"relative",children:[(0,x.jsx)(y,{activeTabIndex:null!=k&&et?k:0,onChange:({activeTabIndex:t,event:a})=>{let r;a.preventDefault();let n=J[t];if(!n)return;let l=n.tab.id,o=e?.find(e=>e.id===l);r="homefeed"===l?z.bt("Tümü", "All", "authHomefeed.moreIdeasNav.homefeed", undefined, true):"today"===l?z.bt("Keşfet", "Explore", "authHomefeed.moreIdeasNav.explore", undefined, true):o?.name;let i="homefeed"!==l&&"today"!==l?l:void 0;S({aux_data:{index:t.toString(),referrer:19,tab_title:r??"",...void 0!==i&&{board_id:i}},clientTrackingParams:o?.tracking_params,component:13184,element:Y({activeTabIndex:t,currentTab:l}),event_type:101,object_id_str:i,view_parameter:3173,view_type:1}),requestAnimationFrame(()=>V())},tabs:J}),m&&T?.current&&(0,x.jsx)(c.En,{anchor:T?.current,experienceIds:[506684],forceDirection:!0,idealDirection:"down",placementId:11,showCaret:!0,textWeight:"normal",zIndex:_.Bf})]}),m&&(0,x.jsxs)(o.az,{alignItems:"center",display:"flex",justifyContent:"between",zIndex:v,children:[M&&O("back",Z),B&&O("forward",Q)]})]})})})}var w=a(338346),E=a(693154),k=a(6938),z=a(803489),S=a(835940),P=a(900344);function T({boards:e,currentTabIndex:t,hideTabs:a,hfpBusinessLocalNavTabsWebEnabled:o,inLocalNavigation:i,nonFixed:s}){(0,n.useEffect)(()=>{(0,r.A)("MoreIdeasTabsNav","/app/common/react/components/FeedsAndFollowing/Homefeed/MoreIdeasTabsNav/MoreIdeasTabsNav.tsx")},[]);let d=(0,P.jR)(),{setIsContentHeaderPresent:c}=(0,S.E)(),u=(0,l.zy)(),f=(0,E.A)(),_=!!f.isAuth&&f.isPartner&&!f.partner?.is_boost_a_pin_partner,h=(0,k.A)(),b=h?{component:8,element:11674}:Object.freeze({});return((0,w.A)(b),(0,n.useEffect)(()=>(c(!0),function(){c(!1)}),[]),_&&u||i)?(0,x.jsx)(I,{boards:e,currentTabId:function(){let{pathname:e,search:t}=u;if(_){if("/following/"===e)return"following";else if("/today"===e||e.startsWith("/today/"))return"today";else if("/homefeed/"===e&&""===t)return"homefeed"}return(({search:e})=>e&&"string"==typeof(0,z.A)(e).boardId&&(0,z.A)(e).boardId||null)(u)}(),currentTabIndex:t,headerShadowContext:d,hfpBusinessLocalNavTabsWebEnabled:o,hideTabs:a,inLocalNavigation:i,isPartner:_,isTodayTabEnabled:h,nonFixed:s}):null}},338346(e,t,a){a.d(t,{A:()=>o});var r=a(859471),n=a(586733),l=a(676692);let o=e=>{let t=(0,r.useRef)(!1),{logContextEvent:a}=(0,n.o)(),{viewType:o,viewParameter:i}=(0,l.WQ)();(0,r.useEffect)(()=>{Object.entries(e).length>0&&!t.current&&o&&(a({event_type:13,view_type:o,view_parameter:i,...e}),t.current=!0)})}},6938(e,t,a){a.d(t,{A:()=>o});var r=a(693154),n=a(844255);let l={en:["US","GB","CA","IN","AU","ID"],es:["MX","PE","AR","CL","CO","ES","VE","UY","PY","EC","BO","CR","DO","SV","GT","HN","NI","PR","PA"],pt:["BR"],de:["DE","AT","CH"],fr:["FR"],id:["ID"],ja:["JP"],it:["IT"],sv:["SE"]};function o(){let e=(0,n._8)(),t=(0,r.A)(),a=t.isAuth?t.country:e.country;if(void 0===e||void 0===e.locale)return!1;let o=e.locale.substring(0,2);return!!l[o]?.includes(a)}},714694(e,t,a){a.d(t,{z:()=>n});var r=a(601185);function n(){let{checkExperiment:e}=(0,r.A)();return function(e){let t=e("entrypoints_today_page_prefetch");switch(t.group){case"prefetch_all":return{preloadExtent:"Both"};case"prefetch_only_js":return{preloadExtent:"OnlyJS"};case"control":return{preloadExtent:"None"};default:{let{anyEnabled:e}=t;return{preloadExtent:e?"Both":"None"}}}}(e)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/MoreIdeasTabsNavCommon.tr-116d3bda988986d9.mjs.map