(self.modernJsonp=self.modernJsonp||[]).push([["62155"],{82118(e,s,l){var a;l.r(s),l.d(s,{default:()=>o});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinSaveRequest_pin",selections:[{alias:"images_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null}]}],type:"Pin",abstractKey:null};t.hash="64132b88edd48497e63c9ad85ae5ab66";let o=t},842227(e,s,l){l.r(s),l.d(s,{default:()=>t});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinSaveRequest_shuffle_asset",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"ShuffleAsset",abstractKey:null};a.hash="58c24e25a76e7a1c4533f3b07f490517";let t=a},578849(e,s,l){l.d(s,{A:()=>a});function a(e,s){return({CANCEL:s.bt("İptal", "Cancel", "business.strings", undefined, true),LEARN_MORE:s.bt("Daha fazla bilgi", "Learn more", "business.strings", undefined, true),OK:s.bt("Tamam", "OK", "business.strings", undefined, true),DONE:s.bt("Bitti", "Done", "business.strings", undefined, true),NEXT:s.bt("İleri", "Next", "business.strings", undefined, true),SAVE_ACTION:s.bt("Kaydet", "Save", "business.strings", undefined, true),SAVE_NOUN:s.bt("Kaydet", "Save", "business.strings", undefined, true),LOADING:s.bt("Yükleniyor", "Loading", "business.strings", undefined, true),ALL:s.bt("Hepsi", "All", "business.strings", undefined, true),EDIT:s.bt("Düzenle", "Edit", "business.strings", undefined, true),BACK:s.bt("Geri", "Back", "business.strings", undefined, true),DELETE:s.bt("Sil", "Delete", "business.strings", undefined, true),NONE:s.bt("Hiçbiri", "None", "business.strings", undefined, true),IMPRESSIONS:s.bt("Gösterimler", "Impressions", "business.strings", undefined, true),SEARCH_ACTION:s.bt("Ara", "Search", "business.strings", undefined, true),SEARCH_NOUN:s.bt("Ara", "Search", "business.strings", undefined, true),ACTIVE:s.bt("Etkin", "Active", "business.strings", undefined, true),VIDEO:s.bt("Video", "Video", "business.strings", undefined, true),SAVES_ACTION:s.bt("Kaydetmeler", "Saves", "business.strings", undefined, true),SAVES_NOUN:s.bt("Kaydetmeler", "Saves", "business.strings", undefined, true),CONTINUE:s.bt("Devam", "Continue", "business.strings", undefined, true),NO:s.bt("Hayır", "No", "business.strings", undefined, true),STATUS:s.bt("Durum", "Status", "business.strings", undefined, true),PROMOTE:s.bt("Sponsor olun", "Promote", "business.strings", undefined, true),NAME:s.bt("Ad", "Name", "business.strings", undefined, true),SUBMIT:s.bt("Gönder", "Submit", "business.strings", undefined, true),PAUSED:s.bt("Duraklatıldı", "Paused", "business.strings", undefined, true),SEE_MORE:s.bt("Daha fazlasına bakın", "See more", "business.strings", undefined, true),FOLLOWING:s.bt("Takip ediliyor", "Following", "business.strings", undefined, true),CLOSE:s.bt("Kapat", "Close", "business.strings", undefined, true),INSTALL_TAG:s.bt("Etiketi yükle", "Install tag", "business.strings", undefined, true),PIN_CLICKS:s.bt("Pin tıklamaları", "Pin clicks", "business.strings", undefined, true),CONVERSIONS:s.bt("Dönüşümler", "Conversions", "business.strings", undefined, true),SEND:s.bt("Gönder", "Send", "business.strings", undefined, true),KEYWORDS:s.bt("Anahtar Sözcükler", "Keywords", "business.strings", undefined, true),CREATE:s.bt("Oluştur", "Create", "business.strings", undefined, true),REPORT_ACTION:s.bt("Şikayet Et", "Report", "business.strings", undefined, true),REPORT_NOUN:s.bt("Şikayet Et", "Report", "business.strings", undefined, true),BOARDS:s.bt("Panolar", "Boards", "business.strings", undefined, true),PINS:s.bt("Pinler", "Pins", "business.strings", undefined, true),LINK_CLICKS:s.bt("Bağlantı tıklamaları", "Link clicks", "business.strings", undefined, true),COMPLETED:s.bt("Tamamlandı", "Completed", "business.strings", undefined, true),PENDING:s.bt("Beklemede", "Pending", "business.strings", undefined, true),SELECT:s.bt("Listeden seçin", "Select", "business.strings", undefined, true),ARCHIVED:s.bt("Arşivlendi", "Archived", "business.strings", undefined, true),ACTIONS:s.bt("İşlemler", "Actions", "business.strings", undefined, true),PRODUCT_GROUPS:s.bt("Ürün grupları", "Product groups", "business.strings", undefined, true),CUSTOM:s.bt("Özel", "Custom", "business.strings", undefined, true),CREATE_PIN:s.bt("Pin Oluştur", "Create Pin", "business.strings", undefined, true),COUNTRY:s.bt("Ülke", "Country", "business.strings", undefined, true),VIDEO_VIEWS:s.bt("Video görüntülemeleri", "Video views", "business.strings", undefined, true),REMOVE:s.bt("Kaldır", "Remove", "business.strings", undefined, true),EMAIL_ADDRESS:s.bt("E-posta adresi", "Email address", "business.strings", undefined, true),PINTEREST:s.bt("Pinterest", "Pinterest", "business.strings", undefined, true),PRIVACY_POLICY:s.bt("Gizlilik Politikası", "Privacy Policy", "business.strings", undefined, true),OTHER:s.bt("Diğer", "Other", "business.strings", undefined, true),REQUIRED:s.bt("Zorunlu", "Required", "business.strings", undefined, true),CLICKS_ACTION:s.bt("Tıklamalar", "Clicks", "business.strings", undefined, true),CLICKS_NOUN:s.bt("Tıklamalar", "Clicks", "business.strings", undefined, true),ENGAGEMENT:s.bt("Etkileşim", "Engagement", "business.strings", undefined, true),NOT_NOW:s.bt("Şimdi değil", "Not now", "business.strings", undefined, true),ADS:s.bt("Reklamlar", "Ads", "business.strings", undefined, true),ERROR:s.bt("Hata", "Error", "business.strings", undefined, true),CAMPAIGNS:s.bt("Kampanyalar", "Campaigns", "business.strings", undefined, true),VISIT_ACTION:s.bt("Ziyaret et", "Visit", "business.strings", undefined, true),VISIT_NOUN:s.bt("Ziyaret et", "Visit", "business.strings", undefined, true),OUTBOUND_CLICKS:s.bt("Dışarı yönlendiren tıklamalar", "Outbound clicks", "business.strings", undefined, true),ADD:s.bt("Ekle", "Add", "business.strings", undefined, true),DESCRIPTION:s.bt("Açıklama", "Description", "business.strings", undefined, true),SPEND_ACTION:s.bt("Harcama", "Spend", "business.strings", undefined, true),SPEND_NOUN:s.bt("Harcama", "Spend", "business.strings", undefined, true),CREATE_AD:s.bt("Reklam oluştur", "Create ad", "business.strings", undefined, true),EXPAND:s.bt("Genişlet", "Expand", "business.strings", undefined, true),MEASURE_YOUR_AD_PERFORMANCE:s.bt("Reklam performansınızı ölçün", "Measure your ad performance", "business.strings", undefined, true),CREATE_BOARD:s.bt("Pano oluştur", "Create board", "business.strings", undefined, true),SELECTED:s.bt("Seçili", "Selected", "business.strings", undefined, true),PEOPLE:s.bt("Kişiler", "People", "business.strings", undefined, true),YES:s.bt("Evet", "Yes", "business.strings", undefined, true),TOTAL:s.bt("Toplam", "Total", "business.strings", undefined, true),AUDIENCE_INSIGHTS:s.bt("Hedef kitle istatistikleri", "Audience insights", "business.strings", undefined, true),DISMISS:s.bt("Kapat", "Dismiss", "business.strings", undefined, true),PHONE_NUMBER:s.bt("Telefon numarası", "Phone number", "business.strings", undefined, true),TODAY:s.bt("Bugün", "Today", "business.strings", undefined, true),GOT_IT:s.bt("Anladım", "Got it", "business.strings", undefined, true),SUCCESS:s.bt("Başarılı", "Success", "business.strings", undefined, true),AD_GROUPS:s.bt("Reklam Grupları", "Ad groups", "business.strings", undefined, true)})[e]}},385336(e,s,l){l.d(s,{A:()=>j});var a=l(61163),t=l(859471),o=l(19821),i=l(743372),r=l(257300),n=l(989457),_=l(693154),c=l(578849),d=l(538329),u=l(601185),A=l(844255),g=l(168079),b=l(734696),h=l(653956),p=l(586733),P=l(172150),f=l(264986),m=l(801095);function C(e){return e.map(({id:e})=>e)}function z(e,s){return e.filter(({type:e})=>s.includes(e))}var S=l(562615);function v({boardCreateSource:e,selectedContacts:s,setSelectedContacts:l}){(0,t.useEffect)(()=>{(0,a.A)("BoardCreateGlowupAddCollaborator","/app/www/BoardCreateGlowup/BoardCreateGlowupAddCollaborator.tsx")},[]);let i=(0,t.useRef)(!1),{logContextEvent:r}=(0,p.o)();(0,g.A)(()=>(r({event_type:13,view_type:5,view_parameter:3059,component:13305,aux_data:{source:e}}),()=>{i.current||r({event_type:10521,view_type:5,view_parameter:3059,component:13305,aux_data:{source:e}})}));let{searchValue:n,allContacts:_,handleTextFieldChange:c,handleTypeaheadSuggestionsChange:u,handleCollaboratorClick:A}=(0,m.A)({selectedContacts:s,onSelectedContactsChange:l}),b=C(s),h=(0,d.A)();return(0,S.jsxs)(o.so,{direction:"column",gap:6,children:[(0,S.jsxs)(o.so,{direction:"column",gap:2,children:[(0,S.jsx)(o.KJ,{size:"200",children:h.bt("Ortaklar...", "Collaborators can...", "BoardCreateGlowupModal.collaborators.content.paragraph-1", undefined, true)}),(0,S.jsxs)(o.so,{direction:"column",gap:1,children:[(0,S.jsx)(o.KJ,{size:"400",weight:"bold",children:h.bt("Neredeyse her şeyi yapabilir", "Do (almost) everything", "BoardCreateGlowupModal.collaborators.content.paragraph-2", undefined, true)}),(0,S.jsx)(o.KJ,{size:"200",children:h.bt("Pinleri ve bölümleri ekleme, taşıma veya silme, yorum yapma ve tepki verme", "Add, move or delete Pins and sections, comment and react", "BoardCreateGlowupModal.collaborators.content.paragraph-3", undefined, true)})]})]}),(0,S.jsxs)(o.so,{direction:"column",gap:2,children:[(0,S.jsx)(o.KJ,{size:"200",children:h.bt("Pinterest'te birini davet edin", "Invite someone on Pinterest", "BoardCreateGlowupModal.collaborators.content.collaborator-picker-label", undefined, true)}),(0,S.jsx)(f.A,{onSearchChange:c,onTypeaheadSuggestionsChange:u,searchValue:n}),(0,S.jsx)(P.A,{contacts:_,itemPadding:2,onCollaboratorToggle:e=>{A(e),i.current=!0},selectedContactIds:b})]})]})}function T({labelId:e,label:s,subtext:l,children:i}){return(0,t.useEffect)(()=>{(0,a.A)("BoardCreateGlowupModalField","/app/www/BoardCreateGlowup/BoardCreateGlowupModalField.tsx")},[]),(0,S.jsxs)(o.so,{alignItems:"center",children:[(0,S.jsx)(o.az,{flex:"grow",children:(0,S.jsxs)(o.JU,{htmlFor:e,children:[(0,S.jsx)(o.KJ,{size:"300",weight:"bold",children:s}),(0,S.jsx)(o.KJ,{color:"subtle",size:"200",children:l})]})}),i]})}var y=l(753771),w=l(457315),E=l(955170),x=l(720407),I=l(937975);let N=[96,58],B=["email","email_share_suggestion"],O=["user","user_share_suggestion"];var k=l(928802),R=l(679530),D=l(896575);function j({boardCreateSource:e,images:s=[],initialValues:l,onBoardCreate:p,onClose:P,pinId:f}){(0,t.useEffect)(()=>{(0,a.A)("BoardCreateGlowupModal","/app/www/BoardCreateGlowup/BoardCreateGlowupModal.tsx")},[]);let{suggestedBoardName:m,completeExperience:j,dismissExperience:M}=(0,k.A)(1000673,0===s.length),{checkExperiment:L}=(0,u.A)(),[G,K]=(0,t.useState)(l?.boardName??"");(0,t.useEffect)(()=>{m&&K(m)},[m]),(0,t.useEffect)(()=>{async function e(){if(f){let e=await (0,r.A)({url:"/v3/pins/{pin}/board_title_suggestions/",urlParams:{pin:f}}),s=e.resource_response?.data?.[0]?.title;s&&K(s)}}l?.boardName||m||G||!L("web_curation_sabr_board_title_suggestion").anyEnabled||e()},[f,l?.boardName,m]);let[U,F]=(0,t.useState)(l?.privacy==="secret"),[V,J]=(0,t.useState)(),[Y,H]=(0,t.useState)(!1),[q,W]=(0,t.useState)(l?.collaborators??[]),$=(0,d.A)(),X=(0,i.A)(),{isRTL:Q}=(0,A._8)(),Z=(0,_.A)(),ee=Z.isAuth?Z?.avatar_color_index:void 0,es=!!V,el=m??l?.boardName,{state:ea,submitAction:et,isPending:eo}=function({boardCreateSource:e,onBoardCreate:s,onRequestComplete:l,selectedCollaborators:a,auxData:o={}}){let i=(0,x.A)(),r=(0,E.mV)(),n=(0,E.lt)(),[_,c,d]=(0,t.useActionState)(async(t,_)=>{let c={name:_.get("boardName"),privacy:null!=_.get("isSecretBoard")?y.A.BoardPrivacy.SECRET:y.A.BoardPrivacy.PUBLIC,aux_data:{...o,source:e}};try{let e=await i({boardCreateOptions:c}),l=z(a,B),t=z(a,O),o=[];l.length>0&&o.push(r(e.id,C(l))),t.length>0&&o.push(n(e.id,C(t)));try{await Promise.all(o)}catch(e){(0,I.c)({name:"BoardCreateGlowupCollaboratorInviteError",message:(0,w.A)(e,"message")??"Failed to invite collaborators",message_detail:(0,w.A)(e,"message_detail"),stack:(0,w.A)(e,"stack")})}s(e)}catch(s){let e=(0,w.A)(s,"api_error_code");if(void 0!==e&&N.includes(e))return{serverBoardNameError:(0,w.A)(s,"message")};(0,I.c)({name:"BoardCreateGlowupFormBoardCreateError",message:(0,w.A)(s,"message")??"Failed to create board",message_detail:(0,w.A)(s,"message_detail"),stack:(0,w.A)(s,"stack")})}finally{l?.()}return{}},{});return{state:_,submitAction:c,isPending:d}}({boardCreateSource:e,onBoardCreate:e=>{e.name===m?j():M(),p(e)},onRequestComplete:()=>{H(!1)},selectedCollaborators:q,auxData:{...el?{suggested_board_name:el}:{}}}),ei=()=>{m&&M(),P()},{serverBoardNameError:er}=ea;(0,g.A)(()=>{X({event_type:13,view_type:5,view_parameter:87,component:13025,aux_data:{source:e}})});let en=()=>!Y&&er?er:es?V:void 0,[e_,ec]=(0,t.useState)("main"),ed=()=>{X({event_type:101,view_type:5,view_parameter:87,component:13025,element:10592,aux_data:{source:e}}),(0,t.startTransition)(()=>{ec("collaborators")})},eu={main:{content:(0,S.jsxs)(o.so,{direction:"column",gap:6,children:[(0,S.jsx)(o.so,{justifyContent:"center",children:(0,S.jsx)(o.az,{paddingY:2,width:213,children:(0,S.jsx)(h.A,{boardKey:null,coverPinKey:null,images:s})})}),(0,S.jsx)(o.A_,{errorMessage:en(),id:"board-name",label:$.bt("Pano adı", "Board name", "BoardCreateGlowupModal.boardNameInput.label", undefined, true),name:"boardName",onChange:({value:e})=>{K(e);let s=(0,b.Yl)((0,R.D)($),e);s.length>0?J(s[0]):J(void 0),H(!0)},placeholder:$.bt("Panonuza bir ad verin", "Name your board", "BoardCreateGlowupModal.boardNameInput.placeholder", undefined, true),size:"lg",value:G}),(0,S.jsx)(T,{label:$.bt("Bu panoyu gizle", "Make this board secret", "BoardCreateGlowupModal.privacySettings.label", undefined, true),labelId:"secret-board-toggle",subtext:$.bt("Bu panoyu yalnızca siz ve ortaklarınız görebilecek", "Only you and collaborators will see this board", "BoardCreateGlowupModal.privacySettings.subtext", undefined, true),children:(0,S.jsx)(o.dO,{id:"secret-board-toggle",name:"isSecretBoard",onChange:({value:s})=>{F(s),X({event_type:s?106:107,view_type:5,view_parameter:87,component:13025,element:53,aux_data:{source:e}})},switched:U})}),(0,S.jsx)(T,{label:$.bt("Grup panosu", "Group board", "BoardCreateGlowupModal.groupBoardSettings.label", undefined, true),labelId:"invite-collaborators-button",subtext:$.bt("Bu panoda iş birliği yapmak üzere başkalarını davet edin", "Invite others to collaborate on this board", "BoardCreateGlowupModal.groupBoardSettings.subtext", undefined, true),children:q.length>0?(0,S.jsx)(o.az,{"data-test-id":"avatar-group",children:(0,S.jsx)(n.Z7,{addCollaborators:!0,collaborators:q.map(e=>({color:ee,name:e.full_name??"",src:e.image_medium_url??""})),onClick:ed,role:"button",size:"md"})}):(0,S.jsx)(o.K0,{accessibilityLabel:$.bt("Ortakları davet et", "Invite collaborators", "BoardCreateGlowupModal.groupBoardSettings.accessibilityLabel", undefined, true),bgColor:"secondary",icon:"person-plus",onClick:ed,size:"lg"})})]}),footer:(0,S.jsx)(D.A,{disabled:!!en()||!G.trim(),form:"board-create-glowup-form",fullWidth:!0,onClick:()=>{X({event_type:101,view_type:5,view_parameter:87,component:13025,element:249,aux_data:{source:e}})},size:"lg",submitting:eo,text:$.bt("Oluştur", "Create", "BoardCreateGlowupModal.createButton", undefined, true)}),heading:$.bt("Pano oluştur", "Create a board", "BoardCreateGlowupModal.heading", undefined, true),accessibilityModalLabel:$.bt("Pano oluştur", "Create a board", "BoardCreateGlowupModal.accessibilityModalLabel", undefined, true)},collaborators:{content:(0,S.jsx)(v,{boardCreateSource:e,selectedContacts:q,setSelectedContacts:W}),footer:null,heading:$.bt("Ortakları davet et", "Invite collaborators", "BoardCreateGlowupModal.collaborators.heading", undefined, true),accessibilityModalLabel:$.bt("Ortakları davet et", "Invite collaborators", "BoardCreateGlowupModal.collaborators.accessibilityModalLabel", undefined, true)}};return(0,S.jsx)(n.aF,{accessibilityModalLabel:eu[e_].accessibilityModalLabel,align:"center",footer:eu[e_].footer,heading:(0,S.jsx)(o.az,{position:"relative",children:(0,S.jsxs)(o.so,{alignItems:"center",justifyContent:"center",width:"100%",children:["main"!==e_&&(0,S.jsx)(o.az,{left:!Q,position:"absolute",right:Q,children:(0,S.jsx)(o.K0,{accessibilityLabel:$.bt("Geri dön", "Go back", "BoardCreateGlowupModal.backButton.accessibilityLabel", undefined, true),icon:"chevron-left",onClick:()=>{(0,t.startTransition)(()=>{ec("main")})},size:"lg"})}),"main"===e_&&(0,S.jsx)(o.az,{left:Q,position:"absolute",right:!Q,children:(0,S.jsx)(o.K0,{accessibilityLabel:(0,c.A)("CLOSE",$),icon:"close",onClick:ei,size:"lg"})}),(0,S.jsx)(o.so.Item,{flex:"grow",children:(0,S.jsx)(o._Y,{accessibilityLevel:1,align:"center",size:"600",children:eu[e_].heading})})]})}),onDismiss:ei,size:"md",children:(0,S.jsx)("form",{id:"board-create-glowup-form",onSubmit:e=>{e.preventDefault();let s=e.currentTarget;(0,t.startTransition)(async()=>{await et(new FormData(s))})},children:(0,S.jsx)(o.az,{minHeight:600,paddingX:6,paddingY:3,children:eu[e_].content})})})}},31973(e,s,l){l.d(s,{A:()=>d});var a=l(61163),t=l(859471),o=l(19821),i=l(586733),r=l(538329),n=l(542975),_=l(678358),c=l(562615);function d({accessibilityControls:e,accessibilityExpanded:s,accessibilityHaspopup:l,clientTrackingParams:d,dropdownRef:u,hideDropdown:A=!1,isSaved:g,onBoardDropdownClick:b,onSaveClick:h,promotedIsLeadAd:p,renderPinSaveTooltip:P,selectedItem:f,selectedTitle:m,showBoardFlyout:C,showPromoteBanner:z=!1,unselectedText:S,variant:v,viewParameter:T,viewType:y,surface:w}){(0,t.useEffect)(()=>{(0,a.A)("BoardSelectionDisplay","/app/www/common/PinBetterSave/BoardSelectionDisplay.tsx")},[]);let E=(0,r.A)(),[x,I]=(0,t.useState)(null),{closeupWithinMasonryEnabled:N}=(0,_._G)(),{logContextEvent:B}=(0,i.o)(),O=(0,t.useEffectEvent)(()=>{B({event_type:13,...y?{view_type:y}:Object.freeze({}),...T?{view_parameter:T}:Object.freeze({}),component:13282,element:14348,object_id_str:f?.boardId,clientTrackingParams:d,aux_data:{is_profile_save:f?.type==="boardless"}})});(0,t.useEffect)(()=>{f&&f?.type==="boardless"&&O()},[f]);let k=m||S,R="closeup"===v,D="media-viewer"===v,j="comparison"===v,M="VideoCarouselModule"===w,L=(0,t.useMemo)(()=>j?"inverse":D?C?"inverse":"default":C||!R?"light":"default",[R,C,D,j]),G=(0,t.useCallback)(({event:e})=>{b(e)},[b]),K=R?"transparent":"transparentInverse";K=D?"tertiarySemiTransparent":K,K=j?"transparentInverse":K;let U=g?E.bt("Kaydedilenler", "Saved", "PinBetterSave.BoardSelection.SavedButton", undefined, true):E.bt("Kaydet", "Save", "PinBetterSave.BoardSelection.SaveButton", undefined, true);return(0,c.jsxs)(o.az,{alignItems:D?"start":"center",dangerouslySetInlineStyle:{__style:{gap:"4px"}},display:"flex",paddingX:N?0:void 0,width:"100%",children:[!A&&(0,c.jsx)(o.az,{"data-test-id":m?"board-selection-item-selected":"board-selection-placeholder",flex:"grow",width:"100%",children:(0,c.jsx)(o.$n,{ref:u,accessibilityControls:e,accessibilityExpanded:s,accessibilityHaspopup:l,accessibilityLabel:(0,n.$)(E.bt("Kaydetmek için bir pano seçin: {{ boardName }}", "Select a board to save to: {{ boardName }}", "PinBetterSave.BoardSelection.DropdownIcon", undefined, true),{boardName:k}),color:K,dataTestId:"PinBetterSaveDropdown",iconEnd:"chevron-down",onClick:G,selected:C,size:M?"sm":"lg",text:(0,c.jsx)(o.KJ,{color:L,lineClamp:1,overflow:"breakAll",size:M?"100":"300",weight:"bold",children:k})})}),(0,c.jsx)(o.az,{alignSelf:R?"center":"start","data-test-id":"PinBetterSaveButton",flex:"none",marginStart:"auto",children:(0,c.jsx)(o.PF,{ref:I,color:p||R&&z?"secondary":"primary",onClick:({event:e})=>{A?b(e):h(e)},selected:g,size:M?"sm":"lg",text:U})}),!!P&&!!x&&R&&P(x)]})}},275953(e,s,l){l.d(s,{a:()=>K});var a,t,o=l(61163),i=l(859471),r=l(106386);l(825193);var n=l(979638),_=l(427471),c=l(243439),d=l(586733),u=l(900303),A=l(296221),g=l(250325),b=l(567176),h=l(693154),p=l(535273),P=l(662449),f=l(538329),m=l(74806),C=l(706466),z=l(987055),S=l(961403),v=l(310065),T=l(48180),y=l(878913),w=l(204398),E=l(96897),x=l(974694),I=l(19821),N=l(542975),B=l(570805),O=l(562615),k=l(96740);let R=";base64,";function D(e,s,l){var a;return(s="symbol"==typeof(a=function(e,s){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var a=l.call(e,s||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(s,"string"))?a:a+"")in e?Object.defineProperty(e,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[s]=l,e}let j=/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>…)]+/gi,M=(void 0!==a||(a=l(82118)).hash&&"64132b88edd48497e63c9ad85ae5ab66"!==a.hash&&console.error("The definition of 'PinSaveRequest_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),L=(void 0!==t||(t=l(842227)).hash&&"58c24e25a76e7a1c4533f3b07f490517"!==t.hash&&console.error("The definition of 'PinSaveRequest_shuffle_asset' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);class G extends i.Component{constructor(...e){super(...e),D(this,"state",{boardSavedTo:null,displaySuccessAnimation:!1,newPin:null,modalTitle:this.getModalTitle(this.props.showCreate,!!this.props.boardWithSection),pinDescription:this.props.pin&&this.props.pin.description||this.props.urlPinInfo?.description||"",resolve:void 0,sharing:{facebook:!1,twitter:!1}}),D(this,"unmounted",!1),D(this,"setModalTitle",e=>this.safeSetState({modalTitle:e})),D(this,"updateDescription",e=>{this.safeSetState({pinDescription:e})}),D(this,"close",()=>{let{onClose:e}=this.props;e&&e(),this.props.logContextEvent({event_type:2502,component:5,element:610})}),D(this,"safeSetState",(e,s)=>{this.unmounted?s&&s():this.setState(e,s)}),D(this,"getPinResource",(e,s,l)=>{let{color:a,clientTrackingParams:t,currentHistoryStack:o,pin:i,method:r,guid:n,additionalCreateFields:d,advertiser_id:u,urlPinInfo:A,shuffleAsset:g,viewerUserId:b}=this.props,h=i?.entityId?"RepinResource":"PinResource",p=i?.imageUrl||A?.imageUrl,P=i?.link||A?.link,f=!i?.entityId&&p?(0,z.A)(p,P):i?.images_orig?.url||"",{imageBase64:m,imageUrl:C}=function({pinImageBase64:e,imageUrl:s}){let l=s.startsWith("data:"),a=l?function(e){let s=e.indexOf(R);if(!(s<0))return e.slice(s+R.length)||void 0}(s):void 0,t=e??a;return l?{imageBase64:t,imageUrl:void 0}:{imageBase64:t,imageUrl:s}}({pinImageBase64:i?.imageBase64,imageUrl:f}),{trafficSource:S}=(0,c.A)(o??[],!!b),v={...d,board_id:s||"",color:a||"",clientTrackingParams:(0,T.A)(t,i?.trackingParams),description:this.state.pinDescription,guid:n||"",link:P,image_base64:m,image_url:C,is_buyable_pin:!1,is_removable:i?.promotedIsRemovable??void 0,media_upload_id:i?.mediaUploadId??void 0,method:r||"",pin_id:i?.entityId||"",section:l,title:i?.title||"",aux_data:{source:S},...u?{advertiser_id:u}:Object.freeze({}),...g?{shuffle_asset:g.entityId}:{}};if(!e){let{facebook:e,twitter:s}=this.state.sharing;v.share_facebook=e,v.share_twitter=s}return _.A.create(h,v)}),D(this,"triggerPubSubs",e=>{this.props.onPinCreate&&this.props.onPinCreate({boardId:e.board.id,pinId:e.id})}),D(this,"makeCancelablePromise",e=>{let s=!1;return{promise:new Promise((l,a)=>{e.then(e=>s?a({isCanceled:!0}):l(e)),e.catch(e=>s?a({isCanceled:!0}):a(e))}),cancel(){s=!0}}}),D(this,"handleLogToastClick",()=>{this.props.logContextEvent({event_type:101,component:20,view_type:52})}),D(this,"showBoardSavedToast",(e,s)=>{let{toastManagerContext:l,i18n:a}=this.props;l.showToast(({hideToast:l})=>{var t;return(0,O.jsx)(b.A,{duration:4e3,href:s?`${e.url??""}${s.slug??""}`:e.url,imageUrl:e.image_cover_url??"",onClick:this.handleLogToastClick,onHide:l,text:(t=e.name,s?(0,B.A)(a.bt("{{boardName}} içerisinde {{sectionName}} içerisine kaydedildi", "Saved to {{sectionName}} in {{boardName}}", "Toast for successfully saving to a section within a board", undefined, true),{sectionName:s.title??"",boardName:t??""}):(0,O.jsx)(I.KJ,{children:(0,N.$w)({text:a.bt("<strong id=\"1\">{{ boardName }}</strong> panosuna kaydedildi", "Saved to <strong id=\"1\">{{ boardName }}</strong>", "PinToBoard.Lib.SavedToBoardToast.Message", undefined, true),markers:{boardName:t??""},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,O.jsx)(I.KJ,{weight:"bold",children:e})}})}))})})}),D(this,"dismissModal",()=>{let{resolve:e,newPin:s}=this.state;e&&e(s)}),D(this,"handleBoardSaveSuccess",(e,s,l,a)=>{let{action:t,saveToBoard:o,dispatch:i,pin:r,setCompletionPromise:n,shouldShowToast:_,showRepinAnimation:c,viewerUserId:d,urlPinInfo:u}=this.props;i((0,g.$O)());let A=e.resource_response.data,b=this.makeCancelablePromise(new Promise(e=>{this.triggerPubSubs(A);let t=this.state.pinDescription.match(j)||[];t.length>0&&this.props.logContextEvent({event_type:2,element:10273,object_id_str:this.props.pin?.entityId,aux_data:{hashtags:JSON.stringify(t)}});let o=()=>{_&&this.showBoardSavedToast(s,l),this.safeSetState({displaySuccessAnimation:!0,modalTitle:this.props.i18n.bt("Pano oluşturuldu", "Board created", "Modal title after creating a new board", undefined, true),newPin:A,resolve:e})};a?o():e(A)}));!a&&r?.entityId&&c(r.entityId),n(b),o(s),i((0,w.zY)({boardId:s.id,sectionId:l&&l.id,increment:1})),d&&(i((0,x.LR)({userId:d,increment:1})),i((0,g.$O)())),(l||!s.image_cover_url)&&(s.image_cover_url=r?.imageUrl||u?.imageUrl||r?.images_236x?.url||"",i((0,w.NQ)(s))),l&&i((0,m.Jt)("BoardSectionResource",{options:{field_set_key:"board_page",section_id:l.id}})),r?.entityId&&i((0,E.J4)({id:r.entityId,nodeId:r.__id,boardId:s.id,title:s.name??"",url:s.url??"",localPinId:A.id}))}),D(this,"handleSaveToBoard",(e,s,l)=>{let{onToggleModal:a,shouldShowToast:t,mountAfterActionPlacement:o}=this.props;t&&!l&&(this.close(),this.showBoardSavedToast(e,s));let i="secret"===(e.privacy||""),r={board:s?s.id:e.id,state:k.J.LOADING};this.safeSetState({boardSavedTo:r},()=>{this.getPinResource(i,e.id,(s||{}).id).callCreate({showError:!1}).then(t=>{let i=t.resource_response.data,{clientTrackingParams:n,currentHistoryStack:_,pin:d,viewerUserId:u}=this.props,{trafficSource:A}=(0,c.A)(_??[],!!u);this.props.logContextEvent({aux_data:{source:A},clientTrackingParams:(0,T.A)(n,d?.trackingParams)??void 0,event_type:d?.entityId?5:1,object_id_str:i?.id||d?.entityId||"",view_type:52}),o("Save",{pin_id:d?.entityId,is_promoted:d?.isPromoted}),this.safeSetState({boardSavedTo:Object.assign(r,{state:k.J.SUCCESS})},()=>this.handleBoardSaveSuccess(t,e,s,l)),a&&!l&&a(!1)}).catch(e=>{this.unmounted||this.safeSetState({boardSavedTo:null}),u.A.showError(e.message_detail||e.message);let s=this.makeCancelablePromise(Promise.reject(e));this.props.setCompletionPromise(s),a&&a(!1)})})}),D(this,"handleNewBoardAnimationCompletion",()=>{let{pin:e,showRepinAnimation:s}=this.props;e?.entityId&&s(e.entityId)})}getModalTitle(e,s){if(e)if(s)return this.props.i18n.bt("Bölüm oluşturun", "Create section", "modal title for create section pane", undefined, true);else return this.props.i18n.bt("Pano oluştur", "Create board", "Repin title for making a new board", undefined, true);return s?this.props.i18n.bt("Bölüm seçin", "Choose section", "modal title for choose section", undefined, true):this.props.i18n.bt("Pano seçin", "Choose board", "Repin title for choosing a board", undefined, true)}componentDidUpdate(e){let{boardWithSection:s,showCreate:l,pin:a,urlPinInfo:t,description:o}=this.props,i={};(a!==e.pin||t!==e.urlPinInfo||o!==e.description)&&(i.pinDescription=a?.description||t?.description||o||""),(l!==e.showCreate||s!==e.boardWithSection)&&(i.modalTitle=this.getModalTitle(l,!!s)),Object.keys(i).length>0&&this.safeSetState(i)}componentWillUnmount(){this.unmounted=!0}render(){let{close:e,dismissModal:s,handleNewBoardAnimationCompletion:l,handleSaveToBoard:a,setModalTitle:t,updateDescription:o}=this,{boardSavedTo:i,displaySuccessAnimation:r,modalTitle:n,newPin:_}=this.state,{color:c}=this.props;return this.props.children({boardSavedTo:i,color:c,dismissModal:s,displaySuccessAnimation:r,handleAbort:e,handleNewBoardAnimationCompletion:l,handleSaveToBoard:a,modalTitle:n,newPin:_,setModalTitle:t,updateDescription:o})}componentDidMount(){(0,o.A)("PinSaveRequest","/app/www/save/pin-to-board/PinSaveRequest.tsx")}}function K({pinKey:e,shuffleAssetKey:s,...l}){(0,i.useEffect)(()=>{(0,o.A)("PinSaveRequest","/app/www/save/pin-to-board/PinSaveRequest.tsx")},[]);let{saveToBoard:a}=(0,v.p)(),{logContextEvent:t}=(0,d.o)(),_=(0,y.y)()?.onPinCreate,c=(0,f.A)(),u=(0,n.zy)(),g=(0,h.A)(),b=(0,C.CG)(),m=(0,r.wA)(),{updateHeaderState:z}=(0,S.A)(),T=(0,r.d4)(({advertiser:e})=>g.isAuth&&e&&e.owner_user_id!==g.id?e.id:void 0),{previous:w}=(0,P.qD)(),E=(0,A.Ts)(),x=(0,P.V)(),I=(0,p.A)(M,e),N=(0,p.A)(L,s);return(0,O.jsx)(G,{...l,advertiser_id:T,currentHistoryStack:x,dispatch:m,i18n:c,location:u,logContextEvent:t,mountAfterActionPlacement:E,onPinCreate:_,pin:I,previousHistory:w,saveToBoard:a,showRepinAnimation:e=>z({type:"showRepinAnimation",payload:e}),shuffleAsset:N,toastManagerContext:b,viewerUserId:g.isAuth?g.id:void 0})}},96740(e,s,l){l.d(s,{J:()=>a});let a={LOADING:"loading",SUCCESS:"success"}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/62155.tr-5cc6093a31986ef0.mjs.map