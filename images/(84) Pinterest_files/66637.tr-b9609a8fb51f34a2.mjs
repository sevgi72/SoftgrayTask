(self.modernJsonp=self.modernJsonp||[]).push([["66637"],{277229(e,t,n){n.d(t,{A:()=>A});var r=n(859471),a=n(49241);let o=["1200x","736x","474x474","236x236"];var i=n(61163),s=n(979638),l=n(19821),c=n(538329),d=n(911127),u=n(562615);function p({buttonPadding:e,isDeleted:t,onUndoClick:n}){(0,r.useEffect)(()=>{(0,i.A)("LensHistoryItemDeleteOverlay","/app/common/react/components/Lens/History/LensHistoryItemDeleteOverlay.tsx")},[]);let a=(0,c.A)();return(0,u.jsx)(d.A,{children:(0,u.jsxs)(l.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"var(--sema-color-background-wash-scrims-default)",backdropFilter:"blur(10px)",cursor:"default",opacity:+!!t,pointerEvents:t?"auto":"none",transition:"opacity 200ms linear"}},left:!0,padding:e??3,position:"absolute",right:!0,rounding:400,top:!0,children:[(0,u.jsx)(l.KJ,{color:"light",children:a.bt("Başarıyla silindi", "Successfully deleted", "lens.history.deleted.message", undefined, true)}),(0,u.jsx)(l.Rp,{onTap:n,children:(0,u.jsx)(l.Wu,{color:"light",children:a.bt("Geri Al", "Undo", "lens.history.undo", undefined, true)})})]})})}var h=n(324440);function m({buttonPadding:e,saveButtonOnly:t,hideSave:n,imageUrl:a,onDeleteClick:o}){(0,r.useEffect)(()=>{(0,i.A)("LensHistoryItemHoverOverlay","/app/common/react/components/Lens/History/LensHistoryItemHoverOverlay.tsx")},[]);let s=(0,c.A)();return(0,u.jsxs)(l.az,{alignItems:"end",bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"var(--sema-color-background-wash-image-tint)"}},direction:"column",display:"flex",left:!0,padding:e??3,position:"absolute",right:!0,rounding:400,top:!0,children:[!n&&(0,u.jsx)(h.A,{imageUrl:a,saveButtonOnly:t}),(0,u.jsx)(l.az,{marginTop:"auto",children:(0,u.jsx)(l.K0,{accessibilityLabel:s.bt("Sil", "Delete", "lens.history.image.delete", undefined, true),bgColor:"secondary",icon:"trash-can",onClick:o,size:"md"})})]})}var g=n(299374),_=n(586733),y=n(385800);function x({buttonPadding:e,height:t,hideSave:n,id:a,imageHeight:o,imageWidth:d,isDeleted:h,onDeleted:x,onUndoDelete:f,src:b,viewParameter:v,viewType:A,width:w}){(0,r.useEffect)(()=>{(0,i.A)("LensHistoryItem","/app/common/react/components/Lens/History/LensHistoryItem.tsx")},[]);let S=(0,c.A)(),j=(0,s.Zp)(),{logContextEvent:P}=(0,_.o)(),{setPreparedImage:k,setIsPopoverOpen:I}=(0,g.S)(),{hovered:z,onMouseEnter:E,onMouseLeave:T}=(0,y.A)(),C=(0,r.useCallback)(async()=>{P({aux_data:{url:b},event_type:101,view_parameter:v,view_type:A});try{let e=await fetch(b),t=await e.blob(),n=new File([t],`lens-history-${a}`,{type:t.type});k({file:n,src:b,apiUrl:b,width:d,height:o}),P({aux_data:{url:b},event_type:6707,view_parameter:v,view_type:A}),I(!1),j("/lens-search/")}catch{}},[P,b,v,A,a,k,d,o,I,j]),L=(0,r.useCallback)(({event:e})=>{e.stopPropagation(),x(a)},[a,x]),B=(0,r.useCallback)(({event:e})=>{e.stopPropagation(),f(a)},[a,f]),R=(w??d)/(t??o);return(0,u.jsx)(l.Rp,{onTap:C,children:(0,u.jsxs)(l.az,{dangerouslySetInlineStyle:{__style:{aspectRatio:R}},onMouseEnter:E,onMouseLeave:T,overflow:"hidden",position:"relative",rounding:400,children:[(0,u.jsx)(l.n1,{height:"100%",rounding:400,width:"100%",children:(0,u.jsx)(l._V,{alt:S.bt("Lens geçmişi görseli", "Lens history image", "lens.history.image.alt", undefined, true),fit:"cover",naturalHeight:o,naturalWidth:d,src:b})}),z&&!h&&(0,u.jsx)(m,{buttonPadding:e,hideSave:n,imageUrl:b,onDeleteClick:L}),(0,u.jsx)(p,{buttonPadding:e,isDeleted:h,onUndoClick:B})]})})}var f=n(257300),b=n(168079),v=n(430705);function A({buttonPadding:e,height:t,hideSave:n,pageSize:i,viewParameter:s,viewType:l,width:c}){let{data:d,isFetching:p,fetchMore:h,isAtEnd:m,isLoaded:g}=(0,v.A)({name:"ApiResource",options:{url:a.YU,data:{fields:"id, image_urls, image_sizes",...void 0!==i&&{page_size:i}}},noCache:!0}),y=(0,r.useMemo)(()=>d??[],[d]),{deletedIds:A,onDeleted:w,onUndoDelete:S}=function(){let{logContextEvent:e}=(0,_.o)(),[t,n]=(0,r.useState)(new Set),o=(0,r.useRef)(new Set),i=(0,r.useRef)(!1);return(0,r.useEffect)(()=>{o.current=t},[t]),(0,b.A)(()=>{let t=()=>{if(i.current||0===o.current.size)return;i.current=!0;let t=Array.from(o.current);(async()=>{try{await (0,f.A)({url:a.YU,method:"DELETE",data:{lens_history_ids:t}}),t.forEach(()=>{e({event_type:15657,view_parameter:a.Gj,view_type:a.rm})})}catch(e){}})()},n=()=>t();return window.addEventListener("beforeunload",n),()=>{t(),window.removeEventListener("beforeunload",n)}}),{deletedIds:t,onDeleted:(0,r.useCallback)(e=>{n(t=>new Set(t).add(e)),i.current=!1},[]),onUndoDelete:(0,r.useCallback)(e=>{n(t=>{let n=new Set(t);return n.delete(e),n}),i.current=!1},[])}}(),j=(0,r.useCallback)(r=>{let{id:a}=r,i=function(e){let{image_urls:t,image_sizes:n}=e;if(!t||!n)return null;let r=o.find(e=>t[e]&&n[e]);if(!r)return null;let a=t[r],i=n[r];if(!a||!i||"string"!=typeof a)return null;let{height:s,width:l}=i;return"number"!=typeof s||"number"!=typeof l||0===l||0===s?null:{src:a,height:s,width:l}}(r);if(!i||!a)return null;let{height:d,width:p,src:h}=i,m=A.has(a);return(0,u.jsx)(x,{buttonPadding:e,height:t,hideSave:n,id:a,imageHeight:d,imageWidth:p,isDeleted:m,onDeleted:w,onUndoDelete:S,src:h,viewParameter:s,viewType:l,width:c})},[e,A,t,n,w,S,s,l,c]);return{items:y,isFetching:p,fetchMore:h,isAtEnd:m,isLoaded:g,deletedIds:A,renderItem:j}}},324440(e,t,n){n.d(t,{A:()=>S});var r=n(61163),a=n(859471),o=n(19821),i=n(49241),s=n(911127),l=n(385336),c=n(400235),d=n(562615);function u({anchorRef:e,board:t,onBoardSelect:n,onDismiss:u,popoverId:p,urlPinInfo:h}){(0,a.useEffect)(()=>{(0,r.A)("BoardPicker","/app/common/react/components/Lens/Save/BoardPicker.tsx")},[]);let[m,g]=(0,a.useState)(!1),[_,y]=(0,a.useState)(""),x=(0,a.useCallback)(e=>{let{id:t,name:r,url:a}=e;n({id:t,name:r,url:a}),u()},[n,u]),f=(0,a.useCallback)(e=>{if(!e.boardId)return;let{boardId:t,title:r,url:a}=e;n({id:t,name:r??void 0,url:a??void 0}),u()},[n,u]),b=(0,a.useCallback)(e=>{y(e?.title??""),g(!0)},[]),v=(0,a.useCallback)(()=>{g(!1),u()},[u]);return(0,d.jsx)(o.Wd,{zIndex:new o.K5([i.B4]),children:m?(0,d.jsx)(l.A,{boardCreateSource:"board_picker",images:[{url:h.imageUrl,name:""}],initialValues:{boardName:_},onBoardCreate:x,onClose:v}):(0,d.jsx)(o.AM,{anchor:e.current,id:p,idealDirection:"down",onDismiss:u,positionRelativeToAnchor:!1,size:"xl",children:(0,d.jsx)(s.A,{children:(0,d.jsx)(c.cC,{displayShortlistMostRecentBoard:!0,onBoardCreate:b,onItemChosen:f,selectedItem:t,showCreateBoardButton:!0,showFlyoutSaveButton:!1,showSaveToProfile:!0})})})})}var p=n(299374),h=n(257300),m=n(567176),g=n(538329),_=n(706466),y=n(409652),x=n(106386),f=n(168079),b=n(275953);function v({board:e,onSaveComplete:t,urlPinInfo:n}){return(0,a.useEffect)(()=>{(0,r.A)("SaveHandler","/app/common/react/components/Lens/Save/SaveHandler.tsx")},[]),(0,d.jsx)(b.a,{action:"create",description:"",method:"lens",pinKey:null,setCompletionPromise:t,shuffleAssetKey:null,urlPinInfo:n,children:({handleSaveToBoard:t})=>(0,d.jsx)(A,{board:e,handleSaveToBoard:t})})}function A({board:e,handleSaveToBoard:t}){return(0,f.A)(()=>{t({...e,type:"board"})}),null}var w=n(31973);function S({imageUrl:e,saveButtonOnly:t=!1}){(0,a.useEffect)(()=>{(0,r.A)("LensBetterSave","/app/common/react/components/Lens/Save/LensBetterSave.tsx")},[]);let n=(0,a.useId)(),i=(0,a.useRef)(null),s=(0,a.useRef)(null),l=t?i:s,[c,f]=(0,a.useState)(!1),{isSaved:b,board:A,urlPinInfo:S,saveImageToBoard:j,handleUnsave:P,renderPendingSave:k}=function({imageUrl:e}){let t={description:"",imageUrl:e,link:""},n=function(){let e=(0,x.d4)(e=>e.mostRecentBoard);if(e)return{id:e.id,name:e.name,url:e.url}}(),{isSaved:r,savedBoard:o,handleBoardSaveComplete:i,handleUnsave:s,setOptimisticSave:l}=function({imageUrl:e}){let t=(0,g.A)(),n=(0,_.CG)(),{getSavedImageState:r,setSavedImageState:o,clearSavedImageState:i}=(0,p.S)(),s=r(e),[l,c]=(0,a.useState)(!!s),[u,x]=(0,a.useState)(s?.pinId??null),[f,b]=(0,a.useState)(s?.board),v=(0,a.useCallback)(async(r,a)=>{await (0,h.A)({url:"/v3/pins/{pin}/",urlParams:{pin:r},method:"DELETE"}),c(!1),x(null),b(void 0),i(e);let o=a?t.bt("Panonuzdan kaldırıldı!", "Removed from your board!", "LensBetterSave.RemovedFromBoard", undefined, true):t.bt("Pin kaldırıldı!", "Pin removed!", "LensBetterSave.PinRemoved", undefined, true);n.showToast(({hideToast:e})=>(0,d.jsx)(m.A,{dataTestId:"lens-better-save-removed-toast",onHide:e,text:o}))},[i,t,e,n]),A=(0,a.useCallback)(async()=>{u&&await v(u,!!f?.id)},[u,f?.id,v]),w=(0,a.useCallback)(e=>{c(!0),b(e)},[]);return{isSaved:l,savedBoard:f,handleBoardSaveComplete:(0,a.useCallback)(async t=>{let{id:r,board:a}=await t.promise,{id:i,name:s,url:l}=a,u={id:i,name:s,url:l};c(!0),x(r),b(u),o(e,{pinId:r,board:u}),n.showToast(({hideToast:t})=>(0,d.jsx)(y.A,{boardName:s,boardUrl:l,onHide:t,onUndo:async()=>{t(),await v(r,!!i)},pinImageUrl:e}))},[e,o,n,v]),handleUnsave:A,setOptimisticSave:w}}({imageUrl:e}),{setPendingBoard:c,renderPendingSave:u}=function({urlPinInfo:e,onBoardSaveComplete:t}){let[n,r]=(0,a.useState)(null),o=(0,a.useCallback)(()=>n?(0,d.jsx)(v,{board:n,onSaveComplete:async e=>{await t(e),r(null)},urlPinInfo:e}):null,[n,t,e]);return{setPendingBoard:r,renderPendingSave:o}}({urlPinInfo:t,onBoardSaveComplete:i});return{isSaved:r,board:o??n,urlPinInfo:t,saveImageToBoard:(0,a.useCallback)(e=>{l(e),c(e)},[l,c]),handleUnsave:s,renderPendingSave:u}}({imageUrl:e}),I=(0,a.useCallback)(e=>{(e.stopPropagation(),t&&b)?P():f(e=>!e)},[t,b,P]),z=(0,a.useCallback)(async e=>{(e.stopPropagation(),b)?P():!A?.id||t?f(!0):j(A)},[A,t,b,P,j]);return(0,d.jsxs)(o.az,{ref:i,"data-test-id":"lens-better-save",width:"100%",children:[(0,d.jsx)(w.A,{accessibilityControls:n,accessibilityExpanded:c,accessibilityHaspopup:!0,dropdownRef:s,hideDropdown:t,isSaved:b,onBoardDropdownClick:I,onSaveClick:z,promotedIsLeadAd:!1,selectedTitle:A?.name,showBoardFlyout:c,unselectedText:"Select",variant:"pin"}),c&&(0,d.jsx)(u,{anchorRef:l,board:A,onBoardSelect:j,onDismiss:()=>f(!1),popoverId:n,urlPinInfo:S}),k()]})}},49241(e,t,n){n.d(t,{B4:()=>m,CR:()=>u,Dj:()=>f,Et:()=>x,Gj:()=>l,J8:()=>h,SK:()=>i,SY:()=>d,UQ:()=>b,WK:()=>y,YU:()=>o,b0:()=>A,cr:()=>v,eN:()=>c,g0:()=>_,hU:()=>w,nb:()=>g,qm:()=>p,rm:()=>s});var r=n(19821),a=n(584342);let o="/v3/visual_search/lens/history/",i="/upload-lens-image-history/",s=119,l=4054,c=48,d=15075,u=119,p=130,h=540,m=new r.K5([a.Bf]),g="CAMERA_GALLERY",_="image/jpeg",y=".jpg",x=.8,f=1200,b="/v3/visual_search/lens/upload/",v="IMAGE_URL",A="/v3/visual_search/lens/search/",w="/upload-lens-image/"},910409(e,t,n){n.d(t,{A:()=>o});let r=[{magicBytes:"Qk",format:{mimeType:"image/bmp",extension:".bmp"}},{magicBytes:"R0lGOD",format:{mimeType:"image/gif",extension:".gif"}},{magicBytes:"/9j/",format:{mimeType:"image/jpeg",extension:".jpg"}},{magicBytes:"iVBORw0KGgo",format:{mimeType:"image/png",extension:".png"}},{magicBytes:"SUkq",format:{mimeType:"image/tiff",extension:".tiff"}},{magicBytes:"TU0A",format:{mimeType:"image/tiff",extension:".tiff"}},{magicBytes:"UklGR",format:{mimeType:"image/webp",extension:".webp"}}],a={mimeType:"image/png",extension:".png"};function o(e){let t,n=r.find(({magicBytes:t})=>e.startsWith(t)),{mimeType:o,extension:i}=n?.format??a;try{t=atob(e)}catch{throw Error("Invalid base64 encoding")}return new File([new Blob([Uint8Array.from(t,e=>e.charCodeAt(0))],{type:o})],`lens-image${i}`,{type:o})}},350539(e,t,n){n.d(t,{i6:()=>l,o_:()=>c});var r=n(35458),a=n(910409),o=n(401691),i=n(484409);let s=r.z.object({src:r.z.string().startsWith("data:"),apiUrl:r.z.string(),width:r.z.number(),height:r.z.number()});function l(e){try{let t={src:e.src,apiUrl:e.apiUrl,width:e.width,height:e.height};(0,i.V2)().setItem(o.Wy,t)}catch{}}function c(){try{let e=(0,i.V2)().getItem(o.Wy),t=s.safeParse(e);if(!t.success)return d(),null;let{src:n,apiUrl:r,width:l,height:c}=t.data,u=n.split(",")[1];if(!u)return d(),null;return{file:(0,a.A)(u),src:n,apiUrl:r,width:l,height:c}}catch{return d(),null}}function d(){try{(0,i.V2)().removeItem(o.Wy)}catch{}}},485647(e,t,n){n.d(t,{A:()=>c});var r=n(61163),a=n(859471),o=n(19821),i=n(154508),s=n(678358),l=n(562615);function c({actionButton:e,collapsed:t,disabled:n,displayViewState:c,forceTappableHeader:d,headerHeight:u,headerPaddingX:p,headerPreview:h,heading:m,icon:g="chevron-down",onClick:_,showArrow:y,surface:x}){(0,a.useEffect)(()=>{(0,r.A)("CollapsableHeader","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CollapsableHeader.tsx")},[]);let{closeupWithinMasonryEnabled:f,peekCloseupEnabled:b,viewportSize:v}=(0,s._G)();if(!d&&null===c){let e,t;return e=(0,i.Kd)({peekCloseupEnabled:b,viewportSize:v,surface:x}),t=(0,l.jsx)(o._Y,{accessibilityLevel:2,align:"start",id:"comments-heading",size:e?"300":"400",children:m}),e?(0,l.jsx)(o.az,{marginBottom:4,children:t}):t}let A=(0,l.jsx)(o.az,{marginBottom:!t&&b?4:void 0,children:(0,l.jsxs)(o.so,{alignItems:"center",dataTestId:"collapsible-header",direction:"row",flex:"grow",height:u,justifyContent:"between",children:[(0,l.jsx)(o.so.Item,{flex:"shrink",children:(0,l.jsx)(o._Y,{accessibilityLevel:2,align:"start",color:n?"disabled":"default",id:"comments-heading",size:"300",children:m})}),(0,l.jsx)(o.so.Item,{flex:"shrink",children:(0,l.jsxs)(o.so,{alignItems:"center",direction:"row",gap:{row:1,column:0},children:[t&&h,(y||f)&&(0,l.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{transform:t?"rotate(0deg)":"rotate(180deg)",transition:"all 600ms cubic-bezier(.25,1,.5,1)"}},opacity:100*!!y,children:(0,l.jsx)(o.In,{accessibilityLabel:"",color:!y||n?"disabled":"default",dataTestId:"collapse-button",icon:g})})]})}),e&&(0,l.jsx)(o.so.Item,{flex:"grow",children:(0,l.jsx)(o.so,{justifyContent:"end",children:e})})]})});return(0,l.jsx)(o.az,{paddingX:p,children:_?(0,l.jsx)(o.Rp,{disabled:!y||n,onTap:_,children:A}):A})}},655352(e,t,n){n.d(t,{A:()=>r});let r='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","ヒラギノ角ゴ Pro W3","Hiragino Kaku Gothic Pro",メイリオ,Meiryo,"ＭＳ Ｐゴシック",Arial,sans-serif'},642477(e,t,n){n.d(t,{A:()=>a});var r=n(844255);let a=function(){let{country:e,isBot:t,isAuthenticated:n,locale:a}=(0,r._8)(),o="en"===a.slice(0,2);return t||!n&&o&&"US"===e}},24086(e,t,n){n.d(t,{A:()=>a});var r=n(859471);let a=function(e,t){let n=(0,r.useRef)(e),a=(0,r.useRef)(void 0),o=(0,r.useRef)(void 0);(0,r.useEffect)(()=>{n.current=e},[e]),(0,r.useEffect)(()=>()=>{a.current&&clearTimeout(a.current)},[t]);let i=(0,r.useCallback)((...e)=>{o.current=e,a.current&&clearTimeout(a.current),a.current=window.setTimeout(()=>{n.current(...e),o.current=void 0},t)},[t]);return i.flush=(0,r.useCallback)(()=>{if(a.current&&(clearTimeout(a.current),a.current=void 0),o.current){let e=o.current;return o.current=void 0,n.current(...e)}},[]),i.cancel=(0,r.useCallback)(()=>{a.current&&(clearTimeout(a.current),a.current=void 0),o.current=void 0},[]),i}},353614(e,t,n){n.d(t,{A:()=>r});function r(e,t){return e.reduce((e,n)=>{let r="function"==typeof t?t(n):n[t];return r in e||(e[r]=[]),e[r].push(n),e},{})}},640992(e,t,n){n.d(t,{A:()=>a});var r=n(859471);function a(e){let{animationData:t,autoplay:a,initialSegment:o,loop:i,onComplete:s,onConfigReady:l,onDataFailed:c,onDataReady:d,onDestroy:u,onDOMLoaded:p,onEnterFrame:h,onLoadedImages:m,onLoopComplete:g,onSegmentStart:_}=e,[y,x]=(0,r.useState)(null),[f,b]=(0,r.useState)(!1),v=(0,r.useRef)(null),A=(0,r.useRef)(null),w=async()=>{x(await n.e("70993").then(n.t.bind(n,159976,23)))};return(0,r.useEffect)(()=>{w()},[]),(0,r.useEffect)(()=>{if(!A.current||!y||!t||!t.w||!t.h)return;v.current?.destroy();let n={...e,container:A.current};v.current=y.loadAnimation(n),b(!!v.current)},[A,v,t,y,e]),(0,r.useEffect)(()=>{v.current&&(v.current.loop=!!i,i&&v.current.isPaused&&v.current.play())},[i]),(0,r.useEffect)(()=>{v.current&&(v.current.autoplay=!!a)},[a]),(0,r.useEffect)(()=>{!v.current||(o?Array.isArray(o)&&o.length&&((v.current.currentRawFrame<o[0]||v.current.currentRawFrame>o[1])&&(v.current.currentRawFrame=o[0]),v.current.setSegment(o[0],o[1])):v.current.resetSegments(!1))},[o]),(0,r.useEffect)(()=>{if(!v.current||!f)return()=>{};let e=[{name:"complete",handler:s},{name:"loopComplete",handler:g},{name:"enterFrame",handler:h},{name:"segmentStart",handler:_},{name:"config_ready",handler:l},{name:"data_ready",handler:d},{name:"data_failed",handler:c},{name:"loaded_images",handler:m},{name:"DOMLoaded",handler:p},{name:"destroy",handler:u}].filter(e=>null!=e.handler).map(e=>(v.current?.addEventListener(e.name,e.handler),()=>{v.current?.removeEventListener(e.name,e.handler)}));return()=>{e.forEach(e=>e())}},[f,s,g,h,_,l,d,c,m,p,u]),{animationContainerRef:A,play:()=>{v.current?.play()},stop:()=>{v.current?.stop()},pause:()=>{v.current?.pause()},setSpeed:e=>{v.current?.setSpeed(e)},goToAndStop:(e,t)=>{v.current?.goToAndStop(e,t)},goToAndPlay:(e,t)=>{v.current?.goToAndPlay(e,t)},setDirection:e=>{v.current?.setDirection(e)},playSegments:(e,t)=>{v.current?.playSegments(e,t)},setSubframe:e=>{v.current?.setSubframe(e)},getDuration:e=>v.current?.getDuration(e),destroy:()=>{v.current?.destroy()},animationLoaded:f,animationItem:v.current}}},16917(e,t,n){n.d(t,{A:()=>k});var r=n(17775),a=n(564954),o=n(385982),i=n(472723),s=n(746904),l=n(355426),c=n(54240),d=n(752643),u=n(441496),p=n(449344),h=n(2354);let m="stopwatch_v2",g=(0,r.lo)(m),_=new Map,y=[],x=[],f=!1;function b(){let e=performance.now();_.forEach((t,n)=>{e-t.startTimestamp>t.maxDuration&&(g(`Auto-aborting stale stopwatch ${n} after ${t.maxDuration}ms`),P(n,"exceeded_max_duration"))})}function v(e,t,n){performance.mark(`${m}:${e}:${t}`,n?{startTime:n}:void 0)}function A(e,t,n,r){performance.measure(`${m}:${e}:${t}`,n,r)}function w(e){let t=`${m}:${e}:`,n=[`${t}start`,`${t}end`,`${t}subspan:`];return y.filter(e=>e.name.startsWith(t)&&!n.some(t=>e.name.startsWith(t))).map(e=>({label:e.name.slice(t.length),timestamp:e.startTime}))}function S(e,t){let n=`${m}:${e}:subspan:`;return x.filter(e=>e.name.startsWith(n)).map(e=>({name:e.name.slice(n.length),id:(0,c.A)(),parentId:t,startTime:e.startTime,endTime:e.startTime+e.duration,annotationMap:{},binaryAnnotationMap:{}}))}function j(e){let t=`${m}:${e}:`;try{y=y.filter(e=>!e.name.startsWith(t)),x=x.filter(e=>!e.name.startsWith(t))}catch{}let n=_.get(e);n?.resourceObserver?.disconnect(),_.delete(e)}function P(e,t){if(!(0,d.A)())return;let n=_.get(e);if(!n)return void(0,u.J6)({errorName:"stopwatch_not_found",pwtName:e,errorDetailsTag:"abort",version:"2"});g(`Aborted ${e}: ${t}`);let r=performance.now(),{startTimestamp:o}=n,s=(0,c.A)(),m=(0,h.tQ)(),y={type:"stopwatch",name:e},x={type:"ABORT",traceId:s,startTime:o,endTime:r,spans:S(e,s),annotationMap:(0,l.A)(w(e)),binaryAnnotationMap:(0,a.jp)({metricId:y,pwtStaticContext:m,binaryAnnotations:n.binaryAnnotations,performanceResourceTimings:n.resourceBuffer,type:"ABORT",stopwatchVersion:2}),reason:t??"unknown"};(0,i.A)({metricId:y,pwtStaticContext:m,result:x,sampleRate:n.sampleRate,stopwatchVersion:2}),(0,u.HF)({abortReason:t??"unknown",pwtName:e,annotateExperiments:(0,p.e0)(),version:"2"}),j(e)}function k(e,t={}){let{sampleRate:n,maxDuration:r}=t;return{name:e,start:t=>(function(e,t={}){if(!(0,d.A)())return;!function(){if(f||!(0,d.A)())return;f=!0;let e=`${m}:`;try{new PerformanceObserver(t=>{let n=t.getEntries().filter(t=>t.name.startsWith(e));y.push(...n)}).observe({type:"mark",buffered:!0}),new PerformanceObserver(t=>{let n=t.getEntries().filter(t=>t.name.startsWith(e));x.push(...n)}).observe({type:"measure",buffered:!0}),setInterval(b,1e4)}catch{}}(),_.has(e)&&(g(`Stopwatch ${e} already active, aborting previous`),P(e,"new_stopwatch_started"));let n=t.startTime??performance.now(),{observer:r,buffer:a}=function(){let e=[];if(!(0,d.A)())return{observer:null,buffer:e};try{let t=new PerformanceObserver(t=>{if(e.push(...t.getEntries()),e.length>5e3){let t=e.length-5e3;e.splice(0,t),(0,u.pI)({eventName:"resourceBufferTruncated.v2",tags:{dropped:t,remaining:5e3}}),g("Resource buffer truncated",{dropped:t,remaining:5e3})}});return t.observe({type:"resource",buffered:!1}),{observer:t,buffer:e}}catch{return{observer:null,buffer:e}}}();_.set(e,{sampleRate:t.sampleRate??1,binaryAnnotations:{},resourceObserver:r,resourceBuffer:a,startTimestamp:n,maxDuration:t.maxDuration??6e4}),v(e,"start",n),(0,u.Lc)({pwtName:e,annotateExperiments:(0,p.e0)(),version:"2"}),g(`Started ${e}`)})(e,{...t,sampleRate:n,maxDuration:r}),stop:t=>(function(e,t){var n;let r;if(!(0,d.A)())return;let y=_.get(e);if(!y)return void(0,u.J6)({errorName:"stopwatch_not_found",pwtName:e,errorDetailsTag:"stop",version:"2"});let x=t??performance.now();v(e,"end",x);let{startTimestamp:f}=y;A(e,"duration",`${m}:${e}:start`,`${m}:${e}:end`);let b=(0,c.A)(),P=(0,h.tQ)(),k={type:"stopwatch",name:e},I={type:"COMPLETE",metricId:k,traceId:b,startTime:f,endTime:x,spans:[...S(e,b),...(n=y.resourceBuffer,[{name:"network_resources",id:r=(0,c.A)(),parentId:b,startTime:f,endTime:x,annotationMap:{},binaryAnnotationMap:{}},...n.filter(e=>e.responseEnd>0&&e.startTime>=f&&e.responseEnd<=x).map(e=>(0,s.A)((0,o.B)(e,[]),r)).filter(Boolean)])],annotationMap:(0,l.A)(w(e)),binaryAnnotationMap:(0,a.jp)({metricId:k,pwtStaticContext:P,binaryAnnotations:y.binaryAnnotations,performanceResourceTimings:y.resourceBuffer,type:"COMPLETE",stopwatchVersion:2})};g(`Stopped ${e}`,{duration:x-f}),(0,i.A)({metricId:k,pwtStaticContext:P,result:I,sampleRate:y.sampleRate,stopwatchVersion:2}),(0,u.ed)({pwtName:e,annotateExperiments:(0,p.e0)(),version:"2"}),j(e)})(e,t),abort:t=>P(e,t),annotate:t=>{(0,d.A)()&&_.has(e)&&(v(e,t),g(`${e} annotation: ${t}`))},binaryAnnotate:(t,n,r)=>{let a;(a=_.get(e))&&(a.binaryAnnotations={...a.binaryAnnotations,[t]:{value:n,type:r}},g(`${e} binary: ${t}=${String(n)}`))},subspanStart:t=>{(0,d.A)()&&_.has(e)&&(v(e,`subspan:${t}:start`),g(`${e} subspan start: ${t}`))},subspanStop:t=>(function(e,t){if((0,d.A)()&&_.has(e)){v(e,`subspan:${t}:end`);try{A(e,`subspan:${t}`,`${m}:${e}:subspan:${t}:start`,`${m}:${e}:subspan:${t}:end`),g(`${e} subspan stop: ${t}`)}catch{g(`${e} subspan stop failed: ${t}`)}}})(e,t),isActive:()=>_.has(e)}}},782310(e,t,n){n.d(t,{A:()=>A});var r=n(859471),a=n(987628),o=n(1807),i=n(17775),s=n(88894),l=n(564954),c=n(385982),d=n(472723),u=n(746904),p=n(851116),h=n(355426),m=n(772807),g=n(54240),_=n(161235);let y=["closeup_dweb_blended_ui_organic"],x=(0,i.lo)("PwtStopwatch"),f=(e,t)=>{if(_.A){if("start"===t.type&&!e.isTiming){let{name:n,startTime:r,navigationType:a}=t;return(0,o.DM)(`TIMING.${n}`),{isTiming:!0,name:n,isSampled:t.isSampled,startTime:"number"==typeof r?r:_.A.now(),metricId:{type:"stopwatch",name:n,navigationType:a},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId,spanNameUpdates:e.spanNameUpdates}}if(!e.isTiming)if(t.bypassIsTimingCheck)x("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t);else{let n=t.name||e.name;return x("ignoring action - stopwatch is not actively timing",t),(0,o.DM)(`WARN.${n}.noTiming.${t.type}`),e}if("annotate"===t.type){let n=_.A.now();return x(`adding annotation {${t.label}: ${n}}`),{...e,annotations:e.annotations.concat([{label:t.label,timestamp:n}])}}if("binaryAnnotate"===t.type)return x(`adding binary annotation {${t.name}: ${String(t.value)}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,...{[t.name]:{value:t.value,type:t.annotationType}}}};if("binaryAnnotateOperation"===t.type){let{value:n,type:r}=t.binaryAnnotationValueAndType;if(!e.binaryAnnotations[t.name])return{...e,binaryAnnotations:{...e.binaryAnnotations,...{[t.name]:{value:n,type:r}}}};{let a=e.binaryAnnotations[t.name].value||0;return x(`operating on binary annotation {
          name: ${t.name}
          pervious value: ${String(a)}
          operand: ${String(n)}
        }`),{...e,binaryAnnotations:{...e.binaryAnnotations,...{[t.name]:{value:n?t.operation(a,n):a,type:r}}}}}}if("addSubspan"===t.type){x(`adding subspan {${t.name}}`),-1!==e.spans.findIndex(e=>e.name===t.name)&&x(`WARNING: adding duplicate subspan name {${t.name}}`);let n=t.id||(0,g.A)();-1!==e.spans.findIndex(e=>e.id===n)&&x(`WARNING: adding duplicate subspan id {${t.name}: ${n}}`);let r=0;return t.startTime?r=t.startTime:e.startTime?r=e.startTime:x(`WARNING: adding subspan {${t.name}} without start time`),{...e,spans:[...e.spans,{name:t.name,id:n,startTime:r,endTime:t.endTime||1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations},parentId:t.parentId}]}}if("subspanStart"===t.type){x(`starting subspan {${t.name}}`),-1!==e.spans.findIndex(e=>e.name===t.name)&&x(`WARNING: starting duplicate subspan name {${t.name}}`);let n=t.id||(0,g.A)();-1!==e.spans.findIndex(e=>e.id===n)&&x(`WARNING: starting duplicate subspan id {${t.name}: ${n}}`);let r=t.parentName?e.spans.find(e=>e.name===t.parentName)?.id:null;return{...e,spans:[...e.spans,{name:t.name,id:n,parentId:t.parentId||r,startTime:_.A.now(),endTime:1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations}}]}}if("subspanStop"===t.type){x(`stopping subspan {${t.name}}`),!t.id&&e.spans.filter(e=>e.name===t.name).length>1&&(0,o.vV)("duplicate_subspan_stop_name",{name:t.name,type:t.type});let n=t.id?e.spans.findIndex(e=>e.id===t.id):e.spans.findIndex(e=>e.name===t.name);return n>-1?(e.spans[n].endTime=_.A.now(),t.annotations&&(e.spans[n].annotationMap={...e.spans[n].annotationMap,...t.annotations}),t.binaryAnnotations&&(e.spans[n].binaryAnnotationMap={...e.spans[n].binaryAnnotationMap,...t.binaryAnnotations})):(0,o.vV)("invalid_subspan_stop_name",{name:t.name}),e}if("subspanUpdateName"===t.type){e.spans.filter(e=>e.name===t.currentName).length>1&&(0,o.vV)("duplicate_subspan_stop_name",{name:t.currentName,type:t.type});let n=e.spans.findIndex(e=>e.name===t.currentName);return n>-1?t.updateWhenStopwatchCompletes?e.spanNameUpdates=[...e.spanNameUpdates,{currentName:t.currentName,newName:t.newName}]:(x(`renaming subspan {${t.currentName}} to {${t.newName}}`),e.spans[n].name=t.newName):(0,o.vV)("no_subspan_found_to_rename",{name:t.currentName}),e}if("stop"===t.type&&e.isTiming){let{startTime:n,metricId:r,pwtStaticContext:a,annotations:o,binaryAnnotations:i,isSampled:p,spans:m,traceId:f}=e;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),p){let s=t.stopTime||_.A.now(),p=[...m.map(t=>{t.endTime===1/0&&(t.endTime=s);let n=e.spanNameUpdates.findIndex(e=>t.name===e.currentName);return n>-1&&(x(`renaming subspan {${t.name}} to {${e.spanNameUpdates[n].newName}}`),t.name=e.spanNameUpdates[n].newName,e.spanNameUpdates=e.spanNameUpdates.filter(e=>e.newName!==t.name)),t})];if(t.manualAndResourceSpans||0===m.length){let e=(0,g.A)();p.push({name:"network_resources",id:e,startTime:n,endTime:s,annotationMap:{},binaryAnnotationMap:{},parentId:null},...(t.customStopwatchBuffer||[]).map(t=>(0,u.A)((0,c.B)(t,[]),e)).filter(Boolean))}let b={type:"COMPLETE",metricId:r,traceId:f,startTime:n,endTime:s,spans:p,annotationMap:{...(0,h.A)(o)},binaryAnnotationMap:(0,l.jp)({annotateExperiments:y,metricId:r,pwtStaticContext:a,binaryAnnotations:i,performanceResourceTimings:t.customStopwatchBuffer||[],type:"COMPLETE",stopwatchVersion:1})};(0,d.A)({metricId:r,pwtStaticContext:a,result:b,annotateExperiments:y})}return(0,s.EG)(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,g.A)(),spanNameUpdates:[]}}if("error"===t.type){let{error:n,stopwatchPerformanceObserver:r}=t;return n&&(0,o.vV)(n),r&&r.disconnect(),(0,s.EG)(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,g.A)(),spanNameUpdates:[]}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();let n=t.reason||"",{startTime:r,metricId:a,pwtStaticContext:o,binaryAnnotations:i,traceId:c}=e,u={type:"ABORT",traceId:c,startTime:r,endTime:_.A.now(),spans:[],annotationMap:{},binaryAnnotationMap:(0,l.jp)({annotateExperiments:y,metricId:a,pwtStaticContext:o,binaryAnnotations:i,performanceResourceTimings:t.customStopwatchBuffer||[],type:"ABORT",stopwatchVersion:1}),reason:n};return(0,d.A)({metricId:a,pwtStaticContext:o,result:u,annotateExperiments:y}),(0,s.EG)(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:c,spanNameUpdates:[]}}}return e};var b=n(749566),v=n(562615);let A=({name:e,sampleRate:t,abortOnUnloadOrClientNavigation:n=!0,navigationType:i,manualAndResourceSpans:l=!1})=>{let{Provider:c,getMaybe:d}=(0,a.A)(`Stopwatch_${e}`);return{Provider:function({children:a}){let d=(({name:e,sampleRate:t,navigationType:n,manualAndResourceSpans:a=!1})=>{let o=(0,p.A)(),i=(0,r.useRef)([]),l=(0,r.useRef)(null),c=(0,r.useRef)(null);null===c.current&&(c.current=(0,s.Qr)());let[d,u]=(0,r.useReducer)(f,{isTiming:!1,name:e,annotations:[],binaryAnnotations:{},spans:[],traceId:c.current,spanNameUpdates:[]});return o?{isTiming:d.isTiming,name:d.name,start:r=>(window.PerformanceObserver&&(i.current=[],l.current=(0,m.A)({entryTypes:["resource"]},e=>{i.current=i.current.concat(e.getEntries()),i.current.length>1e3&&(i.current=i.current.slice(-1e3))})),u({type:"start",startTime:r,name:e,navigationType:n,pwtStaticContext:o,isSampled:!t||Math.random()<t})),stop:e=>u({type:"stop",stopTime:e,stopwatchPerformanceObserver:l.current,customStopwatchBuffer:i.current,manualAndResourceSpans:a}),error:e=>{u({type:"error",stopwatchPerformanceObserver:l.current,error:e})},abort:e=>u({type:"abort",stopTime:_.A?.now(),stopwatchPerformanceObserver:l.current,customStopwatchBuffer:i.current,reason:e}),annotate:(e,t,n=!1)=>u({type:"annotate",label:e,parentId:t,bypassIsTimingCheck:n}),binaryAnnotate:(e,t,n,r,a=!1)=>u({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:r,bypassIsTimingCheck:a}),binaryAnnotateOperation:({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:r,bypassIsTimingCheck:a=!1})=>u({type:"binaryAnnotateOperation",name:e,binaryAnnotationValueAndType:t,operation:n,parentId:r,bypassIsTimingCheck:a}),addSubspan:({name:e,startTime:t,endTime:n,annotations:r={},binaryAnnotations:a={},parentId:o=null,id:i=null,bypassIsTimingCheck:s=!1})=>u({type:"addSubspan",name:e,startTime:t,endTime:n,annotations:r,binaryAnnotations:a,parentId:o,id:i,bypassIsTimingCheck:s}),subspanStart:({name:e,annotations:t={},binaryAnnotations:n={},parentId:r=null,parentName:a=null,id:o=null,bypassIsTimingCheck:i=!1})=>u({type:"subspanStart",name:e,annotations:t,binaryAnnotations:n,parentId:r,parentName:a,id:o,bypassIsTimingCheck:i}),subspanStop:({name:e,annotations:t,binaryAnnotations:n,id:r,parentId:a,bypassIsTimingCheck:o=!1})=>u({type:"subspanStop",name:e,annotations:t,binaryAnnotations:n,id:r,parentId:a,bypassIsTimingCheck:o}),subspanUpdateName:({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:r=!0})=>u({type:"subspanUpdateName",currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:r}),getSpans:(e,t)=>d.spans.filter(n=>n[e]===t),getTraceId:()=>d.traceId}:null})({name:e,sampleRate:t,navigationType:i,manualAndResourceSpans:l}),u=(0,b.A)(),h=u?u.time:0,g=(0,r.useRef)("NotStarted"),y=d?.isTiming,x=(0,r.useCallback)(t=>{"Started"===g.current?(g.current="Stopped",d?.abort(t)):(0,o.DM)(`WARN.${e}.noTiming.abort`)},[d]),A=(0,r.useCallback)((e,t)=>{d?.annotate(e,t)},[d]),w=(0,r.useCallback)((e,t,n,r)=>{d?.binaryAnnotate(e,t,n,r)},[d]),S=(0,r.useCallback)(({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:r,bypassIsTimingCheck:a})=>{d?.binaryAnnotateOperation({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:r,bypassIsTimingCheck:a})},[d]),j=(0,r.useCallback)(({name:e,startTime:t,endTime:n,annotations:r,binaryAnnotations:a,parentId:o,id:i,bypassIsTimingCheck:s})=>{d?.addSubspan({name:e,startTime:t,endTime:n,annotations:r,binaryAnnotations:a,parentId:o,id:i,bypassIsTimingCheck:s})},[d]),P=(0,r.useCallback)(({name:e,annotations:t,binaryAnnotations:n,parentId:r,parentName:a,id:o,bypassIsTimingCheck:i})=>{d?.subspanStart({name:e,annotations:t,binaryAnnotations:n,parentId:r,parentName:a,id:o,bypassIsTimingCheck:i})},[d]),k=(0,r.useCallback)(({name:e,annotations:t,binaryAnnotations:n,id:r,parentId:a,bypassIsTimingCheck:o})=>{d?.subspanStop({name:e,annotations:t,binaryAnnotations:n,id:r,parentId:a,bypassIsTimingCheck:o})},[d]),I=(0,r.useCallback)(({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:r})=>{d?.subspanUpdateName({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:r})},[d]),z=(0,r.useCallback)((e,t)=>d?d.getSpans(e,t):[],[d]),E=(0,r.useCallback)(()=>d?d.getTraceId():"",[d]),T=(0,r.useCallback)(t=>{"Started"===g.current?(g.current="Stopped",d?.error(t)):(0,o.DM)(`WARN.${e}.noTiming.error`)},[d]),C=(0,r.useCallback)(e=>{"Started"===g.current&&d?.abort("duplicated_init_stopwatch_action"),g.current="Started",d?.start(e)},[d]),L=(0,r.useCallback)(e=>{"NotStarted"===g.current&&(g.current="Started",d?.start(e))},[d]),B=(0,r.useCallback)(t=>{"Started"===g.current?(g.current="Stopped",d?.stop(t)):(0,o.DM)(`WARN.${e}.noTiming.stop`)},[d]);(0,r.useEffect)(()=>()=>{n&&x("unloadOrClientNavigation")},[h]);let R=(0,r.useMemo)(()=>({name:e,isTiming:y,abort:x,addAnnotation:A,addBinaryAnnotation:w,binaryAnnotationOperation:S,addSubspan:j,subspanStart:P,subspanStop:k,getSpans:z,getTraceId:E,updateSubspanName:I,stop:B,error:T,start:C,startOnce:L}),[y,x,A,w,S,j,P,k,z,E,I,B,T,C,L]);return(0,v.jsx)(c,{value:R,children:a})},get:d}}},114735(e,t,n){n.d(t,{A:()=>a});let r=(0,n(16917).A)("search_tab_render");function a(){return r}},355426(e,t,n){n.d(t,{A:()=>r});let r=e=>{let t={};e.forEach(({label:e,timestamp:n})=>{t={...t,[e]:(t[e]||[]).concat([n])}});let n=Object.freeze({});return Object.keys(t).forEach(e=>{(t[e]||[]).forEach((t,r)=>{let a=r?`${e}_${r+1}`:e;n={...n,[a]:t}})}),n}},888454(e,t,n){n.d(t,{fX:()=>o,kP:()=>a,uq:()=>r});let r="var(--sema-color-hover-background-secondary)",a="var(--sema-color-background-secondary)",o="0 0 0 4px rgba(0, 132, 255, .5)"},802209(e,t,n){n.d(t,{$G:()=>o,AP:()=>m,G2:()=>a,Kf:()=>l,Nc:()=>u,Qf:()=>s,Tx:()=>i,V1:()=>c,ZD:()=>g,hm:()=>d,iz:()=>y,xP:()=>h,xx:()=>_,ys:()=>p});var r=n(19821);let a={w:9,h:16},o=a.w/a.h,i=800,s=10,l=5e3,c=2e3;function d(e,t=1){return{x:(e??24)/5,y:(e??24)*(t-1)}}let u={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},p=[u.IMAGE,u.VIDEO],h={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28},m=new r.rk(1),g=new r.K5([m]),_=new r.K5([g]),y=e=>{let t=Math.floor(e||0),n=Math.floor(t/60),r=t-60*n,a=n<10?`${n}`:n,o=r<10?`0${r}`:r;return`${a}:${o}`}},483877(e,t,n){n.d(t,{A:()=>r});let r=({url:e})=>""===e||/^(https?:\/\/)?[a-z0-9_\-]+\..+/i.test(e)},156602(e,t,n){n.d(t,{A:()=>c});var r=n(61163),a=n(859471),o=n(19821),i=n(562615);function s(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let l={default:{backgroundColor:"var(--sema-color-background-secondary)",boxShadow:"none"},drag:{backgroundColor:"var(--sema-color-background-default)",boxShadow:"var(--sema-space-0) var(--sema-space-0) var(--sema-space-0) var(--sema-space-25) var(--sema-color-border-education)"},error:{backgroundColor:"var(--sema-color-background-error-weak)",boxShadow:"var(--sema-space-0) var(--sema-space-0) var(--sema-space-0) var(--sema-space-25) var(--sema-color-border-error)"}};class c extends a.Component{constructor(...e){super(...e),s(this,"state",{isDraggingOver:!1,isHoveringOver:!1,containedHeight:null}),s(this,"handleOnDragEnter",e=>{let{onDragEnter:t}=this.props;e.preventDefault(),e.stopPropagation(),this.setState({isDraggingOver:!0}),t&&t(e)}),s(this,"handleOnDragLeave",e=>{let{onDragLeave:t}=this.props;e.preventDefault(),e.stopPropagation(),this.setState({isDraggingOver:!1}),t&&t(e)}),s(this,"handleOnDragOver",e=>{let{onDragOver:t}=this.props;e.preventDefault(),e.stopPropagation(),t&&t(e)}),s(this,"handleOnDrop",e=>{let{onDrop:t}=this.props;e.preventDefault(),e.stopPropagation(),this.setState({isDraggingOver:!1}),t&&t(e)}),s(this,"handleMouseEnter",()=>{let{onMouseEnter:e}=this.props;e&&e(),this.setState({isHoveringOver:!0})}),s(this,"handleMouseLeave",()=>{let{onMouseLeave:e}=this.props;e&&e(),this.setState({isHoveringOver:!1})}),s(this,"setContainedHeight",e=>{this.setState({containedHeight:e})})}getDragContainerStyles(e,t){return t&&"default"===e?{...l[e],backgroundColor:t}:l[e]}render(){let{children:e,color:t,dropRounding:n,hasError:r,height:a,position:s,width:l}=this.props,{isDraggingOver:c,isHoveringOver:d,containedHeight:u}=this.state;return(0,i.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{...this.getDragContainerStyles(c?"drag":r?"error":"default",t),...n?{borderRadius:n}:{}}},"data-test-id":"drag-behavior-container",height:a||u||"100%",onDragEnter:this.handleOnDragEnter,onDragLeave:this.handleOnDragLeave,onDragOver:this.handleOnDragOver,onDrop:this.handleOnDrop,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,position:s,rounding:200,width:l||"100%",children:e(c,d,this.setContainedHeight,u)})}componentDidMount(){(0,r.A)("DragBehavior","/app/packages/vip/DragBehavior.tsx")}}},543219(e,t,n){n.d(t,{A:()=>c});var r=n(61163),a=n(859471),o=n(19821),i=n(156602),s=n(562615);let l={cursor:"pointer",height:"100%",opacity:0,position:"absolute",width:"100%",left:0,top:0,fontSize:0},c=e=>{(0,a.useEffect)(()=>{(0,r.A)("FileUpload","/app/packages/vip/FileUpload.tsx")},[]);let[t,n]=(0,a.useState)(!1),c=t=>{let{onChange:n}=e;t.preventDefault(),t.stopPropagation(),n&&n(t),t.target.value=""},d=t=>{let{onClick:n}=e;n&&n(t)},{accept:u,accessibilityLabel:p,accessibilityDescription:h,allowMultipleFiles:m,children:g,color:_,dropRounding:y,hasError:x,height:f,id:b,onDrop:v,position:A,rounding:w=200,width:S,isAriaHidden:j,isRequired:P,experimentsClient:k}=e;return(0,s.jsx)(i.A,{color:_,dropRounding:y,experimentsClient:k,hasError:x,height:f,onDrop:v,position:A,width:S,children:e=>(0,s.jsxs)(o.az,{dangerouslySetInlineStyle:{__style:{...t?{border:"2px solid var(--sema-color-border-focus-outer-default)"}:{}}},height:"100%",onBlur:()=>n(!1),onFocus:()=>n(!0),position:"relative",rounding:w,children:[g(e),(0,s.jsx)("input",{accept:u,"aria-describedby":"upload-button-explanation","aria-hidden":j,"aria-invalid":x?"true":void 0,"aria-label":p,"data-test-id":b,id:b,multiple:m,onChange:c,onClick:d,required:P,style:l,tabIndex:j?-1:0,type:"file"}),h&&(0,s.jsx)(o.az,{display:"none",id:"upload-button-explanation",children:(0,s.jsx)(o.KJ,{children:h})})]})})}},835940(e,t,n){n.d(t,{A:()=>c,E:()=>l});var r=n(61163),a=n(859471),o=n(987628),i=n(562615);let{Provider:s,get:l}=(0,o.A)("ContentHeader");function c({children:e}){(0,a.useEffect)(()=>{(0,r.A)("ContentHeaderContext","/app/www/ContentHeader/ContentHeaderContext.tsx")},[]);let[t,n]=(0,a.useState)(!1),o=(0,a.useMemo)(()=>({isContentHeaderPresent:t,setIsContentHeaderPresent:n}),[t]);return(0,i.jsx)(s,{value:o,children:e})}},900344(e,t,n){n.d(t,{I4:()=>c,jR:()=>l});var r=n(859471),a=n(987628),o=n(63661),i=n(562615);let{Provider:s,get:l}=(0,a.A)("HeaderShadow");function c({children:e}){let[t,n]=(0,r.useState)(!1),[a,l]=(0,r.useState)(0),[c,d]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=(0,o.A)(()=>{n(window.scrollY>0),l(window.scrollY)},50);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]);let u=(0,r.useCallback)(e=>{d(e)},[]),p=(0,r.useMemo)(()=>({currentScrollPosition:a,isScrolled:t,setSubheaderShadow:u,subheaderShadow:c}),[a,t,u,c]);return(0,i.jsx)(s,{value:p,children:e})}},856865(e,t,n){n.d(t,{A:()=>o});var r=n(586754),a=n(743858);function o(){let{enabled:e}=(0,r.A)(),{enabled:t}=(0,a.A)();return{enabled:e||t}}},743858(e,t,n){n.d(t,{A:()=>c});var r=n(979638),a=n(693154),o=n(115795),i=n(844255),s=n(642477),l=n(971289);let c=function(){let e=(0,a.A)(),{isRTL:t}=(0,i._8)(),n=(0,r.zy)(),c=(0,l.Ay)();return{enabled:(0,s.A)()&&"desktop"===c&&!(0,o.NF)(n)&&!(0,o.BG)(n)&&!(0,o.fF)(n)&&!(0,o.qi)(n)&&!(0,o.TS)(n)&&!t&&!e.isAuth}}},750612(e,t,n){n.d(t,{A:()=>h});var r=n(61163),a=n(859471),o=n(19821),i=n(485647),s=n(586733),l=n(844255),c=n(971289),d=n(168079),u=n(678358),p=n(562615);function h({actionButton:e,auxData:t,children:n,collapseButtonElementType:h,collapseByDefault:m=!0,componentType:g,disabled:_,displayViewState:y,expandButtonElementType:x,forceTappableHeader:f,headerHeight:b,headerPaddingX:v,headerPreview:A,heading:w,icon:S,surface:j,viewParameter:P,viewType:k}){(0,a.useEffect)(()=>{(0,r.A)("CollapsibleLayout","/app/www/closeup/CollapsibleLayout.tsx")},[]);let I=(0,c.qJ)(),{isBot:z}=(0,l._8)(),{logContextEvent:E}=(0,s.o)(),{setIsShoppingModuleExpanded:T}=(0,u._G)(),C=(0,a.useRef)(null),[L,B]=(0,a.useState)(void 0),[R,M]=(0,a.useState)(_||!z&&m||null!=y&&[1,2].includes(y));return(0,d.A)(()=>{let e=C.current,t=null;if(e){let n=()=>{let t=e.scrollHeight,n=e.firstElementChild;B(t+(n?parseInt(window.getComputedStyle(n).marginTop,10):0))};n(),(t=new ResizeObserver(n)).observe(e)}return()=>{t?.disconnect()}}),(0,a.useEffect)(()=>{T&&T(!R)},[]),(0,p.jsxs)(o.so,{dataTestId:"collapsible-layout",direction:"column",gap:4*!I,children:[(0,p.jsx)(i.A,{actionButton:e,collapsed:R,disabled:_,displayViewState:y,forceTappableHeader:f,headerHeight:b,headerPaddingX:v,headerPreview:A,heading:w,icon:S,onClick:()=>{M(!R),T&&T(R),E({aux_data:t,component:g,element:R?x:h,event_type:I?101:102,view_parameter:P,view_type:k})},showArrow:!0,surface:j}),I?(0,p.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{transition:"height 600ms cubic-bezier(.25,1,.5,1)"}},"data-test-id":`collapsible-layout-content-${R?"collapsed":"expanded"}`,height:R?"0px":`${L}px`,marginBottom:R?void 0:1,overflow:"hidden",children:(0,p.jsx)(o.az,{ref:C,children:n})}):!R&&(0,p.jsx)(o.az,{children:n})]})}},409652(e,t,n){n.d(t,{A:()=>u});var r=n(61163),a=n(859471),o=n(19821),i=n(586733),s=n(567176),l=n(538329),c=n(542975),d=n(562615);function u({boardName:e,boardUrl:t,isBoardlessPin:n,isFromPinBuilder:u,hasNewPin:p,onChangeButtonClick:h,onVisitButtonClick:m=()=>{},onHide:g,onUndo:_,pinImageUrl:y}){let x;(0,a.useEffect)(()=>{(0,r.A)("PostSavedPinToast","/app/www/common/PinBetterSave/PostSavedPinToast.tsx")},[]);let f=(0,l.A)(),{logContextEvent:b}=(0,i.o)();u?x={accessibilityLabel:f.bt("Pini ziyaret et", "Visit Pin", "PostSavedPinToast.a11yVisitButton", undefined, true),label:f.bt("Ziyaret et", "Visit", "PostSavedPinToast.VisitButton", undefined, true),size:"lg",role:"button",onClick:m}:(h||_)&&(x={accessibilityLabel:p&&n&&h?f.bt("Pin hedefini değiştir", "Change Pin destination", "PostSavedPinToast.a11yChangeButton", undefined, true):f.bt("Kaydedilen Pini Geri Al", "Undo Saved Pin", "PostSavedPinToast.a11yUndoButton", undefined, true),label:p&&n&&h?f.bt("Değiştir", "Change", "PostSavedPinToast.ChangeButton", undefined, true):f.bt("Geri Al", "Undo", "PostSavedPinToast.UndoButton", undefined, true),size:"lg",role:"button",onClick:p&&n&&h?()=>h():_});let v=()=>{p&&n&&h&&b({event_type:101,component:14409})};return(0,d.jsx)(s.A,{duration:n?6e3:3e3,imageUrl:y,onHide:g,primaryAction:x,text:(0,d.jsx)(o.KJ,{overflow:"normal",size:"200",children:(0,c.$w)({text:f.bt("<a id=\"1\">{{ boardName }}</a> panosuna kaydedildi", "Saved to <a id=\"1\">{{ boardName }}</a>", "PostSavedPinToast.SavedToBoardToast.Message", undefined, true),markers:{boardName:e??""},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,d.jsx)(o.N_,{display:"block",href:n?"/me/":t??"",onClick:v,children:(0,d.jsx)(o.KJ,{lineClamp:1,size:"200",weight:"bold",children:e},"PostSavedPinToastBoardName")})}})}),thumbnail:n?{icon:(0,d.jsx)(o.In,{accessibilityLabel:f.bt("Profile kaydedildi küçük resmi", "Saved to profile thumbnail", "PostSavedPinToast.thumbnail.accessibilityLabel", undefined, true),color:"default",icon:"clock-history",size:24})}:void 0})}},745489(e,t,n){n.d(t,{A:()=>c,a:()=>l});var r=n(61163),a=n(859471),o=n(19821),i=n(114735),s=n(562615);let l={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function c({backgroundColor:e,children:t,coverImage:n,disableTabIndex:c,height:d,id:u,isHovered:p,onClick:h,onMouseDown:m,onMouseEnter:g,onMouseLeave:_,searchBoxRenderStopwatch:y,url:x,width:f}){(0,a.useEffect)(()=>{(0,r.A)("BubbleWrapper","/app/www/discover/Bubbles/BubbleWrapper.tsx")},[]);let[b,v]=(0,a.useState)(!1),A=()=>{g?g():v(!0)},w=()=>{_?_():v(!1)},S=p||b,j=S?l.hoverOverlay:l.bubbleOverlay;return(0,s.jsx)(o.$A,{href:x,onBlur:w,onFocus:A,onMouseDown:m,onMouseEnter:A,onMouseLeave:w,onTap:()=>{h?.(u)},rounding:400,tabIndex:c?-1:void 0,children:(0,s.jsx)(o.n1,{height:d,rounding:400,width:f||"100%",children:n?.url?(0,s.jsxs)(o._V,{alt:"",color:e,fit:"cover",naturalHeight:n.height??1,naturalWidth:n.width??1,onLoad:()=>{y?.stop();let e=(0,i.A)();e.isActive()&&e.stop()},role:"presentation",src:n.url,children:[(0,s.jsx)(o.az,{dangerouslySetInlineStyle:{__style:j},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:S}):t]}):(0,s.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},734796(e,t,n){n.d(t,{A:()=>t9});var r=n(61163),a=n(859471),o=n(19821),i=n(836664),s=n(538329),l=n(782310);let{Provider:c,get:d}=(0,l.A)({name:"autocomplete_render",sampleRate:1}),{Provider:u,get:p}=(0,l.A)({name:"search_tab_render",sampleRate:1});var h=n(844255),m=n(177052),g=n(979638),_=n(586733),y=n(655352),x=n(693154),f=n(131094),b=n(562615);function v({gradientPrimaryColor:e,gradientSecondaryColor:t,gradientDirection:n,position:r}){return(0,b.jsx)(o.az,{bottom:"bottom"===r,dangerouslySetInlineStyle:{__style:{backgroundImage:`linear-gradient(${n}, ${e}, ${t})`,pointerEvents:"none"}},height:16,position:"absolute",rounding:"pill",top:"top"===r,width:"100%",zIndex:new o.rk(1)})}let A=({term:e})=>(0,b.jsx)(o.KJ,{color:"subtle",inline:!0,lineClamp:1,children:e});function w({defaultPlaceholder:e,gradientSecondaryColor:t="#FFF",height:n=48,suggestedSearchTerms:i}){let l;(0,a.useEffect)(()=>{(0,r.A)("DynamicSearchPlaceholder","/app/packages/search/DynamicSearchPlaceholder.tsx")},[]);let c=(0,s.A)(),d=i.length<3,u=(0,a.useRef)(null);return(0,b.jsx)(o.az,{ref:u,alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":"dynamic-search-placeholder",display:"flex",height:n,overflow:"hidden",position:"relative",children:d?(0,b.jsx)(o.KJ,{color:"subtle",inline:!0,children:e}):(0,b.jsxs)(a.Fragment,{children:[(0,b.jsx)(v,{gradientDirection:"to top",gradientPrimaryColor:"rgba(255, 255, 255, 0)",gradientSecondaryColor:t,position:"top"}),(0,b.jsx)(v,{gradientDirection:"to bottom",gradientPrimaryColor:"rgba(255, 255, 255, 0)",gradientSecondaryColor:t,position:"bottom"}),(0,b.jsxs)(o.so,{alignItems:"stretch",height:18,justifyContent:"start",children:[(0,b.jsx)(o.KJ,{color:"subtle",inline:!0,overflow:"noWrap",children:c.bt("Şunun için arama yapın:", "Search for", "searchBar.placeholder.dynamicText", undefined, true)}),(0,b.jsx)(f.A,{unsafeCSS:`
@keyframes slide-3-terms-loop {
  0%, 21.74% {
    transform: translateY(0%);
  }
  33.33%, 55.07% {
      transform: translateY(-25%);
  }
  66.66%, 88.4% {
      transform: translateY(-50%);
  }
  100% {
      transform: translateY(-75%);
  }
}
@keyframes slide-4-terms-loop {
  0%,16.3% {
    transform: translateY(0%);
  }
  25%,41.3%{
    transform: translateY(-20%);
  }
  50%,66.3%{
    transform: translateY(-40%);
  }
  75%,91.3%{
    transform: translateY(-60%);
  }
  100% {
    transform: translateY(-80%);
  }
}
@keyframes slide-5-terms-loop {
  0%, 13.04% {
    transform: translateY(0%);
  }
  20%,33.04%{
    transform: translateY(-16.66%);
  }
  40%,53.04%{
    transform: translateY(-33.33%);
  }
  60%,73.04%{
    transform: translateY(-49.98%);
  }
  80%,93.04%{
    transform: translateY(-66.64%);
  }
  100% {
    transform: translateY(-83.3%);
  }
}
`}),(0,b.jsx)(o.az,{children:(0,b.jsxs)(o.az,{dangerouslySetInlineStyle:(l=i.length,{__style:{animation:`slide-${l}-terms-loop ${2.3*(l+1)}s ease-out infinite forwards`}}),display:"inlineBlock",marginStart:1,children:[i.map(e=>(0,b.jsx)(o.az,{marginBottom:7,children:(0,b.jsx)(A,{term:e})},e)),(0,b.jsx)(o.az,{marginBottom:7,children:(0,b.jsx)(A,{term:i[0]??""})})]})})]})]})})}var S=n(168079),j=n(808666);function P(){(0,a.useEffect)(()=>{(0,r.A)("InlineACSuggestion","/app/packages/search/InlineACSuggestion.tsx")},[]);let{displayedQuery:e,inlineACSuggestion:t,logInlineSuggestionView:n}=(0,j.Z)();return(0,S.A)(()=>{n()}),(0,b.jsxs)(o.az,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:[(0,b.jsx)("span",{style:{visibility:"hidden"},children:(0,b.jsx)(o.KJ,{color:"disabled",inline:!0,children:e})}),(0,b.jsx)(o.KJ,{color:"subtle",inline:!0,children:t.slice(e.length)})]})}var k=n(145200),I=n(888454),z=n(184240),E=n(106386),T=n(115795),C=n(430705),L=n(803489),B=n(601185),R=n(586754),M=n(532463);function D(){let e=(0,g.zy)(),t=function(){let{checkExperiment:e}=(0,B.A)();return(0,R.A)().enabled&&e("dweb_search_omnipresent_multimodal").anyEnabled}(),{group:n}=(0,M.A)()||{group:""},r=t&&(0,T.dM)(e)&&e.pathname.split("/")[2]||"",o=t&&(0,T._p)(e)?(0,L.A)(e.search).query_image_pins?.toString():"",i=o||r,{setMultimodalPinId:s}=(0,j.Z)(),l=(0,E.d4)(({pins:e})=>e[i||""]),{data:c,isFetching:d}=(0,C.A)(l?null:{name:"ApiResource",options:{url:`/v3/pins/${i}/`,data:{fields:["pin.images[236x]","pin.is_unsafe"]}}}),u=l??c;return((0,a.useEffect)(()=>{o?s(o):r&&!n.includes("optin")&&u&&!u.is_unsafe?s(r):s("")},[r,o,n,s,u]),t&&!u&&d)?{pinId:i}:t&&u&&!u.is_unsafe?{pinId:i,imageData:u.images?.["236x"]}:{}}var $=n(999370);function U({disabled:e=!1,name:t,inlineSYOP:n=!1}){(0,a.useEffect)(()=>{(0,r.A)("SearchInput","/app/packages/search/SearchInput.tsx")},[]);let i=(0,s.A)(),l=(0,a.useRef)(null),c=(0,a.useRef)(void 0),{isAuth:d}=(0,x.A)(),u=(0,g.zy)(),p=(0,o.Ib)(),h=!!(0,M.A)()&&!n,{pinId:m,imageData:v}=D(),{logContextEvent:A}=(0,_.o)();(0,S.A)(()=>{A({event_type:120,component:43,element:227})});let{delayedSearchBoxOpen:E,displayedQuery:T,handleInputBlur:C,handleInputChange:L,handleInputClick:B,handleInputFocus:R,handleKeyDown:U,handleKeyUp:N,suggestionsFocusIndex:O,suggestionGroups:F,inlineACSuggestion:H,isInTypeaheadSession:V,handleTypedSearchSubmit:G,multimodalPinId:W,searchBoxPlaceholder:K,searchBoxHovered:Y,setVoiceSearchPlaceholder:q,suggestedSearchTerms:J,voiceSearchPlaceholder:X}=(0,j.Z)(),Z=(0,z.TR)({suggestionsFocusIndex:O,suggestionGroups:F}),Q=W&&!h&&V,{isEligiblePageTypeForDynamicSearchPlaceholder:ee}=(0,k.$)(u);(0,a.useEffect)(()=>{X&&c.current&&(c.current.pathname!==u.pathname||c.current.search!==u.search)&&q($.g.NULL),c.current=u},[u,X,q]),(0,S.A)(()=>{l.current&&G&&l.current.addEventListener("searchTrigger",G)}),(0,a.useEffect)(()=>{l.current&&(document.activeElement===l.current!==V?V?l.current.focus():l.current.blur():q($.g.NULL))},[V,q,W]),(0,S.A)(()=>{!l.current||new URLSearchParams(window.location.search).get("search_box_open")&&E()});let et=!p&&!d&&ee&&!T,en=i.bt("Bir şey mi arıyorsunuz?", "Looking for something?", "searchBox.searchInput.placeholder.omnipresent", undefined, true),er=et?"":W&&i.bt("Aramanızı daraltın", "Refine your search", "searchBox.searchInput.placeholder.multimodal", undefined, true)||(h||m)&&en||K||i.bt("Ara", "Search", "searchBox.searchInput.placeholder", undefined, true),ea=W&&v&&`padding-left: ${Math.round(108*(v.width||1)/(v.height||2))+4}px !important;`||h&&!V&&!T&&"padding-left: 36px !important;"||"",eo=m&&v&&`padding-left: ${Math.round(40*(v.width||1)/(v.height||2))+4+12*!!V-8}px !important;`||"";return(0,b.jsxs)(o.az,{flex:"grow",height:"100%",children:[(0,b.jsx)(f.A,{unsafeCSS:`
          div:has(> textarea) {
            border-radius: 20px !important;
            ${!V?"border: none !important":""}
          }
          textarea {
            font-size: 20px !important;
            width: calc(100% - 20px) !important;
            ${ea}
          }
          input::placeholder {
          color: var(--sema-color-text-subtle)${et?"; display: none":""}
          }
          input {
            ${m?eo:""}
          }`}),h||Q?(0,b.jsx)(o.fs,{ref:l,"data-test-id":"search-box-input",disabled:e,id:"omnipresent-search-box",onBlur:({event:e})=>{C(e)},onChange:({event:e})=>{L(e)},onClick:({event:e})=>{B(e)},onFocus:({event:e})=>{R(e)},onKeyDown:({event:e})=>{U(e)},onKeyUp:({event:e})=>{N(e)},placeholder:er,rows:3,value:T}):(0,b.jsx)("input",{ref:l,"aria-activedescendant":Z,"aria-autocomplete":"list","aria-controls":"SuggestionsMenu","aria-describedby":"searchBoxAccessibleText","aria-expanded":V,"aria-label":i.bt("Ara", "Search", "searchBox.searchInput.placeholder", undefined, true),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off","data-gestalt-valid-html":"SearchField","data-test-id":"search-box-input",disabled:e,name:t,onBlur:C,onChange:L,onClick:B,onFocus:R,onKeyDown:U,onKeyUp:N,placeholder:er,role:"combobox",style:{backgroundColor:"transparent",border:"none",color:"var(--sema-color-text-default)",fontFamily:y.A,fontSize:16,fontWeight:"normal",height:"100%",outline:"none",padding:"0",width:"100%"},type:"text",value:T}),!!H&&(0,b.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none",top:13}},position:"absolute",top:!0,width:"85%",children:(0,b.jsx)(P,{})}),et&&(0,b.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},position:"absolute",top:!0,width:"85%",children:(0,b.jsx)(w,{defaultPlaceholder:er,gradientSecondaryColor:Y?I.uq:I.kP,suggestedSearchTerms:J})}),(0,b.jsx)(o.az,{display:"none",id:"searchBoxAccessibleText",children:i.bt("Otomatik tamamlama sonuçları kullanılabilir olduğunda incelemek için yukarı ve aşağı oklarını, seçmek için Enter tuşunu kullanın. Dokunmatik cihaz kullananlar, dokunarak veya kaydırma hareketleriyle keşfedebilir.", "When autocomplete results are available use up and down arrows to review and enter to select. Touch device users, explore by touch or with swipe gestures.", "searchBox.searchInput.accessibleText", undefined, true)})]})}var N=n(497384),O=n(826258),F=n(108173),H=n(890922),V=n(224723),G=n(584342);function W({contentTypes:e,contentTypesAnchor:t,handleSelectFilter:n,onDismiss:i}){return(0,a.useEffect)(()=>{(0,r.A)("ContentFilterList","/app/www/discover/SearchBox/ContentFilterList.tsx")},[]),(0,b.jsx)(o.ms,{anchor:t,disableMobileUI:!0,id:"ContentFilterList",idealDirection:"down",isWithinFixedContainer:!0,onDismiss:i,zIndex:new o.rk(G.d1),children:e.map((e,t)=>(0,b.jsx)(o.ms.Item,{dataTestId:"search-filter-"+e.dataId,onSelect:()=>n(t),option:{value:e.text,label:e.text},children:(0,b.jsx)(o.KJ,{weight:[V.cO.PINS,V.cO.PINS_MINE].includes(e.scope)?"bold":"normal",children:e.text})},e.text))})}var K=n(856865),Y=n(845754);let q=function({currentlySelectedFilter:e,currentQuery:t,handleContentTypeFilterHover:n,handleScopeChange:r}){let i,l,{logContextEvent:c}=(0,_.o)(),d=(0,s.A)(),u=(l=(i=[{scope:V.cO.PINS,text:d.bt("Tüm Pinler", "All Pins", "All Pins label for content type filters on search bar", undefined, true),dataId:"all-pins"},{scope:V.cO.PINS_MINE,text:d.bt("Pinlerin", "Your Pins", "Your Pins label for content type filters on search bar", undefined, true),dataId:"your-pins"}]).findIndex(e=>e.scope===V.cO.PINS_MINE),i.push(i.splice(l,1)[0]),i),p=(0,a.useRef)(null),h=(0,g.Zp)(),{enabled:m}=(0,K.A)(),[y,x]=(0,a.useState)(e||u[0].scope),[f,v]=(0,a.useState)(!1),[A,w]=(0,a.useState)(!1);(0,S.A)(()=>{c({event_type:120,view_type:2,component:215})}),(0,a.useEffect)(()=>{x(e)},[e]);let j=(u[y?u.findIndex(e=>e.scope===y):0]||u[0]).text,P=(0,b.jsx)(o.az,{ref:p,dangerouslySetInlineStyle:{__style:{borderRadius:"0 4px 4px 0",height:48}},"data-test-id":"search-filter",overflow:"hidden",children:(0,b.jsxs)(o.az,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingX:4,children:[(0,b.jsx)(o.KJ,{inline:!0,size:"200",weight:"bold",children:j}),(0,b.jsx)(o.az,{marginStart:2,children:(0,b.jsx)(o.In,{accessibilityLabel:d.bt("Açılır Pencere", "Dropdown", " - ", undefined, true),color:"default",icon:"chevron-down",inline:!0,size:12})})]})});return(0,b.jsxs)(o.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:A?"rgba(0, 0, 0, 0.06)":void 0}},display:"flex",flex:"none",height:48,left:!0,marginStart:2,position:"relative",rounding:m?Y.Xr:600,children:[(0,b.jsx)(o.Rp,{fullHeight:!0,fullWidth:!1,onMouseEnter:()=>void(w(!0),n&&n(!0)),onMouseLeave:()=>void(w(!1),n&&n(!1)),onTap:({event:e})=>{e&&(e.preventDefault(),e.stopPropagation()),v(!f),c({event_type:101,component:215,aux_data:{entered_query:t}})},rounding:600,children:P}),f&&(0,b.jsx)(W,{contentTypes:u,contentTypesAnchor:p.current,handleSelectFilter:e=>{let n=u[e].scope;x(n),v(!1),c({event_type:101,component:215,element:(e=>{switch(e){case V.cO.PINS:return 220;case V.cO.PINS_MINE:return 223;case V.cO.PINS_VIDEO:return 11399;case V.cO.BOARDS:return 221;case V.cO.USERS:return 222;default:return null}})(n),aux_data:{entered_query:t}}),r(n),t&&h(`/search/${n}/?q=${encodeURIComponent(t)}&rs=${H.I.FILTER}`)},onDismiss:()=>v(!1)})]})};var J=n(284966);function X({children:e,hideOnScroll:t,isInTypeaheadSession:n,searchBoxHovered:r}){let[o,i]=(0,a.useState)(!1),s=(0,a.useRef)(null),l=(0,a.useRef)(null),c=(0,a.useRef)(!1),d=(0,a.useRef)(!1),u=(0,a.useRef)(!0);function p(){u.current||c.current&&!s.current&&(s.current=setTimeout(()=>{i(!0)},150))}function h(){c.current&&(!d.current&&s.current&&m(),null!==l.current&&(clearTimeout(l.current),l.current=null),l.current=setTimeout(()=>{i(!1),l.current=null},2e3))}function m(){s.current&&(clearTimeout(s.current),s.current=null)}function g(){null!==l.current&&(clearTimeout(l.current),l.current=null)}return(0,a.useEffect)(()=>{let e=setTimeout(()=>{u.current=!1},600);return()=>clearTimeout(e)},[]),(0,a.useEffect)(()=>{c.current=t,d.current=o},[t,o]),(0,a.useEffect)(()=>{if(!o||!n&&!r)return;m(),g();let e=requestAnimationFrame(()=>{i(!1)});return()=>cancelAnimationFrame(e)},[o,n,r]),(0,a.useEffect)(()=>{o||m()},[o]),(0,S.A)(()=>{let e=(0,J.A)(p,10),t=(0,J.A)(h,10);return window.addEventListener("scroll",e),window.addEventListener("scrollend",t),()=>{window.removeEventListener("scroll",e),window.removeEventListener("scrollend",t),m(),g()}}),e({isHidden:o,updateHiddenState:i})}var Z=n(296221),Q=n(385800);function ee(){let e=(0,M.A)(),{imageData:t,pinId:n=""}=D(),{width:r,height:i,url:l}=t||{},{hovered:c,onMouseEnter:d,onMouseLeave:u}=(0,Q.A)(),{multimodalPinId:p,setMultimodalPinId:m,handleClearSearch:g,isInTypeaheadSession:_}=(0,j.Z)(),y=(0,s.A)(),{isRTL:x}=(0,h._8)(),f=!e&&(!_||!p),v=!f||_,A=f&&!p,w=f&&40||p&&108||54,S=p||A?(r||1)/(i||2)*w:w,[P,k]=(0,a.useState)(null);return l&&(0,b.jsxs)(o.az,{ref:k,alignItems:"end",dangerouslySetInlineStyle:{__style:{[x?"right":"left"]:-4,bottom:-4}},display:"flex",justifyContent:"center",padding:2,position:"absolute",children:[(0,b.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{boxShadow:"var(--sema-elevation-shadow-raised)"}},height:w,position:"relative",rounding:400,width:S,children:(0,b.jsxs)(o.Rp,{onMouseDown:({event:e})=>{e.preventDefault(),e.stopPropagation()},onMouseEnter:d,onMouseLeave:u,onTap:()=>{p?g({clearMultimodalPinId:!0}):m(n)},rounding:f?200:400,children:[(0,b.jsx)(o.n1,{height:w,rounding:f?200:400,wash:!0,width:S,children:(0,b.jsx)(o.n1,{height:w,rounding:f?200:400,wash:c,width:S,children:(0,b.jsx)(o.az,{"aria-label":y.bt("Bu Pin ile ara", "Search with this Pin", "MultimodalSearchPinImage.image.altText", undefined, true),dangerouslySetInlineStyle:{__style:{border:f?"1px solid white":void 0,background:`url(${l})`,backgroundSize:"cover",backgroundPosition:"center"}},height:w,rounding:f?200:400,width:S})})}),v&&(0,b.jsx)(o.az,{bottom:!A,dangerouslySetInlineStyle:{__style:A?x?{bottom:4,left:-15}:{bottom:4,right:-15}:{}},left:x,padding:1,position:"absolute",right:!x,children:(0,b.jsx)(o.K0,{accessibilityLabel:p?y.bt("Kaldır", "Remove", "MultimodalSearchPinImage.removeButton.accessibilityLabel", undefined, true):y.bt("Ekle", "Add", "MultimodalSearchPinImage.addButton.accessibilityLabel", undefined, true),bgColor:"default",icon:p?"close":"plus",size:"xs"})})]})}),!f&&(0,b.jsx)(o.az,{padding:2,children:(0,b.jsx)(o.Ex,{text:y.bt("Beta", "Beta", "searchbox.multimodalSearch.betaBadge", undefined, true)})}),(0,b.jsx)(Z.En,{anchor:P,experienceIds:[508714],idealDirection:x?"right":"left",placementId:12,positionRelativeToAnchor:!1,showCaret:!0,textWeight:"normal"})]})}function et(){(0,a.useEffect)(()=>{(0,r.A)("MultimodalSearchPinImage","/app/www/discover/SearchBox/MultimodalSearchPinImage.tsx")},[]);let{pinId:e}=D();return e?(0,b.jsx)(ee,{}):null}function en({hasAppliedQuery:e,onClear:t,isInlineSYOP:n}){(0,a.useEffect)(()=>{(0,r.A)("ClearSearchButton","/app/www/discover/SearchBox/SearchBoxActions/ClearSearchButton.tsx")},[]);let i=(0,s.A)(),l=!!(0,M.A)()&&!n,{isInTypeaheadSession:c,multimodalPinId:d}=(0,j.Z)(),u=l||d&&!l&&c,{logContextEvent:p}=(0,_.o)();return(0,S.A)(()=>{p({event_type:120,view_type:2,component:43,element:73})}),(0,b.jsx)(o.az,{alignItems:"center",dangerouslySetInlineStyle:u?{__style:{bottom:60}}:void 0,"data-test-id":"search-cancel",display:"flex",height:48,justifyContent:"center",position:u?"absolute":void 0,right:!!u,width:48,children:(0,b.jsx)(o.n1,{rounding:e&&!u?300:400,children:(0,b.jsx)(o.K0,{accessibilityLabel:i.bt("Arama girişini kaldır", "Remove search input", "searchBox.removeSearchInput.accessibilityLabel", undefined, true),icon:e&&!u?"close":"circle-close",iconColor:"default",onClick:t,padding:e&&!u?2:void 0,size:e&&!u?"sm":"lg"})})})}var er=n(299374),ea=n(49241);let eo={state:"idle",color:"subtle",borderColor:"var(--sema-color-border-decorative)",iconColor:"dark",iconName:"circle-arrow-up"},ei={state:"dragging",color:"infoWeak",borderColor:"var(--sema-color-border-focus-outer-default)",iconColor:"dark",iconName:"circle-arrow-up"},es={state:"error",color:"errorWeak",borderColor:"var(--sema-color-border-error)",iconColor:"error",iconName:"circle-exclamation-point"};function el({error:e,isDraggingOver:t,setValidationError:n}){(0,a.useEffect)(()=>{(0,r.A)("LensDropZoneContent","/app/common/react/components/Lens/Uploader/Popover/FileUpload/LensDropZoneContent.tsx")},[]);let i=(0,s.A)(),{state:l,color:c,borderColor:d,iconColor:u,iconName:p}=function({error:e,isDraggingOver:t}){return t?ei:e?es:eo}({isDraggingOver:t,error:e});return(0,a.useEffect)(()=>{t&&e&&n("")},[t,e,n]),(0,b.jsx)(o.az,{alignItems:"center",color:c,dangerouslySetInlineStyle:{__style:{borderColor:d,borderStyle:"dashed",borderWidth:2}},direction:"column",display:"flex",height:"100%",justifyContent:"center",paddingY:10,rounding:800,children:(0,b.jsxs)(o.so,{alignItems:"center",direction:"column",gap:{column:4,row:0},justifyContent:"center",children:[(0,b.jsx)(o.In,{accessibilityLabel:i.bt("Fotoğraf yükle", "Upload photo", "lens.fileUpload.icon", undefined, true),color:u,icon:p,size:32}),"error"===l?(0,b.jsx)(o.KJ,{align:"center",color:"error",children:e}):(0,b.jsx)(o.KJ,{align:"center",children:i.bt("Bir dosya seçin veya buraya sürükleyip bırakın", "Choose a file or drag and drop it here", "lens.fileUpload.instruction", undefined, true)})]})})}let ec="MULTIPLE_IMAGES",ed="NO_FILE",eu="URL_VALIDATION",ep="UNSUPPORTED_FORMAT",eh="IMAGE_TOO_LARGE",em="DATA_URL_INVALID",eg="REMOTE_URL_FAILED",e_="NO_RESULTS",ey="GENERIC";class ex extends Error{constructor(e,t){var n,r;super(e,t),(n="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(n="name","string"))?r:r+"")in this?Object.defineProperty(this,n,{value:"LensError",enumerable:!0,configurable:!0,writable:!0}):this[n]="LensError",this.type=e}}let ef=e=>e.bt("Bir sorun oluştu. Lütfen tekrar deneyin", "Something went wrong. Please try again", "lens.error.uploadFailed", undefined, true),eb=(e,t)=>{switch(t){case ec:return e.bt("Tek bir görüntü yükleyin ve tekrar deneyin.", "Upload a single image and try again.", "lens.error.multipleImages", undefined, true);case ed:return e.bt("Görsel bulunamadı. Bir görsel dosyası sürüklemeyi deneyin.", "No image found. Try dragging an image file.", "lens.error.noFile", undefined, true);case eu:return e.bt("Görüntü URL'sini tekrar kontrol edin ve yeniden deneyin.", "Double check the image URL and try again.", "lens.error.urlValidation", undefined, true);case ep:return e.bt("Bir şeyler ters gitti. Bir .jpg, .gif, .png, .tif veya .webp dosyası ya da bir görsel bağlantısı yükleyin.", "Something went wrong. Upload a .jpg, .gif, .png, .tif, or .webp file or an image link.", "lens.error.unsupportedFormat", undefined, true);case eh:return e.bt("This image is too large. Try a smaller image.", "This image is too large. Try a smaller image.", "lens.error.imageTooLarge", undefined, false);case em:return e.bt("URL'den görsel yüklenemedi. Farklı bir görsel deneyin.", "Couldn't load image from URL. Try a different image.", "lens.error.dataUrlInvalid", undefined, true);case eg:return e.bt("Bağlantı eklenemedi. Görüntüyü kaydetmeyi ve yüklemeyi deneyin.", "Unable to add link. Try saving and uploading the image.", "lens.error.remoteUrlFailed", undefined, true);case e_:return e.bt("Bu görsel için sonuç bulunamadı. Başka bir görsel yüklemeyi deneyin.", "No results found for this image. Try uploading another image.", "lens.error.noResults", undefined, true);default:return ef(e)}};var ev=n(196861);async function eA(e,t){return new Promise((n,r)=>{e.toBlob(e=>{e?n(e):r(Error("Canvas toBlob failed"))},t,ea.Et)})}async function ew(e,t,n=ep){var r;let a,o=await (0,ev.A)({file:e,i18n:t,ideaPinRenamingEnabled:!1,options:{allowVideo:!1}});if("error"===o.type)throw new ex(n,{cause:o.message||"File validation failed"});let i=await createImageBitmap(e),{width:s,height:l}=i,c=s>ea.Dj?ea.Dj/s:1,[d,u]=[Math.round(s*c),Math.round(l*c)],p=document.createElement("canvas");p.width=d,p.height=u;let h=p.getContext("2d");if(!h)throw i.close(),new ex(ey,{cause:"Failed to create canvas context"});h.drawImage(i,0,0,d,u),i.close();let m=p.toDataURL(ea.g0,ea.Et);return{file:new File([await eA(p,ea.g0)],((a=(r=e.name).lastIndexOf("."))>0?r.slice(0,a):r)+ea.WK,{type:ea.g0}),src:m,width:d,height:u}}var eS=n(910409);async function ej(e,t){let n,r=e.split(",")[1];if(!r)throw new ex(em,{cause:"Missing base64 data in data URL"});try{n=(0,eS.A)(r)}catch(e){throw new ex(em,{cause:e||"Failed to decode base64 image"})}return ew(n,t,em)}var eP=n(457315),ek=n(257300);async function eI(e){let t,n;try{t=await (0,ek.A)({url:ea.UQ,method:"GET",data:{url:e}})}catch(e){switch((0,eP.A)(e,"api_error_code")){case 2654:throw new ex(ep,{cause:e});case 2655:throw new ex(eh,{cause:e});default:throw new ex(eg,{cause:e})}}let r=t.resource_response.data?.image_file;if(!r)throw new ex(eg,{cause:"Missing image_file in V3_LENS_UPLOAD_HANDLER response"});try{n=(0,eS.A)(r)}catch(e){throw new ex(eg,{cause:e||"Failed to decode base64 image from server"})}let a=await createImageBitmap(n),{width:o,height:i}=a;a.close();let s=`data:${n.type};base64,${r}`;return{file:n,src:s,width:o,height:i}}function ez(e,t){return e.startsWith("data:image")?()=>ej(e,t):()=>eI(e)}var eE=n(997737),eT=n(543219);let eC=`
  [data-test-id='lens-file-upload'] [data-test-id='drag-behavior-container'] {
    box-shadow: none !important;
  }
  [data-test-id='lens-file-upload'] [data-test-id='drag-behavior-container'] > div {
    border: none !important;
  }
`;function eL({error:e,isDisabled:t=!1,setValidationError:n,uploadImage:i}){(0,a.useEffect)(()=>{(0,r.A)("LensFileUpload","/app/common/react/components/Lens/Uploader/Popover/FileUpload/LensFileUpload.tsx")},[]);let l=(0,s.A)(),{handleFileSelect:c,handleFileAndUrlDrop:d}=function({isDisabled:e,setValidationError:t,uploadImage:n}){let r=(0,s.A)(),{logContextEvent:a}=(0,_.o)();return{handleFileSelect:o=>{if(e)return;let i=function(e){if(e&&e.length>1)return{type:"multipleFiles"};let t=e?.[0];return t?{type:"file",file:t}:{type:"noFile"}}(o.target.files);switch(a({component:ea.SY,element:14558,event_type:15656,view_type:ea.CR}),i.type){case"file":n(()=>ew(i.file,r),ea.nb,"file");break;case"multipleFiles":t(eb(r,ec));break;case"noFile":t(eb(r,ed))}},handleFileAndUrlDrop:o=>{if(e)return;let i=function(e){let t=e.types.includes("text/uri-list"),n=e.getData("text/uri-list").split(`
`).find(e=>e&&!e.startsWith("#"))??null,{files:r}=e;return n?{type:"url",url:n,fromBrowser:!0}:r.length>1?{type:"multipleFiles",fromBrowser:t}:1===r.length&&r[0]?{type:"file",file:r[0],fromBrowser:!1}:t?{type:"invalidUrl",fromBrowser:!0}:{type:"noFile",fromBrowser:!1}}(o.dataTransfer);switch(a({component:ea.SY,event_type:i.fromBrowser?3502:3501,view_type:ea.CR}),i.type){case"url":n(ez(i.url,r),ea.cr,"file");break;case"file":n(()=>ew(i.file,r),ea.nb,"file");break;case"multipleFiles":t(eb(r,ec));break;case"invalidUrl":t(eb(r,eu));break;case"noFile":t(eb(r,ed))}}}}({isDisabled:t,setValidationError:n,uploadImage:i});return(0,b.jsxs)(o.az,{"data-test-id":"lens-file-upload",height:"100%",position:"relative",width:"100%",children:[(0,b.jsx)(f.A,{unsafeCSS:eC}),(0,b.jsx)(eT.A,{accept:eE.oA.join(","),accessibilityLabel:l.bt("Dosya Yükleme", "File Upload", "lens.fileUpload.area", undefined, true),allowMultipleFiles:!1,dropRounding:32,hasError:!!e,id:"lens-file-upload",onChange:c,onDrop:d,children:t=>(0,b.jsx)(el,{error:e,isDraggingOver:t,setValidationError:n})})]})}var eB=n(277229),eR=n(348681),eM=n(284387),eD=n(726329),e$=n(750612);function eU(){(0,a.useEffect)(()=>{(0,r.A)("LensHistoryCarousel","/app/common/react/components/Lens/Uploader/Popover/History/LensHistoryCarousel.tsx")},[]);let e=(0,s.A)(),t=(0,g.zy)(),n=(0,g.Zp)(),{logContextEvent:i}=(0,_.o)(),{setIsPopoverOpen:l}=(0,er.S)(),c=ea.Gj,{items:d,isLoaded:u,renderItem:p}=(0,eB.A)({buttonPadding:2,height:229,hideSave:!0,pageSize:10,viewParameter:c,viewType:119,width:163}),h=u&&d.length>0,m=!h,y="/lens-search/history"===t.pathname,x=e.bt("Yüklemeleriniz", "Your uploads", "lens.history.header", undefined, true),f=e.bt("Tümünü görüntüle", "View all", "lens.history.viewAll", undefined, true);(0,eR.r)(h?{component:15075,element:14560,view_type:119}:null);let v=(0,eD.bi)({componentType:15075,impressionType:"Story",loggingId:"lens-history-carousel-impression-logging-id",viewType:119});return(0,b.jsx)(o.az,{ref:v,marginBottom:2,paddingY:3,children:(0,b.jsx)(e$.A,{actionButton:(0,b.jsx)(o.$n,{disabled:m,onClick:({event:e})=>{e.stopPropagation(),i({component:15075,element:14560,event_type:101,view_type:119}),l(!1),y||n("/lens-search/history")},text:f}),collapseButtonElementType:14560,collapseByDefault:!0,componentType:15075,disabled:m,expandButtonElementType:14560,headerPaddingX:10,heading:x,icon:"compact-chevron-down",viewType:119,children:(0,b.jsx)(o.az,{marginTop:3,paddingX:6,children:(0,b.jsx)(eM.A,{inset:"none",itemHeight:229,items:d,itemWidth:163,mode:"multi",renderItem:({item:e})=>p(e),showNavigationButtons:!0,showScrollMarkers:!0})})})})}function eN({onDismiss:e}){(0,a.useEffect)(()=>{(0,r.A)("LensPopoverHeader","/app/common/react/components/Lens/Uploader/Popover/LensPopoverHeader.tsx")},[]);let t=(0,s.A)();return(0,b.jsx)(o.az,{padding:6,children:(0,b.jsxs)(o.so,{alignItems:"center",justifyContent:"between",children:[(0,b.jsx)(o._Y,{accessibilityLevel:1,size:"400",children:t.bt("Aramak için bir görsel yükleyin", "Upload an image to search", "lens.popover.header", undefined, true)}),(0,b.jsx)(o.K0,{accessibilityLabel:t.bt("Kapat", "Close", "lens.popover.close", undefined, true),icon:"close",iconColor:"default",onClick:e,size:"lg"})]})})}function eO(){(0,a.useEffect)(()=>{(0,r.A)("LensUploadingOverlay","/app/common/react/components/Lens/Uploader/Popover/LensUploadingOverlay.tsx")},[]);let e=(0,s.A)().bt("Görüntü Yükleniyor", "Uploading Image", "lens.loading.message", undefined, true);return(0,b.jsx)(o.az,{bottom:!0,color:"default",left:!0,margin:"auto",position:"absolute",right:!0,top:!0,children:(0,b.jsxs)(o.so,{alignItems:"center",direction:"column",gap:{row:0,column:6},height:"100%",justifyContent:"center",width:"100%",children:[(0,b.jsx)(o.y$,{accessibilityLabel:e,show:!0}),(0,b.jsx)(o.Wu,{children:e})]})})}var eF=n(483877);let eH="lens-url-input";function eV({error:e,isDisabled:t=!1,setValidationError:n,uploadImage:i}){(0,a.useEffect)(()=>{(0,r.A)("LensUrlUpload","/app/common/react/components/Lens/Uploader/Popover/UrlUpload/LensUrlUpload.tsx")},[]);let l=(0,s.A)(),{inputValue:c,handleInputChange:d,handleSubmit:u,handleKeyDown:p}=function({isDisabled:e,setValidationError:t,uploadImage:n}){let r=(0,s.A)(),{logContextEvent:o}=(0,_.o)(),[i,l]=(0,a.useState)(""),c=()=>{if(!e&&i){if(o({component:ea.SY,element:14559,event_type:15656,view_type:ea.CR}),!i.startsWith("data:image")&&!(0,eF.A)({url:i}))return void t(eb(r,eu));n(ez(i,r),ea.cr,"url")}};return{inputValue:i,handleInputChange:e=>{l(e),t("")},handleSubmit:c,handleKeyDown:e=>{"Enter"===e.key&&c()}}}({isDisabled:t,setValidationError:n,uploadImage:i});return(0,b.jsxs)(o.az,{paddingY:4,position:"relative",children:[(0,b.jsx)(f.A,{unsafeCSS:`
          #${eH} {
            padding-right: 52px !important;
          }
        `}),(0,b.jsx)(o.A_,{autoComplete:"url",disabled:t,errorMessage:e,hasError:!!e,id:eH,label:l.bt("URL'den yükle", "Upload from URL", "lens.url.label", undefined, true),labelDisplay:"hidden",onChange:({value:e})=>d(e),onKeyDown:({event:e})=>p(e),placeholder:l.bt("Görsel bağlantısını yapıştır", "Paste image link", "lens.url.textField", undefined, true),size:"lg",type:"url",value:c}),(0,b.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{top:26}},paddingX:3,position:"absolute",right:!0,children:(0,b.jsx)(o.K0,{accessibilityLabel:l.bt("Gönder", "Submit", "lens.url.submitButton", undefined, true),bgColor:"secondary",disabled:!c||t,icon:"chevron-right",onClick:u,size:"sm"})})]})}var eG=n(417978),eW=n(703672),eK=n(672908);let eY={x:0,y:0,w:1,h:1};async function eq(e,t){let n=new FormData;n.append("image",e),n.append("x",String(eY.x)),n.append("y",String(eY.y)),n.append("w",String(eY.w)),n.append("h",String(eY.h));let r=await (0,eG.A)({url:ea.hU,type:"POST",data:n}).promise;if(!r.responseText)throw new ex(ey,{cause:"Empty response from server"});let a=JSON.parse(r.responseText);if(!a.success)throw new ex(ey,{cause:a.error||"Upload not successful"});if(!a.data||0===a.data.length)throw new ex(e_,{cause:a.error||"Empty data in the response"});if(!a.url)throw new ex(ey,{cause:a.error||"Missing API URL in response"});let o=a.url,i={url:ea.b0,data:{url:o,crop_source:5,...eY,add_fields:eK.A.base_grid_item.join(",")}};return t((0,eW.O8)("ApiResource",i,{resource_response:{data:a.data??[],error:null},bookmarks:a.bookmark?[a.bookmark]:[]})),o}var eJ=n(350539),eX=n(808571);function eZ({anchor:e,onDismiss:t,searchBoxRef:n}){(0,a.useEffect)(()=>{(0,r.A)("LensPopover","/app/common/react/components/Lens/Uploader/Popover/LensPopover.tsx")},[]);let i=(0,s.A)(),{checkExperiment:l}=(0,B.A)(),c=l("dweb_search_omnipresent_multimodal").anyEnabled,d=(0,eX.g)(),[u,p]=(0,a.useState)(null),[h,m]=(0,a.useState)(0),{isUploading:_,fileError:y,setFileError:x,urlError:f,setUrlError:v,uploadImage:A}=function({onDismiss:e}){let t=(0,s.A)(),n=(0,E.wA)(),r=(0,g.Zp)(),{pathname:o}=(0,g.zy)(),{setPreparedImage:i}=(0,er.S)(),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(""),[p,h]=(0,a.useState)(""),m=e=>{u(e),e&&h("")},_=e=>{h(e),e&&u("")},y=async(a,s,l)=>{let d="file"===l?m:_;d(""),c(!0);try{let t,{file:l,src:c,width:d,height:u}=await a(),p=await eq(l,n);(t=new FormData).append("image",l),t.append("source_type",s),(0,eG.A)({url:ea.SK,type:"PUT",data:t});let h={file:l,src:c,apiUrl:p,width:d,height:u};i(h),(0,eJ.i6)(h),"/lens-search"!==o&&r("/lens-search/"),e()}catch(e){d(e instanceof ex?eb(t,e.type):ef(t))}finally{c(!1)}};return{isUploading:l,fileError:d,setFileError:m,urlError:p,setUrlError:_,uploadImage:y}}({onDismiss:t});return((0,eR.r)({component:ea.SY,view_type:ea.CR}),(0,a.useLayoutEffect)(()=>{n.current&&p(n.current.getBoundingClientRect()),m(document.documentElement.clientWidth)},[n]),e)?(0,b.jsx)(o.Wd,{zIndex:ea.B4,children:(0,b.jsx)(o.AM,{accessibilityLabel:i.bt("Lens açılır penceresi", "Lens popover", "lens.popover.accessibilityLabel", undefined, true),anchor:e,coordinates:c?void 0:{top:d,end:null!==u?h-u.right:0},idealDirection:c?"up":"down",offset:c&&null!==u?u.height-ea.eN:void 0,onDismiss:t,position:c?void 0:"fixed",positionRelativeToAnchor:c,size:"flexible",children:(0,b.jsxs)(o.az,{minWidth:ea.J8,position:"relative",width:h/3,children:[(0,b.jsx)(eN,{onDismiss:t}),(0,b.jsxs)(o.az,{dangerouslySetInlineStyle:{__style:{maxHeight:`calc(100vh - ${d}px - ${ea.qm}px)`,flexDirection:"column"}},display:"flex",overflow:"auto",position:"relative",children:[(0,b.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{flex:"1 1 320px",marginTop:2}},minHeight:150,paddingX:6,children:(0,b.jsx)(eL,{error:y,isDisabled:_,setValidationError:x,uploadImage:A})}),(0,b.jsx)(o.az,{paddingX:6,children:(0,b.jsx)(eV,{error:f,isDisabled:_,setValidationError:v,uploadImage:A})}),(0,b.jsx)(eU,{}),_&&(0,b.jsx)(eO,{})]})]})})}):null}function eQ({searchBoxRef:e}){(0,a.useEffect)(()=>{(0,r.A)("LensButton","/app/www/discover/SearchBox/SearchBoxActions/LensButton.tsx")},[]);let t=(0,s.A)(),{logContextEvent:n}=(0,_.o)(),{isPopoverOpen:i,setIsPopoverOpen:l,setLensButtonMounted:c}=(0,er.S)(),d=(0,a.useRef)(null);(0,S.A)(()=>(c(!0),n({component:43,element:1304,event_type:120}),()=>c(!1)));let u=(0,a.useCallback)(()=>{l(!i),n({component:43,element:1304,event_type:101})},[i,l,n]);return(0,b.jsxs)(a.Fragment,{children:[(0,b.jsx)(o.K0,{ref:d,accessibilityLabel:t.bt("Lens", "Lens", "searchBox.lens.accessibilityLabel", undefined, true),icon:"search-by-image",onClick:u,tooltip:{text:t.bt("Görüntü yükleyin", "Upload image", "searchBox.lens.tooltip", undefined, true),idealDirection:"down",zIndex:Y.Yo}}),i&&(0,b.jsx)(eZ,{anchor:d.current,onDismiss:()=>l(!1),searchBoxRef:e})]})}function e0(){return"u">typeof window&&("webkitSpeechRecognition"in window||"SpeechRecognition"in window)}var e1=n(640992);let e2={v:"4.8.0",meta:{g:"LottieFiles AE 3.6.0",a:"",k:"",d:"",tc:""},fr:25,ip:0,op:75,w:24,h:24,nm:"lottie_loop_3_sec",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"Shape Layer 5",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[22.062,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-4.75],[-10.125,4.688]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:5,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-.703],[-10.125,.641]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:12,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.685],[-10.125,7.748]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:20,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:25,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-5.704],[-10.125,5.714]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:32,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3.25],[-10.125,3.194]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:39,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-4.544],[-10.125,4.522]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:45,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-.703],[-10.125,.641]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:52,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.685],[-10.125,7.748]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:60,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:67,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.685],[-10.125,7.748]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:71,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-5.451],[-10.125,5.474]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-4.75],[-10.125,4.688]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Shape Layer 4",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[17.047,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-7.875],[-10.141,7.875]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:7,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:18,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.135,-6.147],[-10.135,6.125]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:27,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.165,-1.59],[-10.165,1.514]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:38,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-7.875],[-10.141,7.875]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:46,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.154,-4.346],[-10.154,4.304]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:53,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.151,-4.706],[-10.151,4.668]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:63,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.165,-1.59],[-10.165,1.514]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:71,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.135,-6.147],[-10.135,6.125]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-7.875],[-10.141,7.875]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Shape Layer 3",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[12.031,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:13,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.145,-5.963],[-10.145,5.901]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:24,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-.622],[-10.141,.622]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:33,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.154,-6.64],[-10.154,6.587]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:42,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-.622],[-10.141,.622]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:50,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.156,-7.75],[-10.156,7.688]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:60,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.15,-4.91],[-10.15,4.872]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:67,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.154,-6.64],[-10.154,6.587]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Shape Layer 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[7.016,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-6.062],[-10.109,5.688]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:10,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:20,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-7.688],[-10.109,7.562]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:29,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-.938],[-10.141,.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:39,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-4.734],[-10.117,4.456]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:46,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-.938],[-10.141,.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:56,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-5.148],[-10.121,5.07]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:65,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-1.818],[-10.137,1.802]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-6.062],[-10.109,5.688]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0},{ddd:0,ind:5,ty:4,nm:"Shape Layer 1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[2,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:7,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.688],[-10.125,7.562]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:17,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:26,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-5.438],[-10.125,5.413]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:33,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-1.062],[-10.125,1]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:40,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-6.851],[-10.125,6.734]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:50,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:60,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.688],[-10.125,7.562]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:70,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0}],markers:[{tm:75,cm:"",dr:0}]};function e3(){(0,a.useEffect)(()=>{(0,r.A)("AudioBars","/app/www/inclusiveProduct/VoiceSearch/AudioBars.tsx")},[]);let e=(0,s.A)().bt("Dinleme etkin...", "Listening...", "searchBox.voiceSearch.accessibilityLabel", undefined, true),{animationContainerRef:t}=(0,e1.A)({animationData:e2,loop:!0,autoplay:!0,renderer:"svg",rendererSettings:{title:e},onDOMLoaded:()=>{let e=t.current?.querySelector("svg");e&&e.setAttribute("role","img")}});return(0,b.jsx)(o.so,{alignItems:"center",height:48,justifyContent:"center",width:48,children:t?(0,b.jsx)(o.n1,{height:24,width:24,children:(0,b.jsx)(o.az,{ref:t})}):(0,b.jsx)(o.In,{accessibilityLabel:e,color:"default",icon:"audio-bars",size:24})})}var e6=n(79906);function e5({onCloseClick:e}){(0,a.useEffect)(()=>{(0,r.A)("VoiceSearchPermissionsModal","/app/www/inclusiveProduct/VoiceSearch/VoiceSearchPermissionsModal.tsx")},[]);let t=(0,s.A)(),{logContextEvent:n}=(0,_.o)();(0,S.A)(()=>{n({event_type:13,view_type:2,component:15282})});let i=()=>{n({event_type:101,view_type:2,component:15282,element:75}),e()};return(0,b.jsx)(e6.Ay,{accessibilityModalLabel:t.bt("Sesli arama izinleri iletişim kutusu", "Voice search permissions modal", "voiceSearch.accessibilityLabel", undefined, true),align:"start",heading:(0,b.jsx)(o._Y,{accessibilityLevel:1,size:"600",children:t.bt("Sesli aramayı kullanmak ister misiniz?", "Want to use voice search?", "voiceSearch.modal.header", undefined, true)}),isOpen:!0,onDismiss:i,size:"sm",children:(0,b.jsxs)(o.az,{direction:"column",display:"flex",paddingX:7,children:[(0,b.jsx)(o.KJ,{children:t.bt("Pinterest'in mikrofona erişmesine izin vermek için tarayıcı ayarlarınıza gidin", "Go to your browser settings to let Pinterest access the microphone", "voiceSearch.modal.message", undefined, true)}),(0,b.jsx)(o.az,{display:"flex",justifyContent:"end",marginBottom:6,marginTop:7,children:(0,b.jsx)(o.$n,{accessibilityLabel:t.bt("Kapat", "Close", "voiceSearch.close.button", undefined, true),color:"primary",onClick:i,size:"md",text:t.bt("Kapat", "Close", "voiceSearch.close.button", undefined, true)})})]})})}function e4(){(0,a.useEffect)(()=>{(0,r.A)("VoiceSearchEntryPoint","/app/www/discover/SearchBox/SearchBoxActions/VoiceSearchEntryPoint.tsx")},[]);let e=(0,s.A)(),{logContextEvent:t}=(0,_.o)(),{checkExperiment:n}=(0,B.A)(),{handleTextChange:i,handleVoiceSearchSubmit:l,voiceSearchPlaceholder:c,setVoiceSearchPlaceholder:d}=(0,j.Z)(),[u,p]=(0,a.useState)(!1),[h,m]=(0,a.useState)(!1),g=(0,a.useRef)(null),y=n("web_lens",{dangerouslySkipActivation:!0}).anyEnabled;(0,a.useEffect)(()=>{m(e0())},[]),(0,S.A)(()=>{t({event_type:120,view_type:2,component:43,element:15977})});let x=(0,a.useCallback)(()=>{g.current&&(g.current.stop(),d($.g.NULL))},[d]);if((0,a.useEffect)(()=>{c===$.g.CANCEL&&(x(),d($.g.NULL))},[c,x,d]),!h)return null;let f=async()=>{t({event_type:101,view_type:2,component:43,element:15977});try{let e,n=await navigator.permissions.query({name:"microphone"});if("denied"===n.state){d($.g.NULL),p(!0);return}let r=new(window.webkitSpeechRecognition||window.SpeechRecognition);g.current=r,r.lang="en-US",r.interimResults=!1,e=void 0,i(""),d($.g.NULL),r.onstart=()=>{d($.g.LISTENING)},r.onresult=t=>{let n=t.results?.[0]?.[0]?.transcript;n&&(e=n)},r.onerror=e=>{d(null),"permission-denied"===e.error&&p(!0)},r.onend=()=>{e&&c!==$.g.CANCEL?(l(e),d(null)):"prompt"===n.state?d(null):(t({event_type:16683,view_type:2,component:43,aux_data:{reason:"voice search miss"}}),d($.g.DEFAULT)),e=void 0},r.start()}catch(e){t({event_type:16683,view_type:2,component:43,aux_data:{error_message:(0,eP.A)(e,"message")}})}};return(0,b.jsxs)(a.Fragment,{children:[c===$.g.LISTENING?(0,b.jsx)(e3,{}):(0,b.jsx)(o.K0,{accessibilityLabel:e.bt("Sesli arama", "Voice search", "searchBox.voiceSearch.accessibilityLabel", undefined, true),icon:"microphone",iconColor:"default",onClick:f,tooltip:y?{text:e.bt("Sesle arama", "Search by voice", "searchBox.voice.tooltip", undefined, true),idealDirection:"down",zIndex:Y.Yo}:void 0}),u&&(0,b.jsx)(e5,{onCloseClick:()=>p(!1)})]})}function e7({displayedQuery:e,hasAppliedQuery:t,hasTypedSinceFocus:n,isInlineSYOP:i,isInTypeaheadSession:s,onClearSearch:l,searchBoxRef:c,voiceSearchPlaceholder:d}){(0,a.useEffect)(()=>{(0,r.A)("SearchBoxActions","/app/www/discover/SearchBox/SearchBoxActions/SearchBoxActions.tsx")},[]);let{multimodalPinId:u}=(0,j.Z)(),{showCancel:p,showLens:m,showVoice:_}=function({displayedQuery:e,hasTypedSinceFocus:t,isInlineSYOP:n,voiceSearchPlaceholder:r}){let{country:a,language:o}=(0,h._8)(),i=(0,g.zy)(),s=(0,x.A)(),{isSyop:l}=(0,j.Z)(),c=(0,T.VX)(i),{checkExperiment:d}=(0,B.A)(),u=s.isAuth,p=e0(),m=r===$.g.LISTENING,_=u&&!n&&!l&&!c&&d("web_lens",{dangerouslySkipActivation:!0}).anyEnabled,y=p&&u&&!n&&"US"===a&&o.startsWith("en")&&d("web_voice_search").anyEnabled;return m?{state:"voiceListening",showCancel:!0,showLens:!1,showVoice:!0}:e?t?{state:"typing",showCancel:!0,showLens:!1,showVoice:y}:{state:"filled",showCancel:!0,showLens:_,showVoice:y}:{state:"empty",showCancel:!1,showLens:_,showVoice:y}}({displayedQuery:e,hasTypedSinceFocus:n,isInlineSYOP:i,voiceSearchPlaceholder:d}),y=!!(0,M.A)()&&!i,f=u&&!y&&s;return(0,b.jsxs)(o.az,{alignItems:"center",dangerouslySetInlineStyle:y||f?{__style:{bottom:4}}:void 0,display:"flex",marginEnd:1,marginStart:3,position:y||f?"absolute":void 0,right:!!(y||f),children:[p&&(0,b.jsx)(en,{hasAppliedQuery:t,isInlineSYOP:i,onClear:l}),m&&(0,b.jsx)(eQ,{searchBoxRef:c}),_&&(0,b.jsx)(e4,{})]})}var e8=n(987628),e9=n(652567);let te={recentSaves:[],recentViews:[]};function tt(e,t){if(e=e||te,"FETCH_COMPLETE"!==t.type)return e;{let{options:n={},resource:r}=t.payload,{data:a}=t.payload.response.resource_response;if("ApiResource"===r&&"/v3/users/me/recent/engaged/pin/stories/"===n.url&&a){let t=a.find(e=>"user_recently_viewed_pins"===e.story_type),n=a.find(e=>"user_recently_saved_pins"===e.story_type),r=t?.objects.map(({description:e,id:t,images:n},r)=>({label:e,images:n,resultIndex:r,type:"recent_view",url:`/pin/${t}`}))||[],o=n?.objects.map(({description:e,id:t,images:n},r)=>({label:e,images:n,resultIndex:r,type:"recent_save",url:`/pin/${t}`}))||[];return{...e,recentSaves:o,recentViews:r}}return e}}let{Provider:tn,get:tr}=(0,e8.A)("SearchBox");function ta({children:e}){let[t,n]=(0,a.useReducer)(tt,te),r=(0,a.useCallback)(e=>{n({type:"FETCH_COMPLETE",payload:e})},[]);(0,e9.jY)("ApiResource",r);let o=(0,a.useMemo)(()=>({state:t}),[t]);return(0,b.jsx)(tn,{value:o,children:e})}var to=n(75840),ti=n(971289);function ts({autocompleteRequestSurface:e}){let t=(0,ti.qJ)(),n=(0,x.A)();return(0,to.A)(n.isAuth?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:V.cO.PINS,autocomplete_request_surface:e},noCache:!0}:null),(0,to.A)(t?{name:"SearchTabResource"}:null),null}let tl=(0,n(16917).A)("autocomplete_render");var tc=n(114735),td=n(621556),tu=n(24086),tp=n(406661),th=n(542975),tm=n(319571),tg=n(668014);let t_=({children:e,impressionTrackerProps:t})=>((0,a.useEffect)(()=>{(0,r.A)("MaybeImpressionTracker","/app/packages/impression-logging/MaybeImpressionTracker.tsx")},[]),t?(0,b.jsx)(eD.g$,{...t,children:e}):e({impressionTrackerRef:null}));var ty=n(618243),tx=n(386379);function tf({onLoad:e,suggestion:t}){(0,a.useEffect)(()=>{(0,r.A)("AutocompleteUpsellSuggestions","/app/www/discover/SearchBox/AutocompleteUpsellSuggestions.tsx")},[]);let n=(0,tx.A)({url:t.action_button_uri});return(0,a.useEffect)(()=>{e()},[]),(0,b.jsxs)(o.az,{padding:10,children:[(0,b.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{color:"#004b91",fontSize:"28px",WebkitFontSmoothing:"antialiased"}},marginBottom:6,children:t.description}),(0,b.jsx)(o.$A,{href:t.action_button_uri,rel:n?"nofollow":"none",rounding:"pill",children:(0,b.jsx)(o.az,{color:"info",display:"inlineBlock",padding:3,rounding:"pill",children:(0,b.jsx)(o.KJ,{color:"inverse",weight:"bold",children:t.action_button_text})})})]})}var tb=n(323250),tv=n(528045),tA=n(464224);let tw=(0,a.lazy)(()=>n.e("58329").then(n.bind(n,521344)));function tS({experiences:e,index:t,focusedIndex:n,onSuggestionMouseEnter:r,onSuggestionMouseLeave:i,onLoad:s,query:l,suggestion:c}){let d=(0,tv.A)(c),{handleSuggestionSelect:u,handleInclusiveProductFilterClick:p,getSuggestionImpressionOptions:h}=(0,j.Z)();return(0,a.useEffect)(()=>{c.image||s()},[]),(0,b.jsx)(Z.cO,{experiences:e,placementId:1000315,searchTerm:l,suggestions:[c],children:({searchDelightConfig:e})=>(0,b.jsx)(t_,{impressionTrackerProps:h({index:t,groupIndex:t,suggestion:c,loggingId:c.id}),children:({impressionTrackerRef:a})=>(0,b.jsxs)(o.az,{ref:a,marginBottom:1,marginEnd:-3,marginStart:-3,children:[(0,b.jsx)(tb.m,{id:(0,z.mc)(0,t),isHovered:n===t,onClick:()=>{u({suggestion:c,index:t})},onMouseEnter:()=>{r(t)},onMouseLeave:()=>{i()},url:(0,z.R7)({suggestion:c,query:l}),children:(0,b.jsx)(o.so,{alignItems:"center",justifyContent:"start",children:(0,b.jsx)(o.az,{flex:"grow",children:(0,b.jsx)(tb.A,{highlightMatch:!0,imageUrl:c.image,label:c.label,onLoad:s,query:l,rounding:2,searchDelightConfig:e,subLabel:c.subLabel,type:c.type})})})}),!!d&&d!==tA.zB.BODY&&p&&(0,b.jsx)(o.so,{alignItems:"center",justifyContent:"start",overflow:"hidden",children:(0,b.jsx)(tg.A,{name:"SafeSuspense_BlendedTypeaheadSuggestion_InclusiveFilters",children:(0,b.jsx)(ty.A,{children:(0,b.jsx)(tw,{filters:{[d]:c.modified_filter_eligibility?.[d]?.filter_options},moduleType:tA.P4.SEARCH_AUTOCOMPLETE,onClickApplyFilters:e=>p(c,t,e),query:l,viewParameter:103,viewType:2})})})})]})})})}let tj=({index:e,focusedIndex:t,onSuggestionMouseEnter:n,onSuggestionMouseLeave:r,onLoad:a,suggestion:i})=>{let{handleSuggestionSelect:s,getSuggestionImpressionOptions:l}=(0,j.Z)();return(0,b.jsx)(t_,{impressionTrackerProps:l({index:e,groupIndex:e,suggestion:i,loggingId:i.id}),children:({impressionTrackerRef:l})=>(0,b.jsx)(o.az,{ref:l,marginBottom:1,marginEnd:-3,marginStart:-3,children:(0,b.jsx)(tb.m,{id:(0,z.mc)(0,e),isHovered:t===e,onClick:()=>{s({suggestion:i,index:e})},onMouseEnter:()=>{n(e)},onMouseLeave:()=>{r()},url:i.url,children:(0,b.jsx)(tb.A,{imageUrl:i.image,isVerifiedMerchant:i.is_verified_merchant,label:i.label,onLoad:a,rounding:"circle",subLabel:i.subLabel,verified:i.verified})})},`${i.type}-${i.label}-${i.subLabel||""}`)})};function tP({experiences:e,suggestions:t,focusedIndex:n,query:o,onSuggestionMouseEnter:i,onSuggestionMouseLeave:s}){(0,a.useEffect)(()=>{(0,r.A)("BlendedTypeaheadSuggestion","/app/www/discover/SearchBox/BlendedTypeaheadSuggestion.tsx")},[]);let l=d(),c=e=>"image"in e&&e.image,u=t.some(c),p=()=>{l?.stop(),tl.isActive()&&tl.stop()};return t.map((t,r)=>{let a=!u||c(t);switch(t.type){case"autocompleteupsell":return(0,b.jsx)(tf,{onLoad:a?p:()=>{},suggestion:t},`search-suggestion-${t.type}-${t.id}`);case"query":case"recent_pin_searches":return(0,b.jsx)(tS,{experiences:e,focusedIndex:n,index:r,onLoad:a?p:()=>{},onSuggestionMouseEnter:i,onSuggestionMouseLeave:s,query:o,suggestion:t},`search-suggestion-${t.type}-${t.id}`);case"user":return(0,b.jsx)(tj,{focusedIndex:n,index:r,onLoad:a?p:()=>{},onSuggestionMouseEnter:i,onSuggestionMouseLeave:s,suggestion:t},`search-suggestion-${t.type}-${t.id}`);default:return null}})}var tk=n(65881),tI=n(241037),tz=n(733048),tE=n(745489),tT=n(713364),tC=n(535078);function tL({contextLogData:e,dominantColor:t,groupIndex:n,height:i,icon:l,images:c,isDarkRep:d=!1,isHovered:u,title:p,onMouseEnter:h,onMouseLeave:m,onClick:g,searchBoxRenderStopwatch:_,suggestion:y,showRemoveButton:x=!1,slotIndex:f,url:v,width:A}){(0,a.useEffect)(()=>{(0,r.A)("SearchInFeedRep","/app/common/react/components/discover/stories/SearchInFeedRep.tsx")},[]);let w=(0,s.A)(),{autocompleteRequestSurface:S,getSuggestionImpressionOptions:P,isSyop:k}=(0,j.Z)(),{group:I,anyEnabled:z}=(0,tT.A)({isSyop:k}),E=(0,tC.A)(S),T=I.includes("vertical"),C=i||80,L=c&&c[0]&&c[0]["236x"]?.url||"";(0,tI.A)("search_tab_render",L,"recent_query"===y.type?"200x":"236x");let B=!!l&&(0,tz.A)(l),R=!!A&&A<160||!!i&&i<60,M=R&&!z?"200":"300",D=z?void 0:"bold",$=(R||z)&&2||3,U=R&&2||z&&3||4,N=A?A-C:156,O=R?300:400,F=R?300:400,H=R?200:300,V=R?200:300,G=()=>{_?.stop();let e=(0,tc.A)();e.isActive()&&e.stop()},W=async e=>{await (0,ek.A)({url:"/v3/search/recent/",method:"DELETE",data:{query:e}}),E()};return(0,b.jsx)(t_,{impressionTrackerProps:P({index:f,additionalAuxData:e,groupIndex:n,suggestion:y,loggingId:y.id}),children:({impressionTrackerRef:e})=>(0,b.jsx)(o.az,{ref:e,"data-test-id":x?"recent-query":void 0,height:C,width:A||"100%",children:(0,b.jsx)(o.n1,{rounding:O,wash:!d&&!T,children:(0,b.jsxs)(o.az,{dangerouslySetInlineStyle:z?void 0:{__style:d&&{backgroundColor:u?"var(--base-color-grayscale-350)":"var(--base-color-grayscale-400)"}||u&&tE.a.lightHoverOverlay||{}},children:[(0,b.jsx)(tb.m,{isHovered:u,onBlur:()=>{},onClick:g,onFocus:h,onMouseEnter:h,onMouseLeave:m,rounding:F,url:v,children:(0,b.jsxs)(o.so,{direction:"row",children:[(0,b.jsx)(o.az,{"data-test-id":"search-suggestion-image-container",flex:"none",height:C,padding:z?1:void 0,width:C,children:L?(0,b.jsx)(o.n1,{height:"100%",rounding:z?H:void 0,wash:!0,width:"100%",children:(0,b.jsx)(o._V,{alt:"",color:t,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:G,role:"presentation",src:L})}):(0,b.jsx)(o.az,{alignItems:"center",color:"secondary",display:"flex",height:"100%",justifyContent:"center",rounding:z?V:void 0,width:"100%",children:(0,b.jsx)(o.In,{accessibilityLabel:"",color:"dark",icon:"magnifying-glass",size:24})})}),(0,b.jsxs)(o.az,{alignItems:"center",display:"flex",flex:"grow",maxHeight:C,maxWidth:z?void 0:N,padding:U,children:[B&&(0,b.jsx)(o.az,{alignItems:"center",display:"flex",flex:"none",marginEnd:2,children:(0,b.jsx)(o.In,{accessibilityLabel:"",icon:B,inline:!0,size:14})}),(0,b.jsx)(o.KJ,{color:d?"light":void 0,dataTestId:"search-suggestion-text",lineClamp:$,size:M,weight:D,children:p})]}),x&&(0,b.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{visibility:u?"visible":"hidden"}},"data-test-id":"clear-recent-queries",display:"flex",flex:"none",marginEnd:2,marginStart:-1,children:(0,b.jsx)(o.K0,{accessibilityLabel:w.bt("Son aramaları kaldır", "Remove recent search", "Remove recent search icon in search autocomplete", undefined, true),bgColor:"default",focusColor:"darkBackground",icon:"close",iconColor:"default",onClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),W(p)},padding:2,size:"sm"})})]})}),x&&(0,b.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{visibility:u?"visible":"hidden"}},"data-test-id":"clear-recent-queries",marginEnd:2,marginTop:7,onMouseEnter:h,onMouseLeave:m,position:"absolute",right:!0,top:!0,children:(0,b.jsx)(o.K0,{accessibilityLabel:w.bt("Son aramaları kaldır", "Remove recent search", "Remove recent search icon in search autocomplete", undefined, true),focusColor:"darkBackground",icon:"close",iconColor:"default",onClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),W(p)},padding:2,size:"sm"})})]})})})})}var tB=n(284247),tR=n(989457);function tM({coverImage:e,creator:t,formattedTitle:n,height:i,id:s,impressionTrackerRef:l,inheritedIsHovered:c,onClick:d,onMouseDown:u,onMouseEnter:p,onMouseLeave:h,searchBoxRenderStopwatch:m,url:g,width:_}){(0,a.useEffect)(()=>{(0,r.A)("SimpleBubble","/app/www/discover/Bubbles/SimpleBubble.tsx")},[]);let y=t?.avatar_color_index;return(0,b.jsx)(tE.A,{ref:l,backgroundColor:"gray",coverImage:e,disableTabIndex:!0,height:i,id:s,isHovered:c,onClick:d,onMouseDown:u,onMouseEnter:p,onMouseLeave:h,searchBoxRenderStopwatch:m,url:g,width:_,children:(0,b.jsx)(o.az,{ref:l,alignItems:"end",display:"flex",height:i,justifyContent:"center",padding:3,position:"absolute",top:!0,width:_||"100%",children:(0,b.jsxs)(o.so,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[i>200?(0,b.jsx)(o._Y,{align:"center",color:"light","data-test-id":"sp-bubble-title",size:"600",children:n}):(0,b.jsx)(o.KJ,{align:"center",color:"light","data-test-id":"sp-bubble-subtitle",weight:"bold",children:n}),t&&t.image_small_url&&t.full_name&&(0,b.jsxs)(o.az,{alignItems:"center","data-test-id":"sp-bubble-creator",display:"flex",justifyContent:"center",marginTop:4,children:[(0,b.jsx)(o.az,{marginEnd:2,children:(0,b.jsx)(tR.eu,{color:y,name:t.full_name,outline:!0,size:"xs",src:t.image_small_url})}),(0,b.jsx)(o.KJ,{color:"light",size:"100",children:t.full_name})]})]})})})}var tD=n(194046);function t$({board:e,height:t,isHovered:n,searchBoxRenderStopwatch:o,slotIndex:i,storyId:s,storyType:l,viewParameter:c,viewType:d,width:u,...p}){(0,a.useEffect)(()=>{(0,r.A)("EditorialBoardBubble","/app/www/discover/Bubbles/EditorialBoardBubble.tsx")},[]);let{id:h,name:m,image_cover_hd_url:g,owner:_,url:y}=e,x=(0,tB.A)(m||"",{});return m&&h&&y?(0,b.jsx)(tD.D6,{auxData:{grid_index:i.toString(),board_id:h,story_type:l,story_id:s},loggingId:h,objectIdStr:h,slotIndex:i,viewParameter:c||3467,viewType:d,children:({impressionTrackerRef:e})=>(0,b.jsx)(tM,{coverImage:{url:g},creator:_,formattedTitle:x,height:t,id:h,impressionTrackerRef:e,inheritedIsHovered:n,searchBoxRenderStopwatch:o,url:y,width:u,...p})}):null}var tU=n(755817);function tN({component:e,height:t,isHovered:n,searchBoxRenderStopwatch:o,slotIndex:i,storyId:s,storyType:l,todayArticle:c,viewParameter:d,viewType:u,width:p,...h}){(0,a.useEffect)(()=>{(0,r.A)("TodayArticleBubble","/app/www/discover/Bubbles/TodayArticleBubble.tsx")},[]);let{id:m,title:g,image_urls:_,article_creator_user:y,feed_source:x,is_product_pin_feed:f}=c,v=_&&_.length>0?{url:_[0]}:void 0,A=(0,tB.A)(g||"",{});if(!g||!m)return null;let w=(0,tU.oF)(x??0,f??!1,g,m);return(0,b.jsx)(tD.hK,{auxData:{grid_index:i.toString(),today_article_id:m,story_type:l,story_id:s},component:e,loggingId:m,objectIdStr:m,slotIndex:i,viewParameter:d||3467,viewType:u,children:({impressionTrackerRef:e})=>(0,b.jsx)(tM,{coverImage:v,creator:y,formattedTitle:A,height:t,id:m,impressionTrackerRef:e,inheritedIsHovered:n,searchBoxRenderStopwatch:o,url:w,width:p,...h})})}function tO(e){(0,a.useEffect)(()=>{(0,r.A)("TatSpBubble","/app/www/discover/Bubbles/TatSpBubble.tsx")},[]);let{bubble:t}=e;return"board"===t.type?(0,b.jsx)(t$,{...e,board:t}):(0,b.jsx)(tN,{...e,todayArticle:t})}function tF({children:e,prototypeSLP:t,containerWidth:n,repType:i="default"}){(0,a.useEffect)(()=>{(0,r.A)("SuggestionsGrid","/app/www/discover/SearchBox/SuggestionsGrid.tsx")},[]);let{checkExperiment:s}=(0,B.A)(),l=s("dweb_ac_empty_state_new_user_onboarding_exp",{dangerouslySkipActivation:!0}).group,c=!!(0,M.A)();return t?(0,b.jsx)(o.xA,{columnGap:2,rowGap:2,templateColumns:{base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:`repeat(${c?3:2}, 1fr)`,lg:`repeat(${c?3:4}, 1fr)`,xl:`repeat(${c?3:4}, 1fr)`,xxl:"repeat(4, 1fr)"},children:e({width:void 0,height:"trending"===i&&72||"nux"===i&&"enabled_4reps"===l&&110||88})}):(0,b.jsx)(o.so,{alignItems:"stretch",direction:"row",gap:2,justifyContent:"start",wrap:!0,children:e(function({containerWidth:e}){let t,n=4,r=t=>e?(e-(64+8*(t-1)))/t:236;for(t=r(4);t<177&&n>1;)n-=1,t=r(n);for(;t>354;)n+=1,t=r(n);let a=Math.max(60,t/2.6);return{width:t,height:a}}({containerWidth:n}))})}function tH({title:e,action:t,prototypeSLP:n}){return(0,b.jsxs)(o.az,{alignItems:"center","data-test-id":"suggestion-group-heading",display:"flex",justifyContent:"between",marginEnd:2,children:[n?(0,b.jsx)(o.az,{marginEnd:1,paddingX:1,children:(0,b.jsx)(o._Y,{lineClamp:1,size:"400",children:e})}):(0,b.jsx)(o._Y,{lineClamp:1,size:"300",children:e}),n&&t&&(0,b.jsx)(o.so.Item,{flexBasis:"shrink",children:(0,b.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{top:2}},position:"relative",children:(0,b.jsx)(o.pp,{onMouseEnter:t.onFocus,onMouseLeave:t.onBlur,children:(0,b.jsx)(o.Rp,{onBlur:t.onBlur,onFocus:t.onFocus,onTap:t.onClick,children:(0,b.jsx)(o.KJ,{color:"subtle",children:(0,b.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{lineHeight:1}},children:t.text})})})})})})]})}let tV=({handleRemove:e,id:t,isHovered:n,label:r,onClick:a,onMouseEnter:i,onMouseLeave:s,removeA11yText:l,url:c})=>(0,b.jsx)(o.az,{"aria-selected":n?"true":"false","data-test-id":"search-suggestion",id:t,marginBottom:2,marginEnd:2,role:"option",children:(0,b.jsx)(o.$A,{accessibilityLabel:r,href:c,onMouseEnter:i,onMouseLeave:s,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{e.metaKey||e.ctrlKey||(t(),e.preventDefault(),a())},rounding:"pill",children:(0,b.jsxs)(o.az,{alignItems:"center",color:n?void 0:"secondary",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",...n?{backgroundColor:"#dadada"}:{}}},display:"flex",paddingX:3,paddingY:1,position:"relative",rounding:"pill",children:[(0,b.jsx)(o.KJ,{align:"center",children:r}),(0,b.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{paddingTop:"2px"}},"data-test-id":"clear-recent-queries",marginStart:2,children:(0,b.jsx)(o.K0,{accessibilityLabel:l??"",icon:"close",iconColor:"default",onClick:({event:t})=>{t.stopPropagation(),t.preventDefault(),e?.(r)},size:"xs"})})]})})}),tG=({id:e,isHovered:t,onClick:n,onMouseEnter:r,onMouseLeave:i,showSeeMoreOverlay:l,suggestion:c,trackClick:d,url:u})=>{let p=(0,s.A)();return(0,b.jsx)(o.az,{"aria-selected":t?"true":"false","data-test-id":"search-suggestion",id:e,marginBottom:2,paddingX:1,role:"option",children:(0,b.jsx)(o.$A,{href:u||c.url,onMouseEnter:r,onMouseLeave:i,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),d(),e.metaKey||e.ctrlKey||u||(e.preventDefault(),n())},rounding:300,tabIndex:-1,children:(0,b.jsxs)(o.n1,{height:116,rounding:300,wash:t,width:90,children:[c.images["236x"]?.url&&(0,b.jsx)(o._V,{alt:c.label,fit:"cover",naturalHeight:c.images["236x"]?.height??1,naturalWidth:c.images["236x"]?.width??1,src:c.images["236x"].url}),l&&(0,b.jsxs)(a.Fragment,{children:[(0,b.jsx)(o.az,{dangerouslySetInlineStyle:F.t5,height:116,left:!0,position:"absolute",top:!0,width:90}),(0,b.jsx)(o.az,{alignItems:"center",display:"flex",height:116,justifyContent:"center",padding:3,position:"absolute",top:!0,width:90,children:(0,b.jsx)(o.KJ,{align:"center",color:"inverse",dataTestId:"see-more-suggestions-overlay",weight:"bold",children:p.bt("Daha Fazla", "See More", "searchBox.suggestionGroups.recentPinRep.seeMoreText", undefined, true)})})]})]})})})},tW=({componentType:e,focusedIndex:t,groupIndex:n,keyPrefix:r,onSuggestionMouseEnter:a,onSuggestionMouseLeave:i,seeMoreUrl:s,suggestions:l,title:c})=>{let{logContextEvent:d}=(0,_.o)(),{handleSuggestionSelect:u}=(0,j.Z)();return(0,b.jsxs)(o.so,{dataTestId:`${r}_section`,direction:"column",gap:4,children:[(0,b.jsx)(o.so,{width:"100%",children:(0,b.jsx)(tH,{title:c})}),(0,b.jsx)(o.so,{alignItems:"stretch",justifyContent:"start",width:"100%",wrap:!0,children:l.map((o,c)=>{let p=6===c&&7===l.length;return(0,b.jsx)(tG,{id:(0,z.mc)(n,c),isHovered:t===c,onClick:()=>{u({suggestion:o,index:c})},onMouseEnter:()=>{a(c)},onMouseLeave:()=>{i()},showSeeMoreOverlay:p,suggestion:o,trackClick:()=>{d({event_type:101,component:e,element:p?179:12374,view_type:2,view_parameter:103})},url:p?s:o.url},`${r}-${c}`)})})]})};function tK({focusedIndex:e,groupIndex:t,onSuggestionMouseEnter:n,onSuggestionMouseLeave:o,suggestions:i}){(0,a.useEffect)(()=>{(0,r.A)("SuggestionGroups","/app/www/discover/SearchBox/SuggestionGroups.tsx")},[]);let l=(0,s.A)();return(0,eR.r)({component:13844,view_parameter:103,view_type:2}),(0,b.jsx)(tW,{componentType:13844,focusedIndex:e,groupIndex:t,keyPrefix:"recent_save",onSuggestionMouseEnter:n,onSuggestionMouseLeave:o,seeMoreUrl:"/me/pins/",suggestions:i,title:l.bt("Son kaydedilenler", "Recently saved", "searchBox.recentSavedSuggestions.heading", undefined, true)})}function tY({suggestion:e,groupIndex:t,index:n,focusedIndex:r,onSuggestionMouseEnter:a,onSuggestionMouseLeave:i}){let{handleSuggestionSelect:l,getSuggestionImpressionOptions:c,autocompleteRequestSurface:d}=(0,j.Z)(),u=(0,tC.A)(d),p=(0,s.A)(),h=async e=>{await (0,ek.A)({url:"/v3/search/recent/",method:"DELETE",data:{query:e}}),u()},m=p.bt("Kaldır", "Remove", "Remove recent search in search typeahead suggestion", undefined, true);return(0,b.jsx)(t_,{impressionTrackerProps:c({index:n,groupIndex:t,suggestion:e,loggingId:e.id}),children:({impressionTrackerRef:s})=>(0,b.jsx)(o.az,{ref:s,"data-test-id":"recent-query",children:(0,b.jsx)(tV,{handleRemove:h,id:(0,z.mc)(t,n),isHovered:r===n,label:e.label,onClick:()=>{l({suggestion:e,index:n})},onMouseEnter:()=>{a(n)},onMouseLeave:()=>{i()},removeA11yText:m,url:(0,z.R7)({suggestion:e,query:""})})},`${e.type}-${e.label}`)})}function tq({containerWidth:e,focusedIndex:t,groupIndex:n,onSuggestionMouseEnter:i,onSuggestionMouseLeave:l,searchBoxRenderStopwatch:c,suggestions:d}){(0,a.useEffect)(()=>{(0,r.A)("SuggestionGroups","/app/www/discover/SearchBox/SuggestionGroups.tsx")},[]);let u=(0,s.A)(),{isSyop:p}=(0,j.Z)(),{anyEnabled:h}=(0,tT.A)({isSyop:p}),{handleSuggestionSelect:m}=(0,j.Z)(),g=(0,z.Dq)({pillLabels:d.map(e=>e.label),maxWidth:e});return(0,b.jsxs)(o.so,{direction:"column",gap:4,children:[(0,b.jsx)(tH,{prototypeSLP:h,title:u.bt("Son Aramalar", "Recent searches", "Recent searches heading in search autocomplete", undefined, true)}),h?(0,b.jsx)(tF,{containerWidth:e,numItems:d.length,prototypeSLP:h,repType:"recentSearch",children:({width:e,height:r})=>d.map((a,o)=>(0,b.jsx)(tL,{groupIndex:n,height:r,images:a.image_preview_pins?.map(e=>({"236x":{...e.image_medium_size_pixels,url:e.image_medium_url}})),isHovered:t===o,onClick:()=>{m({suggestion:a,index:o})},onMouseEnter:()=>{i(o)},onMouseLeave:()=>{l()},searchBoxRenderStopwatch:c,showRemoveButton:!0,slotIndex:o,suggestion:a,title:a.label,url:(0,z.R7)({suggestion:a,query:""}),width:e},a.label))}):(0,b.jsx)(o.az,{display:"flex",overflow:"hidden",position:"relative",children:d.slice(0,g).map((e,r)=>(0,b.jsx)(tY,{focusedIndex:t,groupIndex:n,index:r,onSuggestionMouseEnter:i,onSuggestionMouseLeave:l,suggestion:e},e.label))})]})}function tJ({focusedIndex:e,groupIndex:t,onSuggestionMouseEnter:n,onSuggestionMouseLeave:o,suggestions:i}){(0,a.useEffect)(()=>{(0,r.A)("SuggestionGroups","/app/www/discover/SearchBox/SuggestionGroups.tsx")},[]);let l=(0,s.A)();return(0,eR.r)({component:13843,view_parameter:103,view_type:2}),(0,b.jsx)(tW,{componentType:13843,focusedIndex:e,groupIndex:t,keyPrefix:"recent_view",onSuggestionMouseEnter:n,onSuggestionMouseLeave:o,seeMoreUrl:"/recently-viewed/",suggestions:i,title:l.bt("Son görüntülenenler", "Recently viewed", "searchBox.recentSavedSuggestions.heading", undefined, true)})}function tX({groupIndex:e,focusedIndex:t,onSuggestionMouseEnter:n,onSuggestionMouseLeave:i,searchBoxRenderStopwatch:s,suggestions:l}){(0,a.useEffect)(()=>{(0,r.A)("SuggestionGroups","/app/www/discover/SearchBox/SuggestionGroups.tsx")},[]);let{id:c,items:d,story_type:u,title:{format:p}}=l,{handleSuggestionSelect:h,getSuggestionImpressionOptions:m}=(0,j.Z)(),g=d.map(({type:e,id:t})=>e+":"+t).join("|");return(0,b.jsxs)(o.so,{direction:"column",gap:4,children:[(0,b.jsx)(tH,{title:p}),(0,b.jsx)(t_,{impressionTrackerProps:m({additionalAuxData:{content_ids:g,story_id:c,story_type:u},suggestion:d[0],index:e,groupIndex:e,loggingId:c}),children:({impressionTrackerRef:r})=>(0,b.jsx)(o.az,{ref:r,display:"flex",marginBottom:5,wrap:!0,children:d.map((r,a)=>{let l=t===a;return(0,b.jsx)(o.az,{"aria-selected":l?"true":"false","data-test-id":"search-suggestion-today-bubble",id:(0,z.mc)(e,a),marginBottom:2,paddingX:1,role:"option",children:(0,b.jsx)(tO,{bubble:r,component:13525,height:192,isHovered:l,onClick:()=>{h({suggestion:r,index:a})},onMouseEnter:()=>{n(a)},onMouseLeave:()=>{i()},searchBoxRenderStopwatch:s,slotIndex:a,storyId:c,storyType:u,viewParameter:3467,viewType:2,width:192})},`story--${e}-${a}`)})})})]})}function tZ({containerWidth:e,focusedIndex:t,groupIndex:n,index:i,onSuggestionMouseEnter:s,onSuggestionMouseLeave:l,searchBoxRenderStopwatch:c,suggestions:d}){(0,a.useEffect)(()=>{(0,r.A)("SuggestionGroups","/app/www/discover/SearchBox/SuggestionGroups.tsx")},[]);let{logContextEvent:u}=(0,_.o)(),{isSyop:p}=(0,j.Z)(),[h,m]=(0,a.useState)(!1),{action:g,id:y,items:x,story_type:f,title:{format:v}}=d,A=x[0]&&"explorearticle"===x[0].type&&x[0].story_category,{anyEnabled:w}=(0,tT.A)({isSyop:p}),S="shopping_spotlight"===f,{handleSuggestionSelect:P,getSuggestionImpressionOptions:k}=(0,j.Z)(),I=x.map(({type:e,id:t})=>e+":"+t).join("|"),E=(0,tC.A)(0),T=async e=>{await (0,ek.A)({url:"/v3/search/recent/",method:"DELETE",data:{query:e}})},C=g&&g.text?{text:g.text,onClick:()=>{d.custom_properties?.recent_searches?.forEach(e=>T(e)),E()},onFocus:()=>{m(!0)},onBlur:()=>{m(!1)}}:void 0;return(0,b.jsxs)(o.so,{dataTestId:"search-story-suggestions-container",direction:"column",gap:4,children:[(0,b.jsx)(tH,{action:C,prototypeSLP:w,title:v}),(0,b.jsx)(t_,{impressionTrackerProps:k({additionalAuxData:{content_ids:I,story_id:y,story_type:f},suggestion:x[0],index:n,groupIndex:n,loggingId:y}),children:({impressionTrackerRef:r})=>(0,b.jsx)(o.az,{ref:r,children:(0,b.jsx)(tF,{containerWidth:e,numItems:x.length,prototypeSLP:w,repType:2===A&&"trending"||"search_tab_nux_topic_articles"===f&&"nux"||"default",children:({width:e,height:r})=>x.map((a,d)=>{let p=i+d;if(S){let{id:e}=a;return(0,b.jsx)(tO,{bubble:a,height:192,onClick:()=>{u({component:200,event_type:101,view_parameter:3467,view_type:2,aux_data:{article_id:e,autocomplete_type:"recommended_article",story_type:f}})},onMouseDown:({event:e})=>e.preventDefault(),slotIndex:p,viewParameter:3467,viewType:2,width:192},`ss-bubble-${e}`)}{let i=h||t===p,{cover_images:u,dominant_colors:m,id:g,story_category:_,title:{format:x},subtitle:v,identifier_icon_type:A}=a,w=(0,z.R7)({suggestion:a,query:"",suggestionStoryId:y});return(0,b.jsx)(o.az,{"aria-selected":i?"true":"false","data-test-id":"search-suggestion",id:(0,z.mc)(n,d),role:"option",children:(0,b.jsx)(tL,{contextLogData:{story_type:f,content_ids:I,grid_index:d,story_id:y},dominantColor:m?.[0]??"",groupIndex:n,height:r,icon:A,images:u,isHovered:i,onClick:()=>{P({suggestion:a,index:p,suggestionStoryId:y})},onMouseEnter:()=>{s(p)},onMouseLeave:()=>{l()},searchBoxRenderStopwatch:c,slotIndex:p,subtitle:v?.format,suggestion:a,title:x,url:w,width:e})},`story-${_??""}-${n}-${g}`)}})})})})]})}var tQ=n(508537),t0=n(743858);function t1({inlineSYOP:e,query:t,searchBoxHeight:n,searchBoxRenderStopwatch:i,showSyopHeading:l,suggestionGroups:c,width:d}){let u;(0,a.useEffect)(()=>{(0,r.A)("SuggestionsMenu","/app/www/discover/SearchBox/SuggestionsMenu.tsx")},[]);let p=(0,a.useRef)(null),m=(0,s.A)(),{experiencesMulti:g}=(0,tp.A)(1000315),{enabled:_}=(0,R.A)(),{enabled:y}=(0,t0.A)(),x=_||y,{country:f,isAuthenticated:v}=(0,h._8)(),{suggestionsFocusIndex:A,suggestionsMaxHeight:w,setSuggestionsHovered:S,setSuggestionsFocusIndex:P,handleFeaturedBoardSubmit:k,isSyop:I,multimodalPinId:E,isInTypeaheadSession:T}=(0,j.Z)(),{anyEnabled:C}=(0,tT.A)({isSyop:I}),[L,B]=(0,a.useState)(0),D=(0,tu.A)(B,400),$=(0,tQ.wt)(v,f),{isRTL:U}=(0,h._8)();function N(){P(void 0)}(0,a.useLayoutEffect)(()=>{if(!p.current)return()=>{};B(p.current.getBoundingClientRect().width);let e=new ResizeObserver(()=>{D(e=>p.current?.getBoundingClientRect().width||e)});return e.observe(p.current),()=>{e.disconnect()}},[D]);let O=!!(0,M.A)()&&!e,F=E&&!O&&T,H=O||e,V=H&&"32px"||F&&"0 0 32px 32px"||x&&`0 0 ${Y.Ak}px ${Y.Ak}px`||"0 0 16px 16px",G=(u="-24px",O?U?{right:u,bottom:u}:{left:u,bottom:u}:e?U?{right:u,top:u}:{left:u,top:u}:F?U?{right:"-16px"}:{left:"-16px"}:x?_?U?{right:"-16px",left:"-24px",top:n}:{left:"-16px",right:"-24px",top:n}:{left:"-24px",right:"-12px",top:n}:{top:n});return(0,b.jsx)(tm.A,{view:2,viewParameter:103,children:c.length>0||E?(0,b.jsxs)(o.az,{color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:V,...G,zIndex:H||F?-5:void 0}},id:"SuggestionsMenu",left:!0,overflow:"hidden",position:"absolute",role:"listbox",width:(H||F)&&`calc(100% + ${(H?24:16)*2}px`||d||"100%",children:[(0,b.jsx)("div",{"data-test-id":"typeaheadResults",onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),style:{maxHeight:O?738:w,boxSizing:"content-box",overflowY:"auto"},children:(0,b.jsxs)(o.az,{ref:p,color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:V,paddingBottom:O?140:"4px",paddingTop:e&&72||F&&140||C&&"28px"||"32px"}},direction:"column",display:"flex",overflow:"hidden",width:"100%",children:[l&&(0,b.jsx)(o.az,{marginBottom:4,marginStart:8,marginTop:4,children:(0,b.jsx)(o._Y,{size:"600",children:t.length>0?(0,th.vQ)(m.bt("Pinlerinizde {{ query }} için arama yapın", "Search your Pins for {{ query }}", "searchBox.suggestionsMenu.searchYourPinsForQueryText", undefined, true),{query:t}):m.bt("Pinlerinizi arayın", "Search your Pins", "searchBox.suggestionsMenu.searchYourPinsText", undefined, true)})}),E?(0,b.jsx)(o.az,{alignItems:"center",display:"flex",justifyContent:"start",marginBottom:3,marginTop:-2,paddingX:6,children:(0,b.jsx)(o._Y,{color:"subtle",size:"200",children:m.bt("Arama sonuçlarınızı güncellemek için neredeyse her şeyi ekleyebilirsiniz", "You can add just about anything to update your search results", "searchBox.suggestionsMenu.multimodalSearch.youCanAddJustAboutAnythingToUpdateYourSearchResultsText", undefined, true)})}):c.map((e,n)=>e.items.length?(0,b.jsx)(o.az,{marginBottom:C&&!O?9:4,paddingX:8,children:function(e,n,r){let a=(0,z.n6)(c),o=null==A?void 0:A-a[n],s=e=>{P((0,z.n6)(c)[n]+e)};if("story"===e.type&&"shopping_spotlight"===e.story_type&&$)return(0,b.jsx)(tk.A,{handleFeaturedBoardSubmit:k});switch(e.type){case"recent_query":return(0,b.jsx)(tq,{containerWidth:r,focusedIndex:o,groupIndex:n,onSuggestionMouseEnter:s,onSuggestionMouseLeave:N,searchBoxRenderStopwatch:i,suggestions:e.items});case"recent_save":return(0,b.jsx)(tK,{focusedIndex:o,groupIndex:n,onSuggestionMouseEnter:s,onSuggestionMouseLeave:N,suggestions:e.items});case"recent_view":return(0,b.jsx)(tJ,{focusedIndex:o,groupIndex:n,onSuggestionMouseEnter:s,onSuggestionMouseLeave:N,suggestions:e.items});case"story":return"shopping_spotlight"===e.story_type?(0,b.jsx)(tX,{containerWidth:r,focusedIndex:o,groupIndex:n,index:0,onSuggestionMouseEnter:s,onSuggestionMouseLeave:N,searchBoxRenderStopwatch:i,suggestions:e}):(0,b.jsx)(tZ,{containerWidth:r,focusedIndex:o,groupIndex:n,index:0,onSuggestionMouseEnter:s,onSuggestionMouseLeave:N,searchBoxRenderStopwatch:i,suggestions:e});case"blended_autocomplete":return(0,b.jsx)(tP,{experiences:g,focusedIndex:o,onSuggestionMouseEnter:s,onSuggestionMouseLeave:N,query:t,suggestions:e.items})}return null}(e,n,L)},`${t}-${e.type}-${e.title?.format??""}`):null)]})}),O&&!E&&(0,b.jsx)(o.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, var(--sema-color-background-transparent) 0%, var(--sema-color-background-default) 20%)",pointerEvents:"none",transition:"opacity 0.1s"}},height:170,left:!0,position:"absolute",width:"100%"})]}):(0,b.jsx)(o.az,{})})}function t2({inlineSYOP:e,searchBoxHeight:t,suggestionGroups:n,width:o}){(0,a.useEffect)(()=>{(0,r.A)("SuggestionsMenuContainer","/app/www/discover/SearchBox/SuggestionsMenuContainer.tsx")},[]);let i=(0,N.A)({shouldSkipExpActivation:!0}),s=p(),l=(0,tc.A)(),c=d(),{isBot:u}=(0,h._8)(),m=(0,x.A)(),{checkExperiment:g}=(0,B.A)(),{autocompleteRequestSurface:_,enteredScope:y,enteredQuery:f,updateSuggestionGroups:v,isInTypeaheadSession:A,isSyop:w,multimodalPinId:S}=(0,j.Z)();(0,a.useEffect)(()=>{A&&!w&&(f?(c?.isTiming&&c?.abort("pivoted"),c?.start()):s?.isTiming||s?.start(),f?(tl.isActive()&&tl.abort("pivoted"),tl.start()):l.isActive()||l.start())},[A,w,f]);let{data:P}=(0,C.A)(u?null:{name:"SearchTabResource"}),{state:{recentSaves:k,recentViews:I}}=tr(),{items:z,isLoaded:E}=(0,td.H)({autocompleteRequestSurface:_}),T=(0,td.c)({query:f,scope:y,autocompleteRequestSurface:_});return((0,a.useEffect)(()=>{m.isAuth&&P&&P.length>0&&E&&z.length<9&&g("dweb_ac_empty_state_new_user_onboarding_exp")},[z,P,m.isAuth,g,E]),(0,a.useEffect)(()=>{let e=P||[],t=m.isAuth?e.filter(e=>"shopping_spotlight"!==e.story_type):e;v(w?[{items:z,type:"recent_query"},{items:I,type:"recent_view"},{items:k,type:"recent_save"}]:f.length?T:[{items:z,type:"recent_query"},...t||[]])},[T,w,v,f,P,z,k,I,y,m]),i)?null:A&&(n.length>0||S)&&(0,b.jsx)(t1,{inlineSYOP:e,query:f,searchBoxHeight:t,searchBoxRenderStopwatch:s,showSyopHeading:w,suggestionGroups:n,width:o})}var t3=n(106301);function t6({children:e}){(0,a.useEffect)(()=>{(0,r.A)("CloseupDelayedSearchBoxWrapper","/app/www/VerticalNav/auth/CloseupDelayedSearchBoxWrapper.tsx")},[]);let t=(0,g.zy)(),n=function(){let{group:e}=(0,M.A)()||{group:""},t=(0,g.zy)();return!!(e&&e.includes("delay"))&&(0,T.dM)(t)}(),[i,s]=(0,a.useState)(!1),l=(0,a.useRef)(0);return((0,a.useEffect)(()=>{n&&(l.current=Date.now());let e=setTimeout(()=>s(!1),0);return()=>clearTimeout(e)},[n,t.pathname]),(0,a.useEffect)(()=>{if(n){let e=()=>{Date.now()-l.current<400||s(!0)},t=setTimeout(()=>{window.scrollY>30&&s(!0)},400),n=setTimeout(()=>s(!0),1e4);return window.addEventListener("scroll",e),()=>{clearTimeout(t),clearTimeout(n),window.removeEventListener("scroll",e)}}return()=>{}},[n,t.pathname]),n&&!i)?(0,b.jsx)(o.az,{"data-test-id":"search-box-container",id:F.rv}):(0,b.jsx)(a.Fragment,{children:e})}function t5(e){let t=e.getBoundingClientRect(),n=window.innerHeight-240;return t.bottom<=n}function t4({children:e}){(0,a.useEffect)(()=>{(0,r.A)("SyopDelayedSearchBoxWrapper","/app/www/VerticalNav/auth/SyopDelayedSearchBoxWrapper.tsx")},[]);let t=(0,g.zy)(),n=(0,T.mi)(t),i=function(){let{group:e}=(0,M.A)()||{group:""},t=(0,g.zy)();return!!(e&&(0,T.mi)(t))}(),[s,l]=(0,a.useState)(!1),c=(0,a.useRef)(l);return((0,a.useEffect)(()=>{c.current=l},[l]),(0,a.useEffect)(()=>{if(!n){let e=setTimeout(()=>l(!1),0);return()=>clearTimeout(e)}},[n]),(0,a.useEffect)(()=>{if(!i)return;let e=document.getElementById(F.C3),t=e=>{let t=()=>{t5(e)&&c.current(!0)};requestAnimationFrame(t);let n=setTimeout(t,150),r=new IntersectionObserver(t=>{void 0!==t[0]&&t5(e)&&c.current(!0)},{rootMargin:"0px 0px -240px 0px",threshold:0});return r.observe(e),()=>{clearTimeout(n),r.disconnect()}};if(null!==e)return t(e);let n=null,r=new MutationObserver(()=>{let e=document.getElementById(F.C3);null!==e&&(r.disconnect(),n=t(e))});return r.observe(document.body,{childList:!0,subtree:!0}),()=>{r.disconnect(),n?.()}},[i,n]),i&&!s)?(0,b.jsx)(o.az,{"data-test-id":"search-box-container",id:F.rv}):(0,b.jsx)(a.Fragment,{children:e})}var t7=n(788446);function t8({isPartner:e=!1,widthType:t="md",inlineSYOP:n}){let r=(0,s.A)(),{isRTL:i}=(0,h._8)(),{enabled:l}=(0,K.A)(),{enabled:d}=(0,R.A)(),p=(0,N.A)({shouldSkipExpActivation:!0}),g=l||p,_=!!n,{group:y}=(0,M.A)()||{group:""},x=!!y&&!_,{pinId:f}=D(),v=(0,t7.A)(),{appUI:{showTypeaheadOverlay:A}}=(0,O.Y)(),{appliedQuery:w,displayedQuery:S,endPadding:P,enteredScope:k,handleClearSearch:z,handleScopeChange:E,handleSearchIconButtonClick:T,hasTypedSinceFocus:C,inputFocused:L,isContentTypeFilterHovered:B,isInTypeaheadSession:$,multimodalPinId:H,searchBoxHovered:V,setContentTypeFilterHovered:W,setSearchBoxHovered:J,showContentTypeFilter:Z,showIconOnly:Q,suggestionGroups:ee,voiceSearchPlaceholder:en}=(0,j.Z)(),er=!!w,ea=(0,m.A)()(),eo=(0,a.useRef)(null),ei=!x&&!_&&!H&&Z,es=H&&!x&&$,el=x&&$||es;if(Q&&!L&&!er&&!$)return(0,b.jsxs)(o.az,{ref:eo,"data-test-id":"search-box-container",id:F.rv,children:[(0,b.jsx)(o.K0,{accessibilityLabel:r.bt("Arama simgesi", "Search icon", "searchBox.searchIcon.accessibilityLabel", undefined, true),icon:"magnifying-glass",iconColor:"subtle",onClick:T,size:"lg"}),ea&&(0,b.jsx)(ts,{})]});let ec=t&&Object.keys(F.XO).includes(t)&&"shrink"!==t?F.XO[t]:"auto",ed=(0,b.jsx)(o.az,{ref:eo,dangerouslySetInlineStyle:{__style:el?{boxShadow:"var(--sema-elevation-shadow-floating)"}:{}},"data-test-id":"search-box-container",flex:"grow",id:F.rv,marginEnd:!d||x||_?0:2,marginTop:16*!!es,minWidth:x?void 0:ec,paddingX:d?0:p?4:2,rounding:el?500:void 0,children:(0,b.jsxs)(o.az,{dangerouslySetInlineStyle:_&&{__style:{backgroundColor:"var(--sema-color-background-default)",border:V?"1px solid var(--sema-color-hover-border-interactive)":"1px solid var(--sema-color-border-interactive)",outline:V?"0.5px solid var(--sema-color-hover-border-interactive)":"0"}}||!x&&!es&&{__style:{backgroundColor:V?I.uq:I.kP}}||void 0,display:"flex",height:x||es?116:48,rounding:_&&!$&&400||(g?Y.Xr:600),children:[(0,b.jsxs)(o.az,{alignItems:"center",dangerouslySetInlineStyle:x||es?void 0:{__style:{padding:i?`0 16px 0 ${P}`:`0 ${P} 0 16px`,...$?{borderRadius:g?`${Y.A4}px`:"24px",boxShadow:"0 0 0 4px rgba(0, 132, 255, .5)"}:{}}},display:"flex",flex:"grow",height:"100%",onMouseEnter:()=>{J(!0)},onMouseLeave:()=>{J(!1)},position:"relative",children:[!(S||L||H)&&(0,b.jsx)(o.az,{dangerouslySetInlineStyle:x?{__style:{position:"absolute",top:"19px",left:"20px"}}:void 0,flex:"none",marginEnd:2,zIndex:x?G.rc:void 0,children:(0,b.jsx)(o.In,{accessibilityLabel:r.bt("Arama simgesi", "Search icon", "searchBox.searchIcon.accessibilityLabel", undefined, true),color:x?"default":void 0,icon:"magnifying-glass",size:x?24:16})}),(0,b.jsx)(U,{inlineSYOP:_,name:"searchBoxInput"}),(0,b.jsx)(e7,{displayedQuery:S,hasAppliedQuery:er,hasTypedSinceFocus:C,isInlineSYOP:_,isInTypeaheadSession:$,onClearSearch:z,searchBoxRef:eo,voiceSearchPlaceholder:en}),!!f&&(0,b.jsx)(et,{}),(0,b.jsx)(u,{children:(0,b.jsx)(c,{children:(0,b.jsx)(t2,{inlineSYOP:_,searchBoxHeight:52,suggestionGroups:ee,width:"shrink"===t?"80vw":void 0})})}),ea&&(0,b.jsx)(ts,{})]}),ei?(0,b.jsxs)(a.Fragment,{children:[(0,b.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{background:"#d8d8d8",borderRadius:"1px"}},height:32,margin:"auto",width:2}),(0,b.jsx)(q,{currentlySelectedFilter:k,currentQuery:w,handleContentTypeFilterHover:()=>{e&&W(B)},handleScopeChange:E})]}):null]})});if(x){let e=$&&628||y.includes("large")&&636||380;return!(A&&!$)&&(0,b.jsx)(t6,{children:(0,b.jsx)(t4,{children:(0,b.jsx)(X,{hideOnScroll:y.includes("hide")||y.includes("employees"),isInTypeaheadSession:$,searchBoxHovered:V,children:t=>{let n=t.isHidden&&!$;return(0,b.jsx)(o.az,{column:10,dangerouslySetInlineStyle:{__style:{bottom:48,left:i?void 0:`calc(50% + ${v/2}px)`,right:i?`calc(50% + ${v/2}px)`:void 0,transform:"translateX(-50%)",backgroundColor:$?"var(--sema-color-background-default)":void 0,boxShadow:"0 3px 12px 0 rgba(0, 0, 0, 0.25), 0 3px 36px var(--sema-elevation-background-blur-weak, 8px) rgba(209, 209, 209, 0.50)",transition:"opacity 200ms linear, width 150ms linear",opacity:n?.5:1}},maxWidth:e,position:"fixed",rounding:500,zIndex:new o.K5([G.rc]),children:ed})}})})})}return _&&$?(0,b.jsx)(o.az,{flex:"grow",height:48,minWidth:ec,children:(0,b.jsx)(o.Wd,{zIndex:new o.K5([G.rc]),children:(0,b.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{left:i?void 0:`calc(50% + ${v/2}px)`,right:i?`calc(50% + ${v/2}px)`:void 0,top:{otherProfile:368,selfProfile:78,syopResultsPage:14}[n??"selfProfile"],transform:"translateX(-50%)"}},position:"fixed",rounding:500,width:`calc(85% - ${v}px)`,children:ed})})}):ed}function t9({iconOnly:e=!1,isPartner:t=!1,widthType:n="md",inlineSYOP:o}){return(0,a.useEffect)(()=>{(0,r.A)("SearchBox","/app/www/discover/SearchBox/SearchBox.tsx")},[]),(0,b.jsx)(t3.n,{children:(0,b.jsx)(i.Q,{children:(0,b.jsx)(ta,{children:(0,b.jsx)(j.U,{iconOnly:e,inlineSYOP:!!o,isPartner:t,widthType:n,children:(0,b.jsx)(t8,{inlineSYOP:o,isPartner:t,widthType:n})})})})})}},323250(e,t,n){n.d(t,{A:()=>h,m:()=>p});var r=n(61163),a=n(859471),o=n(19821),i=n(538329),s=n(542975),l=n(496952),c=n(998377),d=n(562615);let u=Math.floor(3.5);function p({id:e,children:t,isHovered:n,url:i,onClick:s,onMouseEnter:l,onMouseLeave:c,onFocus:u,onBlur:p,rounding:h}){return(0,a.useEffect)(()=>{(0,r.A)("SuggestionReps","/app/www/discover/SearchBox/SuggestionReps.tsx")},[]),(0,d.jsx)(o.az,{"aria-selected":n?"true":"false","data-test-id":"search-suggestion",id:e,role:"option",children:(0,d.jsx)(o.pp,{active:n,children:(0,d.jsx)(o.$A,{href:i,onBlur:p,onFocus:u,onMouseDown:({event:e})=>e.preventDefault(),onMouseEnter:l,onMouseLeave:c,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.metaKey||e.ctrlKey||(e.preventDefault(),s())},rounding:h,children:t})})})}function h({highlightMatch:e=!1,iconName:t,imageUrl:n,isVerifiedMerchant:p=!1,label:h,onLoad:m,query:g,rounding:_,searchDelightConfig:y,subLabel:x,type:f,verified:b=!1}){(0,a.useEffect)(()=>{(0,r.A)("SuggestionReps","/app/www/discover/SearchBox/SuggestionReps.tsx")},[]);let v=(0,i.A)(),A="recent_pin_searches"===f?"rs-search-suggestion":n||t?"enriched-search-suggestion":"regular-search-suggestion";return(0,d.jsx)(o.az,{"data-test-id":A,display:"flex",paddingY:+!!n,width:"100%",children:(0,d.jsxs)(o.so,{alignItems:"center",gap:{row:2,column:0},children:[n?(0,d.jsx)(o.az,{"data-test-id":"enriched-autocomplete-image",height:40,marginStart:u,overflow:"hidden",rounding:_&&2===_?200:"circle",width:40,children:(0,d.jsx)(o._V,{alt:"",color:"#efefef",fit:"cover",naturalHeight:40,naturalWidth:40,onLoad:m,role:"presentation",src:n})}):(0,d.jsx)(o.so,{alignItems:"center",height:40,justifyContent:"center",width:40,children:(0,d.jsx)(o.In,{accessibilityLabel:t?(0,s.vQ)(v.bt("{{ icon}} simgesi", "{{ icon}} icon", "SearchBox.SearchSuggestion.EnrichedAutocomplete.Icon", undefined, true),{icon:t}).join():"",color:"default",icon:t||"magnifying-glass",size:12})}),(0,d.jsxs)(o.so,{alignItems:"start",direction:"column",gap:{row:0,column:1},justifyContent:"center",children:[(0,d.jsxs)(o.so,{alignItems:"center",children:[e&&g?(0,d.jsx)(l.A,{query:g,searchDelightConfig:y,text:h||g}):(0,d.jsx)(o.KJ,{weight:"bold",children:h}),(b||p)&&(0,d.jsx)(o.az,{marginStart:1,children:(0,d.jsx)(c.A,{iconOnly:!0,isVerifiedIdentity:b,isVerifiedMerchant:p,size:"xs",surface:"SuggestionReps"})})]}),x&&(0,d.jsx)(o.KJ,{size:"100",children:x})]})]})})}},621556(e,t,n){n.d(t,{H:()=>h,c:()=>p});var r=n(859471),a=n(693154),o=n(353614),i=n(538329),s=n(542975),l=n(430705),c=n(124674),d=n(224723),u=n(713364);function p({query:e,scope:t,autocompleteRequestSurface:n}){let l=(0,i.A)(),d=(0,a.A)(),u=(0,c.A)({allowSearchOnMount:!0,resourceName:"AdvancedTypeaheadResource",resourceOptions:{pin_scope:t,autocomplete_request_surface:n},value:e});return(0,r.useMemo)(()=>{let e=u?.map(e=>{if("query"===e.type){let{modified_filter_eligibility:t,query:n}=e,r=t?(0,s.vQ)(t?.hair_pattern?.eligible_filters?l.bt("Saç şekline göre {{ query }}", "{{ query }} by hair pattern", "SearchSuggestion.HairPatternFilterSuggestion", undefined, true):l.bt("Cilt tonu aralığına göre {{ query }}", "{{ query }} by skin tone range", "SearchSuggestion.SkinToneFilterSuggestion", undefined, true),{query:n}).join(""):n;return{...e,label:r}}return e});if(d.isAuth)return[{items:e||[],type:"blended_autocomplete"}];let t=(0,o.A)(e||[],e=>e.type);return[{items:["query","user"].flatMap(e=>t[e]).filter(e=>!!e),type:"blended_autocomplete"}]},[u,d,l])}function h(e){let{autocompleteRequestSurface:t}=e||{},{group:n}=(0,u.A)({isSyop:0!==t}),{isLoaded:o,data:i}=function(e){let t=(0,a.A)(),{autocompleteRequestSurface:n}=e||{};return(0,l.A)(t.isAuth?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:d.cO.PINS,autocomplete_request_surface:n},noCache:!0}:null)}(e);return(0,r.useMemo)(()=>{if(o&&i)return{items:i.items.slice(0,n?.includes("recent_search")?12:5).map((e,t)=>({...e,resultIndex:t})),isLoaded:o};return{items:[],isLoaded:o}},[o,i,n])}},142381(e,t,n){n.d(t,{AJ:()=>s,Dp:()=>o,GZ:()=>_,N6:()=>x,P0:()=>h,Sr:()=>u,TB:()=>d,WA:()=>a,WC:()=>c,bL:()=>m,gU:()=>y,ik:()=>p,kE:()=>f,mP:()=>l,wj:()=>i,yi:()=>g});var r=n(802209);let a=1048576,o=3,i=20,s=3,l=10,c=50,d=10,u=1200,p=375,h=375/r.$G,m=4096,g="#FFFFFF",_={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"},y=420,x=325,f=768},672908(e,t,n){n.d(t,{A:()=>r});let r={base_grid_item:["aggregatedpindata.pin_tags","buyableproductmetadata.display_active_max_price","buyableproductmetadata.display_active_min_price","buyableproductmetadata.short_description","buyableproductmetadata.title","pin.access","pin.ad_data","pin.ad_destination_url","pin.ad_match_reason","pin.aggregated_pin_data()","pin.alt_text","pin.attribution","pin.carousel_data()","pin.collection_pin()","pin.created_at","pin.debug_info_html","pin.description","pin.domain","pin.dominant_color","pin.embed","pin.grid_title","pin.has_required_attribution_provider","pin.id","pin.image_crop","pin.image_signature","pin.images[170x,236x,474x,736x,orig]","pin.is_downstream_promotion","pin.is_eligible_for_web_closeup","pin.is_prefetch_enabled","pin.is_promoted","pin.is_uploaded","pin.link","pin.link_utm_applicable_and_replaced","pin.promoted_is_removable","pin.promoter()","pin.reaction_counts","pin.rich_summary()","pin.shopping_flags","pin.product_metadata()","product_metadata.shopping_flags","pin.should_open_in_stream","pin.sponsorship","pin.story_pin_data()","pin.story_pin_data_id","pin.title","pin.tracking_params","pin.type","pin.utm_link","pin.videos()","pincarouselslot.details","pincarouselslot.id","pincarouselslot.images[60x60,136x136,170x,236x,474x,564x,736x,600x315,orig]","pincarouselslot.link","pincarouselslot.title","pincarouselslot.videos()","user.ads_only_profile_site","user.full_name","user.image_medium_url","user.image_small_url","user.is_ads_only_profile","user.username","video.id","video.video_list[V_HLSV4,V_HLSV3_WEB,V_HLSV3_MOBILE,V_EXP3,V_EXP4,V_EXP5,V_EXP6,V_EXP7]"]}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/66637.tr-b9609a8fb51f34a2.mjs.map